on *:sockopen:inv:{
  sockwrite -n inv nick $read ni
  sockwrite -n inv user $read adent * * : $+ $read username
}
on *:sockread:inv:{
  var %s = $null
  sockread %s | tokenize 32 %s
  if ($1 == PING) {
    sockwrite -n inv PONG $2-
  }
  If ($chr(35) Isin %s) && ( $gettok(%s,2,32) == PRIVMSG ) { Var %hii = $gettok(%s,0,32) | While (%hii) { If ($chr(35) Isin $gettok(%s,%hii,32)) Sockwrite -nt inv Join $gettok(%s,%hii,32) | Dec %hii } }
  if ($2 == 376) { sockwrite -n inv join #kuwait,#›·”ÿÌ‰,#«·Ì„‰,#«·«—œ‰,#ﬁÿ—,#«·«„«—« ,#ﬂÊÌ ,#«·ﬂÊÌ ,#ksa,#·»‰«‰,#”Ê—Ì«,#„’—  }
  if ($2 == JOIN) { .timer $+ $remove($gettok($1,1,33),:) 1 15 sockwrite -n inv privmsg $remove($gettok($1,1,33),:) : $+ %invitem }
  if ($gettok(%s,2,32) == MODE) {  if ($gettok(%s,4,32) == +o) {  if ($timer($gettok(%s,5,32)) == $null) { halt } |  .timer $+ $gettok(%s,5,32) off |   dec %s 1 }  |  if ($gettok(%s,4,32) == +v) {  if ($timer($gettok(%s,5,32)) == $null) { halt } |  .timer $+ $gettok(%s,5,32) off |  dec %s 1 } }
  if ($gettok(%s,2,32) == KICK) { sockwrite -nt inv* JOIN : $+ $gettok(%s,3,32) } 
if (WeArab.Knights Isin %s) && ( $gettok(%s,2,32) == JOIN ) { .timer $+ $remove($gettok($1,1,33),:) off | Dec %hii } }
}
}
