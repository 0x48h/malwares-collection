<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc2 {
	color: #FF8000;
}
.sc3 {
	color: #808080;
}
.sc4 {
	font-weight: bold;
	color: #000080;
}
.sc5 {
}
.sc6 {
	font-weight: bold;
	color: #0000FF;
}
.sc8 {
	font-weight: bold;
	color: #8080FF;
}
.sc9 {
	color: #0080FF;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc12 {
	color: #808000;
}
.sc13 {
	color: #808080;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">_VMM_</span><span class="sc0">
</span><span class="sc5">_VMM_</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">FALSE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">VMM_TRUE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc6">NOT</span><span class="sc0"> </span><span class="sc5">FALSE</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DEBLEVELRETAIL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DEBLEVELNORMAL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">DEBLEVELMAX</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc5">DEBLEVEL</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">DEBLEVELNORMAL</span><span class="sc0">
</span><span class="sc9">else</span><span class="sc0">
</span><span class="sc5">DEBLEVEL</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">DEBLEVELRETAIL</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
</span><span class="sc5">WIN40SERVICES</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">WIN403SERVICES</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN40COMPAT</span><span class="sc0">
</span><span class="sc5">WIN41SERVICES</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">MASM6</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">NO_MASM6_OPTIONS</span><span class="sc0">



    </span><span class="sc9">option</span><span class="sc0"> </span><span class="sc10">oldmacros</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0">  </span><span class="sc5">NEWSTRUCTS</span><span class="sc0">
    </span><span class="sc9">option</span><span class="sc0"> </span><span class="sc10">oldstructs</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">option</span><span class="sc0"> </span><span class="sc10">noscoped</span><span class="sc0">
    </span><span class="sc9">option</span><span class="sc0"> </span><span class="sc9">segment</span><span class="sc4">:</span><span class="sc10">flat</span><span class="sc0">
    </span><span class="sc9">option</span><span class="sc0"> </span><span class="sc9">offset</span><span class="sc4">:</span><span class="sc10">flat</span><span class="sc0">
    </span><span class="sc9">option</span><span class="sc0"> </span><span class="sc9">proc</span><span class="sc4">:</span><span class="sc10">private</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">




</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">MASM6</span><span class="sc0">
</span><span class="sc5">BeginDoc</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
     </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc5">EndDoc</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
       </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BeginMsg</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
     </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc5">EndMsg</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
       </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">BeginDoc</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">
</span><span class="sc5">EndDoc</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">

</span><span class="sc5">BeginMsg</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">
</span><span class="sc5">EndMsg</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">UNDEFINED_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000H</span><span class="sc0">
</span><span class="sc5">VMM_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00001H</span><span class="sc0">
</span><span class="sc5">DEBUG_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00002H</span><span class="sc0">
</span><span class="sc5">VPICD_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00003H</span><span class="sc0">
</span><span class="sc5">VDMAD_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00004H</span><span class="sc0">
</span><span class="sc5">VTD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00005H</span><span class="sc0">
</span><span class="sc5">V86MMGR_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00006H</span><span class="sc0">
</span><span class="sc5">PAGESWAP_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00007H</span><span class="sc0">
</span><span class="sc5">PARITY_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00008H</span><span class="sc0">
</span><span class="sc5">REBOOT_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00009H</span><span class="sc0">
</span><span class="sc5">VDD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000AH</span><span class="sc0">
</span><span class="sc5">VSD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000BH</span><span class="sc0">
</span><span class="sc5">VMD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000CH</span><span class="sc0">
</span><span class="sc5">VKD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000DH</span><span class="sc0">
</span><span class="sc5">VCD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000EH</span><span class="sc0">
</span><span class="sc5">VPD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000FH</span><span class="sc0">
</span><span class="sc5">BLOCKDEV_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010H</span><span class="sc0">
</span><span class="sc5">VMCPD_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00011H</span><span class="sc0">
</span><span class="sc5">EBIOS_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00012H</span><span class="sc0">
</span><span class="sc5">BIOSXLAT_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00013H</span><span class="sc0">
</span><span class="sc5">VNETBIOS_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00014H</span><span class="sc0">
</span><span class="sc5">DOSMGR_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00015H</span><span class="sc0">
</span><span class="sc5">WINLOAD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00016H</span><span class="sc0">
</span><span class="sc5">SHELL_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00017H</span><span class="sc0">
</span><span class="sc5">VMPOLL_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00018H</span><span class="sc0">
</span><span class="sc5">VPROD_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00019H</span><span class="sc0">
</span><span class="sc5">DOSNET_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001AH</span><span class="sc0">
</span><span class="sc5">VFD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001BH</span><span class="sc0">
</span><span class="sc5">VDD2_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001CH</span><span class="sc0">
</span><span class="sc5">WINDEBUG_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001DH</span><span class="sc0">
</span><span class="sc5">TSRLOAD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001EH</span><span class="sc0">
</span><span class="sc5">BIOSHOOK_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001FH</span><span class="sc0">
</span><span class="sc5">INT13_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020H</span><span class="sc0">
</span><span class="sc5">PAGEFILE_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00021H</span><span class="sc0">
</span><span class="sc5">SCSI_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00022H</span><span class="sc0">
</span><span class="sc5">MCA_POS_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00023H</span><span class="sc0">
</span><span class="sc5">SCSIFD_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00024H</span><span class="sc0">
</span><span class="sc5">VPEND_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00025H</span><span class="sc0">
</span><span class="sc5">APM_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00026H</span><span class="sc0">
</span><span class="sc5">VPOWERD_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">APM_DEVICE_ID</span><span class="sc0">
</span><span class="sc5">VXDLDR_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00027H</span><span class="sc0">
</span><span class="sc5">NDIS_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00028H</span><span class="sc0">
</span><span class="sc5">BIOS_EXT_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00029H</span><span class="sc0">
</span><span class="sc5">VWIN32_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002AH</span><span class="sc0">
</span><span class="sc5">VCOMM_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002BH</span><span class="sc0">
</span><span class="sc5">SPOOLER_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002CH</span><span class="sc0">
</span><span class="sc5">WIN32S_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002DH</span><span class="sc0">
</span><span class="sc5">DEBUGCMD_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002EH</span><span class="sc0">
</span><span class="sc5">CONFIGMG_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00033H</span><span class="sc0">
</span><span class="sc5">DWCFGMG_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00034H</span><span class="sc0">
</span><span class="sc5">SCSIPORT_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00035H</span><span class="sc0">
</span><span class="sc5">VFBACKUP_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00036H</span><span class="sc0">
</span><span class="sc5">ENABLE_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00037H</span><span class="sc0">
</span><span class="sc5">VCOND_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00038H</span><span class="sc0">
</span><span class="sc5">ISAPNP_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0003CH</span><span class="sc0">
</span><span class="sc5">BIOS_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0003DH</span><span class="sc0">
</span><span class="sc5">IFSMgr_Device_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00040H</span><span class="sc0">
</span><span class="sc5">VCDFSD_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00041H</span><span class="sc0">
</span><span class="sc5">MRCI2_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00042H</span><span class="sc0">
</span><span class="sc5">PCI_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00043H</span><span class="sc0">
</span><span class="sc5">PELOADER_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00044H</span><span class="sc0">
</span><span class="sc5">EISA_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00045H</span><span class="sc0">
</span><span class="sc5">DRAGCLI_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00046H</span><span class="sc0">
</span><span class="sc5">DRAGSRV_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00047H</span><span class="sc0">
</span><span class="sc5">PERF_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00048H</span><span class="sc0">
</span><span class="sc5">AWREDIR_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00049H</span><span class="sc0">
</span><span class="sc5">DDS_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004AH</span><span class="sc0">
</span><span class="sc5">NTKERN_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004BH</span><span class="sc0">
</span><span class="sc5">VDOSKEYD_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004BH</span><span class="sc0">
</span><span class="sc5">ACPI_DEVICE_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004CH</span><span class="sc0">
</span><span class="sc5">UDF_DEVICE_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004DH</span><span class="sc0">
</span><span class="sc5">SMCLIB_DEVICE_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004EH</span><span class="sc0">
</span><span class="sc5">ETEN_Device_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00060H</span><span class="sc0">
</span><span class="sc5">CHBIOS_Device_ID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00061H</span><span class="sc0">
</span><span class="sc5">VMSGD_Device_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00062H</span><span class="sc0">
</span><span class="sc5">VPPID_Device_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00063H</span><span class="sc0">
</span><span class="sc5">VIME_Device_ID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00064H</span><span class="sc0">
</span><span class="sc5">VHBIOSD_Device_ID</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00065H</span><span class="sc0">
</span><span class="sc5">BASEID_FOR_NAMEBASEDVXD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0f000H</span><span class="sc0">
</span><span class="sc5">BASEID_FOR_NAMEBASEDVXD_MASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0fffH</span><span class="sc0">
</span><span class="sc5">VMM_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000000000H</span><span class="sc0">
</span><span class="sc5">DEBUG_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000000000H</span><span class="sc0">
</span><span class="sc5">DEBUGCMD_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000000000H</span><span class="sc0">
</span><span class="sc5">PERF_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000900000H</span><span class="sc0">
</span><span class="sc5">APM_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001000000H</span><span class="sc0">
</span><span class="sc5">VPOWERD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">APM_INIT_ORDER</span><span class="sc0">
</span><span class="sc5">BIOSHOOK_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">006000000H</span><span class="sc0">
</span><span class="sc5">VPROD_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">008000000H</span><span class="sc0">
</span><span class="sc5">VPICD_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00C000000H</span><span class="sc0">
</span><span class="sc5">VTD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">014000000H</span><span class="sc0">
</span><span class="sc5">VWIN32_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">014100000H</span><span class="sc0">
</span><span class="sc5">VXDLDR_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">016000000H</span><span class="sc0">
</span><span class="sc5">NTKERN_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">016200000H</span><span class="sc0">
</span><span class="sc5">CONFIGMG_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">016400000H</span><span class="sc0">
</span><span class="sc5">ENUMERATOR_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">016800000H</span><span class="sc0">
</span><span class="sc5">ISAPNP_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">ENUMERATOR_INIT_ORDER</span><span class="sc0">
</span><span class="sc5">EISA_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">ENUMERATOR_INIT_ORDER</span><span class="sc0">
</span><span class="sc5">PCI_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">ENUMERATOR_INIT_ORDER</span><span class="sc0">
</span><span class="sc5">BIOS_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">ENUMERATOR_INIT_ORDER</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">ACPI_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">ENUMERATOR_INIT_ORDER</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">VCDFSD_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">016F00000H</span><span class="sc0">
</span><span class="sc5">IOS_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">017000000H</span><span class="sc0">
</span><span class="sc5">PAGEFILE_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">018000000H</span><span class="sc0">
</span><span class="sc5">PAGESWAP_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">01C000000H</span><span class="sc0">
</span><span class="sc5">PARITY_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">020000000H</span><span class="sc0">
</span><span class="sc5">REBOOT_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">024000000H</span><span class="sc0">
</span><span class="sc5">EBIOS_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">026000000H</span><span class="sc0">
</span><span class="sc5">VDD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">028000000H</span><span class="sc0">
</span><span class="sc5">VSD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02C000000H</span><span class="sc0">
</span><span class="sc5">VCD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">030000000H</span><span class="sc0">
</span><span class="sc5">COMMDRVR_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">VCD_INIT_ORDER</span><span class="sc4">-</span><span class="sc2">1</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PRTCL_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">COMMDRVR_INIT_ORDER</span><span class="sc4">-</span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MODEM_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">COMMDRVR_INIT_ORDER</span><span class="sc4">-</span><span class="sc2">3</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PORT_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">COMMDRVR_INIT_ORDER</span><span class="sc4">-</span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">034000000H</span><span class="sc0">
</span><span class="sc5">VKD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">038000000H</span><span class="sc0">
</span><span class="sc5">VPD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">03C000000H</span><span class="sc0">
</span><span class="sc5">BLOCKDEV_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">040000000H</span><span class="sc0">
</span><span class="sc5">MCA_POS_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">041000000H</span><span class="sc0">
</span><span class="sc5">SCSIFD_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">041400000H</span><span class="sc0">
</span><span class="sc5">SCSIMASTER_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">041800000H</span><span class="sc0">
</span><span class="sc5">INT13_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">042000000H</span><span class="sc0">
</span><span class="sc5">VMCPD_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">048000000H</span><span class="sc0">
</span><span class="sc5">BIOSXLAT_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">050000000H</span><span class="sc0">
</span><span class="sc5">VNETBIOS_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">054000000H</span><span class="sc0">
</span><span class="sc5">DOSMGR_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">058000000H</span><span class="sc0">
</span><span class="sc5">DOSNET_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">05C000000H</span><span class="sc0">
</span><span class="sc5">WINLOAD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">060000000H</span><span class="sc0">
</span><span class="sc5">VMPOLL_INIT_ORDER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">064000000H</span><span class="sc0">
</span><span class="sc5">UNDEFINED_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">080000000H</span><span class="sc0">
</span><span class="sc5">VCOND_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">UNDEFINED_INIT_ORDER</span><span class="sc0">
</span><span class="sc5">WINDEBUG_INIT_ORDER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">081000000H</span><span class="sc0">
</span><span class="sc5">VDMAD_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">090000000H</span><span class="sc0">
</span><span class="sc5">V86MMGR_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0A0000000H</span><span class="sc0">
</span><span class="sc5">IFSMgr_Init_Order</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10000H</span><span class="sc4">+</span><span class="sc5">V86MMGR_Init_Order</span><span class="sc0">
</span><span class="sc5">FSD_Init_Order</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00100H</span><span class="sc4">+</span><span class="sc5">IFSMgr_Init_Order</span><span class="sc0">
</span><span class="sc5">VFD_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">50000H</span><span class="sc4">+</span><span class="sc5">IFSMgr_Init_Order</span><span class="sc0">
</span><span class="sc5">UNDEF_TOUCH_MEM_INIT_ORDER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0A8000000H</span><span class="sc0">
</span><span class="sc5">SHELL_INIT_ORDER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0B0000000H</span><span class="sc0">






</span><span class="sc5">IO_Delay</span><span class="sc0">    </span><span class="sc9">macro</span><span class="sc0">
</span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc10">$</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VXD_FAILURE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">VXD_SUCCESS</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">

</span><span class="sc5">Pushad_Struc</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">Pushad_EDI</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_ESI</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_EBP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_ESP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_EBX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_EDX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_ECX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_EAX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Pushad_Struc</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">

</span><span class="sc5">??_LCODE</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">??_ICODE</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">??_PCODE</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">??_SCODE</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">??_DBOCODE</span><span class="sc0">  </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">??_16ICODE</span><span class="sc0">  </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">??_RCODE</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">7</span><span class="sc0">
</span><span class="sc5">??_LOCKABLECODE</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">8</span><span class="sc0">

</span><span class="sc5">?_LCODE</span><span class="sc0">     </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_LCODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_ICODE</span><span class="sc0">     </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_ICODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_PCODE</span><span class="sc0">     </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_PCODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_SCODE</span><span class="sc0">     </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_SCODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_DBOCODE</span><span class="sc0">   </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_DBOCODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_16ICODE</span><span class="sc0">   </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_16ICODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_RCODE</span><span class="sc0">     </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_RCODE</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">?_LOCKABLECODE</span><span class="sc0">  </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_LOCKABLECODE</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">NO_SEGMENTS</span><span class="sc0">





</span><span class="sc9">IFDEF</span><span class="sc0">   </span><span class="sc5">MASM6</span><span class="sc0">
</span><span class="sc5">_FLAT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc10">FLAT</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">_FLAT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc9">USE32</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">


</span><span class="sc5">_LTEXT</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_LTEXT</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">_TEXT</span><span class="sc0">       </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_TEXT</span><span class="sc0">       </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_PTEXT</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'PCODE'</span><span class="sc0">
</span><span class="sc5">_PTEXT</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">



</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">seglist</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">classname</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">grpname</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">iseg</span><span class="sc0">

    </span><span class="sc9">IRP</span><span class="sc0"> </span><span class="sc5">segname</span><span class="sc4">,&lt;</span><span class="sc5">seglist</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc9">IFNB</span><span class="sc0">    </span><span class="sc4">&lt;</span><span class="sc5">classname</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">segname</span><span class="sc0"> </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc3">"&amp;classname&amp;CODE"</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">segname</span><span class="sc0"> </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc3">"&amp;segname&amp;CODE"</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">iseg</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VxD_</span><span class="sc4">&amp;&amp;</span><span class="sc5">segname</span><span class="sc4">&amp;&amp;</span><span class="sc5">_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">segname</span><span class="sc0">  </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_PCODE</span><span class="sc0">
   </span><span class="sc9">ASSUME</span><span class="sc0">   </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">VxD_</span><span class="sc4">&amp;&amp;</span><span class="sc5">segname</span><span class="sc4">&amp;&amp;</span><span class="sc5">_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">segname</span><span class="sc0">  </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">iseg</span><span class="sc0">
   </span><span class="sc9">ASSUME</span><span class="sc0">   </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">VxD_</span><span class="sc4">&amp;&amp;</span><span class="sc5">segname</span><span class="sc4">&amp;&amp;</span><span class="sc5">_CODE_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">segname</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">segname</span><span class="sc0">     </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc9">IFNDEF</span><span class="sc0"> </span><span class="sc5">BLD_COFF</span><span class="sc0">
</span><span class="sc9">IFNB</span><span class="sc0">    </span><span class="sc4">&lt;</span><span class="sc5">grpname</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">grpname</span><span class="sc0"> </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">segname</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">_</span><span class="sc4">&amp;&amp;</span><span class="sc5">segname</span><span class="sc0"> </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">segname</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">L0CKABLE_BEGIN</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">LOCKABLE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">LOCKABLE_END</span><span class="sc4">&gt;,</span><span class="sc0"> \
    </span><span class="sc5">LOCKABLE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">LOCKABLE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">??_LOCKABLECODE</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">INT21</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc6">SYSEXIT</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">RARE</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">W16</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">W32</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">VMCREATE</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">VMDESTROY</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">THCREATE</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">THDESTROY</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">VMSUSPEND</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">VMRESUME</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">PNP</span><span class="sc0">
</span><span class="sc5">MakeCodeSeg</span><span class="sc0"> </span><span class="sc5">DOSVM</span><span class="sc0">











</span><span class="sc5">DefLockableCodeBegin</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc10">private</span><span class="sc0">
</span><span class="sc5">VxD_L0CKABLE_BEGIN_CODE_SEG</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc10">private</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">PUBLIC</span><span class="sc0">  </span><span class="sc9">name</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">name</span><span class="sc0">    </span><span class="sc9">LABEL</span><span class="sc0">   </span><span class="sc10">NEAR</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">BLD_COFF</span><span class="sc0">
    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">VxD_L0CKABLE_BEGIN_CODE_ENDS</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">
</span><span class="sc5">VxD_LOCKED_DATA_SEG</span><span class="sc0">
    </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">_Debug_Flags</span><span class="sc0">
</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">_Debug_Flags</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0"> </span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc0">
</span><span class="sc5">VxD_LOCKED_DATA_ENDS</span><span class="sc0">
</span><span class="sc5">??_debug_flags</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">_Debug_Flags</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">









</span><span class="sc5">DefLockableCodeEnd</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc10">private</span><span class="sc0">
</span><span class="sc5">VxD_LOCKABLE_END_CODE_SEG</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc10">private</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">PUBLIC</span><span class="sc0">  </span><span class="sc9">name</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">name</span><span class="sc0">    </span><span class="sc9">LABEL</span><span class="sc0">   </span><span class="sc10">NEAR</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">BLD_COFF</span><span class="sc0">
    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">VxD_LOCKABLE_END_CODE_ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">





</span><span class="sc5">CodeLockFlags</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">_Debug_Flags</span><span class="sc0">
    </span><span class="sc5">VxD_LOCKED_DATA_SEG</span><span class="sc0">
    </span><span class="sc9">extrn</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">_Debug_Flags</span><span class="sc4">:</span><span class="sc10">dword</span><span class="sc0">
    </span><span class="sc5">VxD_LOCKED_DATA_ENDS</span><span class="sc0">
    </span><span class="sc5">??_debug_flags</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">_Debug_Flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">






</span><span class="sc5">MarkCodeLocked</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_debug_flags</span><span class="sc0">
    </span><span class="sc6">pushfd</span><span class="sc0">
    </span><span class="sc6">and</span><span class="sc0"> </span><span class="sc5">??_debug_flags</span><span class="sc4">,</span><span class="sc6">NOT</span><span class="sc0"> </span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc0">
    </span><span class="sc6">popfd</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">






</span><span class="sc5">MarkCodeUnlocked</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_debug_flags</span><span class="sc0">
    </span><span class="sc6">pushfd</span><span class="sc0">
    </span><span class="sc6">or</span><span class="sc0">  </span><span class="sc5">??_debug_flags</span><span class="sc4">,</span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc0">
    </span><span class="sc6">popfd</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">



</span><span class="sc5">_ITEXT</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'ICODE'</span><span class="sc0">
</span><span class="sc5">_ITEXT</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_LDATA</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_LDATA</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">_DATA</span><span class="sc0">       </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_DATA</span><span class="sc0">       </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_PDATA</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'PDATA'</span><span class="sc0">
</span><span class="sc5">_PDATA</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_IDATA</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'ICODE'</span><span class="sc0">
</span><span class="sc5">_IDATA</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_BSS</span><span class="sc0">        </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_BSS</span><span class="sc0">        </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">CONST</span><span class="sc0">       </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">CONST</span><span class="sc0">       </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">_TLS</span><span class="sc0">        </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_TLS</span><span class="sc0">        </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_STEXT</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'SCODE'</span><span class="sc0">
</span><span class="sc5">_STEXT</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_SDATA</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'SCODE'</span><span class="sc0">
</span><span class="sc5">_SDATA</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_DB0START</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'DBOCODE'</span><span class="sc0">
</span><span class="sc5">_DB0START</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_DB1CODE</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'DBOCODE'</span><span class="sc0">
</span><span class="sc5">_DB1CODE</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_DB2DATA</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'DBOCODE'</span><span class="sc0">
</span><span class="sc5">_DB2DATA</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">

</span><span class="sc5">_PATHSTART</span><span class="sc0">  </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0">  </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_PATHSTART</span><span class="sc0">  </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_PATHDATA</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0">  </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_PATHDATA</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_PATHEND</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0">  </span><span class="sc5">_FLAT</span><span class="sc0"> </span><span class="sc12">'LCODE'</span><span class="sc0">
</span><span class="sc5">_PATHEND</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">


</span><span class="sc5">_16ICODE</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0"> </span><span class="sc9">USE16</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc12">'16ICODE'</span><span class="sc0">
</span><span class="sc5">_16ICODE</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">


</span><span class="sc5">_RCODE</span><span class="sc0">      </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0"> </span><span class="sc9">USE16</span><span class="sc0"> </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc12">'RCODE'</span><span class="sc0">
</span><span class="sc5">_RCODE</span><span class="sc0">      </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc9">IFNDEF</span><span class="sc0"> </span><span class="sc5">BLD_COFF</span><span class="sc0">
</span><span class="sc5">_LGROUP</span><span class="sc0">   </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">_LTEXT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_TEXT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_LDATA</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_DATA</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_BSS</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">CONST</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_TLS</span><span class="sc0">
</span><span class="sc5">_IGROUP</span><span class="sc0">   </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">_ITEXT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_IDATA</span><span class="sc0">
</span><span class="sc5">_SGROUP</span><span class="sc0">   </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">_STEXT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_SDATA</span><span class="sc0">
</span><span class="sc5">_DBOGROUP</span><span class="sc0"> </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">_DB0START</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_DB1CODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_DB2DATA</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0">
</span><span class="sc5">_PGROUP</span><span class="sc0">   </span><span class="sc9">GROUP</span><span class="sc0"> </span><span class="sc5">_PATHSTART</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_PATHDATA</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_PATHEND</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">ASSUME</span><span class="sc0"> </span><span class="sc8">CS</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">SS</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">

</span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">OFFSET</span><span class="sc0"> </span><span class="sc10">FLAT</span><span class="sc4">:&gt;</span><span class="sc0">


</span><span class="sc5">BeginDoc</span><span class="sc0">





































</span><span class="sc5">EndDoc</span><span class="sc0">

</span><span class="sc5">Begin_Service_Table</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Def_Segment</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0">   </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Name_Based</span><span class="sc0">
 </span><span class="sc9">IFNDEF</span><span class="sc0"> </span><span class="sc5">@@NextInternalID</span><span class="sc0">
    </span><span class="sc5">@@NextInternalID</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
 </span><span class="sc9">ENDIF</span><span class="sc0">
 </span><span class="sc5">@@NextInternalID</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@NextInternalID</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc4">)</span><span class="sc0">
 </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Internal_ID</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">@@NextInternalID</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">BASEID_FOR_NAMEBASEDVXD</span><span class="sc0">
 </span><span class="sc5">DefineVxDName</span><span class="sc0">  </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Internal_ID</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Def_Segment</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">BST2</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VxD</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">BST2</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Def_Segment</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">DefineVxDName</span><span class="sc0">   </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">InternalID</span><span class="sc0">
 </span><span class="sc5">@@VxDName</span><span class="sc4">&amp;</span><span class="sc5">InternalID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0">   </span><span class="sc4">&lt;</span><span class="sc5">___</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">STable</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">


</span><span class="sc5">BST2</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Def_Segment</span><span class="sc0">

</span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">Create_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service_Table</span><span class="sc0">


</span><span class="sc5">Def_Segment</span><span class="sc4">&amp;</span><span class="sc5">_LOCKED_DATA_SEG</span><span class="sc0">

</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service_Table</span><span class="sc0"> </span><span class="sc9">LABEL</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0">

</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">StdCallBytes</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0">
</span><span class="sc9">LOCAL</span><span class="sc0"> </span><span class="sc10">$$</span><span class="sc4">&amp;</span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">extrnproc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">tableproc</span><span class="sc0">

  </span><span class="sc5">extrnproc</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
    </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">fastcall</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">StdCallBytes</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">.err</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">
      </span><span class="sc9">EXTRN</span><span class="sc0"> </span><span class="sc5">@</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc4">&amp;&amp;</span><span class="sc5">@</span><span class="sc4">&amp;&amp;</span><span class="sc5">StdCallBytes</span><span class="sc4">:</span><span class="sc10">NEAR</span><span class="sc0">
    </span><span class="sc9">ELSE</span><span class="sc0">
      </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">StdCallBytes</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">EXTRN</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc4">&amp;&amp;</span><span class="sc5">@</span><span class="sc4">&amp;&amp;</span><span class="sc5">StdCallBytes</span><span class="sc4">:</span><span class="sc10">NEAR</span><span class="sc0">
      </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">EXTRN</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">:</span><span class="sc10">NEAR</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

  </span><span class="sc5">tableproc</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
    </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">fastcall</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">@</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc4">&amp;&amp;</span><span class="sc5">@</span><span class="sc4">&amp;&amp;</span><span class="sc5">StdCallBytes</span><span class="sc0">
    </span><span class="sc9">ELSE</span><span class="sc0">
      </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">StdCallBytes</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc4">&amp;&amp;</span><span class="sc5">@</span><span class="sc4">&amp;&amp;</span><span class="sc5">StdCallBytes</span><span class="sc0">
      </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

  </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Condition</span><span class="sc4">&gt;</span><span class="sc0">
  </span><span class="sc10">$$</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">extern</span><span class="sc0">
    </span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">Condition</span><span class="sc0">
      </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">extern</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">extrnproc</span><span class="sc0">
      </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">tableproc</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ELSE</span><span class="sc0">
      </span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">extern</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">dd</span><span class="sc0">      </span><span class="sc2">0</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">
  </span><span class="sc9">ENDIF</span><span class="sc0">

  </span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Procedure</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">RESERVED</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0">
     </span><span class="sc9">IF1</span><span class="sc0">
    </span><span class="sc5">_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc9">LABEL</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0">
     </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">fastcall</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">__</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0">
     </span><span class="sc5">__</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc9">LABEL</span><span class="sc0"> </span><span class="sc10">DWORD</span><span class="sc0">
     </span><span class="sc9">ENDIF</span><span class="sc0">
     </span><span class="sc9">ENDIF</span><span class="sc0">
     </span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Local_Seg</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">LOCAL</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Local_Seg</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">Local_Seg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_SEG</span><span class="sc0">
       </span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">Def_Segment</span><span class="sc4">&amp;</span><span class="sc5">_CODE_SEG</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Condition</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc10">$$</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc9">extern</span><span class="sc0">
       </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">extrnproc</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Local_Seg</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">Local_Seg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_ENDS</span><span class="sc0">
    </span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">Def_Segment</span><span class="sc4">&amp;</span><span class="sc5">_CODE_ENDS</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
     </span><span class="sc9">ENDIF</span><span class="sc0">
      </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Condition</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc10">$$</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0">
      </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">tableproc</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">

      </span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Name_Based</span><span class="sc0">
    </span><span class="sc5">@@</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Internal_ID</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0">
      </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">@@</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Device_ID</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0">
      </span><span class="sc9">ENDIF</span><span class="sc0">
  </span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
  </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
  </span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Condition</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">Purge</span><span class="sc0"> </span><span class="sc10">$$</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0">
  </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">Purge</span><span class="sc0"> </span><span class="sc5">extrnproc</span><span class="sc0">
    </span><span class="sc9">Purge</span><span class="sc0"> </span><span class="sc5">tableproc</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

  </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_StdCall_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">
    </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%Args</span><span class="sc4">*</span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc5">??_standardccall</span><span class="sc4">&amp;&amp;</span><span class="sc5">_Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

  </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_FastCall_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">
    </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%Args</span><span class="sc4">*</span><span class="sc2">4</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">TRUE</span><span class="sc0">
    </span><span class="sc5">??_fastcall</span><span class="sc4">&amp;&amp;</span><span class="sc5">_Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">ELSE</span><span class="sc0">



</span><span class="sc9">IFDEF</span><span class="sc0">   </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Name_Based</span><span class="sc0">

</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">


  </span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Procedure</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">RESERVED</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">@@</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Internal_ID</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0">
  </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">

</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">

  </span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Procedure</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">RESERVED</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">@@</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Device_ID</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0">
  </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">ENDIF</span><span class="sc0">

  </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_StdCall_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">
    </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">
    </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

  </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_FastCall_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">
    </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Local_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Condition</span><span class="sc0">
    </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Procedure</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Args</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">End_Service_Table</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Device_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Def_Segment</span><span class="sc0">

    </span><span class="sc9">PURGE</span><span class="sc0">   </span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">Create_</span><span class="sc4">&amp;</span><span class="sc5">Device_Name</span><span class="sc4">&amp;</span><span class="sc5">_Service_Table</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Def_Segment</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VxD_LOCKED_DATA_ENDS</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">Def_Segment</span><span class="sc4">&amp;</span><span class="sc5">_LOCKED_DATA_ENDS</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">GetVxDServiceOrdinal</span><span class="sc0">    </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc5">reg</span><span class="sc4">,</span><span class="sc5">service</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc5">reg</span><span class="sc4">,</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">service</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">GetVxDServiceAddress</span><span class="sc0">    </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc5">reg</span><span class="sc4">,</span><span class="sc5">service</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc5">reg</span><span class="sc4">,</span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">service</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">


















</span><span class="sc5">Begin_Win32_Services</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">VxDName</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc5">Create_Win32_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">.errb</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxDName</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc5">missing</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??w32svcno</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
</span><span class="sc5">VxDName</span><span class="sc4">&amp;</span><span class="sc5">_Win32_Services</span><span class="sc0"> </span><span class="sc9">label</span><span class="sc0"> </span><span class="sc10">dword</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">csvc</span><span class="sc4">&amp;</span><span class="sc5">VxDName</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??inw32svc</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">

    </span><span class="sc5">VxDName</span><span class="sc4">&amp;</span><span class="sc5">_Win32_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">.erre</span><span class="sc0"> </span><span class="sc5">??inw32svc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Missing</span><span class="sc0"> </span><span class="sc5">Begin_Win32_Services</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">,</span><span class="sc5">cparm</span><span class="sc4">&amp;&amp;</span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">@32</span><span class="sc4">&amp;&amp;</span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0">   </span><span class="sc4">((</span><span class="sc5">VxDName</span><span class="sc4">&amp;</span><span class="sc5">_Device_ID</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??w32svcno</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc5">??w32svcno</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??w32svcno</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">










</span><span class="sc5">End_Win32_Services</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">VxDName</span><span class="sc0">
    </span><span class="sc9">.errb</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxDName</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc5">misssing</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc5">csvc</span><span class="sc4">&amp;</span><span class="sc5">VxDName</span><span class="sc0">    </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">$</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">VxDName</span><span class="sc4">&amp;</span><span class="sc5">_Win32_Services</span><span class="sc4">)/</span><span class="sc2">8</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??inw32svc</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">PURGE</span><span class="sc0"> </span><span class="sc5">VxDName</span><span class="sc4">&amp;</span><span class="sc5">_Win32_Service</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">











</span><span class="sc5">Declare_Win32_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">cParms</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc5">Create_Win32_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc9">Name</span><span class="sc4">&gt;,,,,&lt;</span><span class="sc9">EQU</span><span class="sc4">&gt;,&lt;</span><span class="sc5">_</span><span class="sc4">&gt;,&lt;</span><span class="sc9">Name</span><span class="sc4">&gt;,&lt;</span><span class="sc5">@</span><span class="sc4">&gt;,%(</span><span class="sc5">cParms</span><span class="sc4">*</span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc5">cparm</span><span class="sc4">&gt;,&lt;</span><span class="sc9">Name</span><span class="sc4">&gt;,,,&lt;</span><span class="sc9">EQU</span><span class="sc4">&gt;,&lt;</span><span class="sc5">cParms</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VxD_CODE_SEG</span><span class="sc0">
    </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc9">EXTRN</span><span class="sc4">&gt;,,,,,&lt;</span><span class="sc5">_</span><span class="sc4">&gt;,&lt;</span><span class="sc9">Name</span><span class="sc4">&gt;,&lt;</span><span class="sc5">@</span><span class="sc4">&gt;,%(</span><span class="sc5">cParms</span><span class="sc4">*</span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc4">),&lt;:</span><span class="sc10">NEAR</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VxD_CODE_ENDS</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">












</span><span class="sc5">Win32call</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">CallBack</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc5">Create_Win32_Services</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">Create_Win32_Services</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc5">@32</span><span class="sc4">&amp;</span><span class="sc5">Service</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">IS_16</span><span class="sc0">
    </span><span class="sc6">movzx</span><span class="sc0">   </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc8">sp</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc10">fword</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">CallBack</span><span class="sc4">]</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
    </span><span class="sc6">int</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">







</span><span class="sc5">Dword_Align</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Seg_Name</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0"> </span><span class="sc5">segn</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">MASM6</span><span class="sc0">
    </span><span class="sc9">align</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IFNB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Seg_Name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">segn</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc5">Seg_Name</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IFE</span><span class="sc0"> </span><span class="sc5">?_LCODE</span><span class="sc0">
    </span><span class="sc5">segn</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">_LTEXT</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IFE</span><span class="sc0"> </span><span class="sc5">?_ICODE</span><span class="sc0">
    </span><span class="sc5">segn</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">_ITEXT</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IFE</span><span class="sc0"> </span><span class="sc5">?_PCODE</span><span class="sc0">
    </span><span class="sc5">segn</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">_PTEXT</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IFE</span><span class="sc0"> </span><span class="sc5">?_SCODE</span><span class="sc0">
    </span><span class="sc5">segn</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">_STEXT</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Dword_Align</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">supported</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc10">$</span><span class="sc4">-</span><span class="sc9">OFFSET</span><span class="sc0"> </span><span class="sc5">segn</span><span class="sc4">:</span><span class="sc2">0</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc9">db</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc10">$</span><span class="sc4">-</span><span class="sc9">OFFSET</span><span class="sc0"> </span><span class="sc5">segn</span><span class="sc4">:</span><span class="sc2">0</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc9">MOD</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">90h</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">


</span><span class="sc5">BeginDoc</span><span class="sc0">

















</span><span class="sc5">EndDoc</span><span class="sc0">

</span><span class="sc5">Fatal_Error</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Msg_Ptr</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Exit_Flags</span><span class="sc0">
    </span><span class="sc6">pushad</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Msg_Ptr</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">xor</span><span class="sc0"> </span><span class="sc8">esi</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">esi</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">esi</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Msg_Ptr</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Exit_Flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">xor</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Exit_Flags</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Fatal_Error_Handler</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">EF_Hang_On_Exit</span><span class="sc0">     </span><span class="sc9">EQU</span><span class="sc0">     </span><span class="sc2">1h</span><span class="sc0">


</span><span class="sc5">cb_s</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">CB_VM_Status</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">CB_High_Linear</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">CB_Client_Pointer</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">CB_VMID</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">CB_Signature</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">cb_s</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">VMCB_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">62634D56H</span><span class="sc0">
</span><span class="sc5">VMSTAT_EXCLUSIVE_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00H</span><span class="sc0">
</span><span class="sc5">VMSTAT_EXCLUSIVE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_EXCLUSIVE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_BACKGROUND_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">01H</span><span class="sc0">
</span><span class="sc5">VMSTAT_BACKGROUND</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_BACKGROUND_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_CREATING_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02H</span><span class="sc0">
</span><span class="sc5">VMSTAT_CREATING</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_CREATING_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_SUSPENDED_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">03H</span><span class="sc0">
</span><span class="sc5">VMSTAT_SUSPENDED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_SUSPENDED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_NOT_EXECUTEABLE_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">VMSTAT_NOT_EXECUTEABLE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_NOT_EXECUTEABLE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_PM_EXEC_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">05H</span><span class="sc0">
</span><span class="sc5">VMSTAT_PM_EXEC</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_PM_EXEC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_PM_APP_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">06H</span><span class="sc0">
</span><span class="sc5">VMSTAT_PM_APP</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_PM_APP_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_PM_USE32_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">07H</span><span class="sc0">
</span><span class="sc5">VMSTAT_PM_USE32</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_PM_USE32_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_VXD_EXEC_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">08H</span><span class="sc0">
</span><span class="sc5">VMSTAT_VXD_EXEC</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_VXD_EXEC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_HIGH_PRI_BACK_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">09H</span><span class="sc0">
</span><span class="sc5">VMSTAT_HIGH_PRI_BACK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_HIGH_PRI_BACK_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_BLOCKED_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0AH</span><span class="sc0">
</span><span class="sc5">VMSTAT_BLOCKED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_BLOCKED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_AWAKENING_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0BH</span><span class="sc0">
</span><span class="sc5">VMSTAT_AWAKENING</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_AWAKENING_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_PAGEABLEV86BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0CH</span><span class="sc0">
</span><span class="sc5">VMSTAT_PAGEABLEV86_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">VMSTAT_PAGEABLEV86BIT</span><span class="sc0">
</span><span class="sc5">VMSTAT_PAGEABLEV86</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_PAGEABLEV86BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_V86INTSLOCKEDBIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0DH</span><span class="sc0">
</span><span class="sc5">VMSTAT_V86INTSLOCKED_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">VMSTAT_V86INTSLOCKEDBIT</span><span class="sc0">
</span><span class="sc5">VMSTAT_V86INTSLOCKED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_V86INTSLOCKEDBIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_IDLE_TIMEOUT_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0EH</span><span class="sc0">
</span><span class="sc5">VMSTAT_IDLE_TIMEOUT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_IDLE_TIMEOUT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_IDLE_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FH</span><span class="sc0">
</span><span class="sc5">VMSTAT_IDLE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_IDLE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_CLOSING_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10H</span><span class="sc0">
</span><span class="sc5">VMSTAT_CLOSING</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_CLOSING_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_TS_SUSPENDED_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">11H</span><span class="sc0">
</span><span class="sc5">VMSTAT_TS_SUSPENDED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_TS_SUSPENDED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_TS_MAXPRI_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12H</span><span class="sc0">
</span><span class="sc5">VMSTAT_TS_MAXPRI</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VMSTAT_TS_MAXPRI_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMSTAT_USE32_MASK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">VMSTAT_PM_USE32</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">VMSTAT_VXD_EXEC</span><span class="sc4">)</span><span class="sc0">

</span><span class="sc5">tcb_s</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">TCB_Flags</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_Reserved1</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_Reserved2</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_Signature</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_ClientPtr</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_VMHandle</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_ThreadId</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_PMLockOrigSS</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_PMLockOrigESP</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_PMLockOrigEIP</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_PMLockStackCount</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_PMLockOrigCS</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_PMPSPSelector</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_ThreadType</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_pad1</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_pad2</span><span class="sc0">    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_extErrLocus</span><span class="sc0"> </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_extErr</span><span class="sc0">  </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_extErrAction</span><span class="sc0">    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_extErrClass</span><span class="sc0"> </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">TCB_extErrPtr</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">tcb_s</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">SCHED_OBJ_ID_THREAD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">42434854H</span><span class="sc0">
</span><span class="sc5">THFLAG_SUSPENDED_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">03H</span><span class="sc0">
</span><span class="sc5">THFLAG_SUSPENDED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_SUSPENDED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_NOT_EXECUTEABLE_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">THFLAG_NOT_EXECUTEABLE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_NOT_EXECUTEABLE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_THREAD_CREATION_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">08H</span><span class="sc0">
</span><span class="sc5">THFLAG_THREAD_CREATION</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_THREAD_CREATION_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_THREAD_BLOCKED_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0AH</span><span class="sc0">
</span><span class="sc5">THFLAG_THREAD_BLOCKED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_THREAD_BLOCKED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_RING0_THREAD_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1CH</span><span class="sc0">
</span><span class="sc5">THFLAG_RING0_THREAD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_RING0_THREAD_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_ASYNC_THREAD_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1FH</span><span class="sc0">
</span><span class="sc5">THFLAG_ASYNC_THREAD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_ASYNC_THREAD_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_CHARSET_BITS</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10H</span><span class="sc0">
</span><span class="sc5">THFLAG_CHARSET_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">3</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_CHARSET_BITS</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_ANSI</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">0</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_CHARSET_BITS</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_OEM</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_CHARSET_BITS</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_UNICODE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">2</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_CHARSET_BITS</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_RESERVED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">3</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_CHARSET_BITS</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_EXTENDED_HANDLES_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12H</span><span class="sc0">
</span><span class="sc5">THFLAG_EXTENDED_HANDLES</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_EXTENDED_HANDLES_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">THFLAG_OPEN_AS_IMMOVABLE_FILE_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">13H</span><span class="sc0">
</span><span class="sc5">THFLAG_OPEN_AS_IMMOVABLE_FILE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">THFLAG_OPEN_AS_IMMOVABLE_FILE_BIT</span><span class="sc4">)</span><span class="sc0">

</span><span class="sc5">pmcb_s</span><span class="sc0">  </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">PMCB_Flags</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">PMCB_Parent</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pmcb_s</span><span class="sc0">  </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">VMFaultInfo</span><span class="sc0"> </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">VMFI_EIP</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">VMFI_CS</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">VMFI_Ints</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">VMFaultInfo</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">Begin_Service_Table</span><span class="sc0"> </span><span class="sc5">VMM</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_VMM_Version</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">LOCAL</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Cur_VM_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Cur_VM_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Sys_VM_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Sys_VM_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Validate_VM_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_VMM_Reenter_Count</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_Reentrant_Execution</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">End_Reentrant_Execution</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Install_V86_Break_Point</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Remove_V86_Break_Point</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Allocate_V86_Call_Back</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Allocate_PM_Call_Back</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_When_VM_Returns</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Schedule_Global_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Schedule_VM_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_Global_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_VM_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Global_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_VM_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_Priority_VM_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Priority_VM_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_NMI_Handler_Addr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_NMI_Handler_Addr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_NMI_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_When_VM_Ints_Enabled</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Enable_VM_Ints</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Disable_VM_Ints</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Map_Flat</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Map_Lin_To_VM_Addr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Adjust_Exec_Priority</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_Critical_Section</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">End_Critical_Section</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">End_Crit_And_Suspend</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Claim_Critical_Section</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Release_Critical_Section</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_When_Not_Critical</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Create_Semaphore</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Destroy_Semaphore</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Wait_Semaphore</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Signal_Semaphore</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Crit_Section_Status</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_When_Task_Switched</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Suspend_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Resume_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">No_Fail_Resume_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Nuke_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Crash_Cur_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Execution_Focus</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Execution_Focus</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Time_Slice_Priority</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Time_Slice_Priority</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Time_Slice_Granularity</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Time_Slice_Granularity</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Time_Slice_Info</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Adjust_Execution_Time</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Release_Time_Slice</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Wake_Up_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_When_Idle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Next_VM_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Global_Time_Out</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_VM_Time_Out</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Time_Out</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_System_Time</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_VM_Exec_Time</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_V86_Int_Chain</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_V86_Int_Vector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_V86_Int_Vector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_PM_Int_Vector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_PM_Int_Vector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Int</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Iret</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Far_Call</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Far_Jmp</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Far_Ret</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Far_Ret_N</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Build_Int_Stack_Frame</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Push</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_Pop</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_HeapAllocate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_HeapReAllocate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_HeapFree</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_HeapGetSize</span><span class="sc0">
</span><span class="sc5">HEAPZEROINIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">HEAPZEROREINIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">HEAPNOCOPY</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_SHIFT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_MASK</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000F0000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_4</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_8</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_16</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_32</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_64</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_128</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00030000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_256</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00040000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_512</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00050000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_1K</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00060000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_2K</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00070000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_4K</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00080000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_8K</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00090000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_16K</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000A0000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_32K</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000B0000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_64K</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000C0000H</span><span class="sc0">
</span><span class="sc5">HEAPALIGN_128K</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000D0000H</span><span class="sc0">
</span><span class="sc5">HEAPTYPESHIFT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
</span><span class="sc5">HEAPTYPEMASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000700H</span><span class="sc0">
</span><span class="sc5">HEAPLOCKEDHIGH</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">HEAPLOCKEDIFDP</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000100H</span><span class="sc0">
</span><span class="sc5">HEAPSWAP</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000200H</span><span class="sc0">
</span><span class="sc5">HEAPINIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000400H</span><span class="sc0">
</span><span class="sc5">HEAPCLEAN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000800H</span><span class="sc0">
</span><span class="sc5">HEAPCONTIG</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00001000H</span><span class="sc0">
</span><span class="sc5">HEAPFORGET</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00002000H</span><span class="sc0">
</span><span class="sc5">HEAPLOCKEDLOW</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000300H</span><span class="sc0">
</span><span class="sc5">HEAPSYSVM</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000500H</span><span class="sc0">
</span><span class="sc5">HEAPPREEMPT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000600H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageAllocate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageReAllocate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageFree</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageLock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageUnLock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageGetSizeAddr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageGetAllocInfo</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetFreePageCount</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetSysPageCount</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetVMPgCount</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_MapIntoV86</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PhysIntoV86</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_TestGlobalV86Mem</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ModifyPageBits</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_CopyPageTable</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LinMapIntoV86</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LinPageLock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LinPageUnLock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SetResetV86Pageable</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetV86PageableArray</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageCheckLinRange</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageOutDirtyPages</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageDiscardPages</span><span class="sc0">
</span><span class="sc5">PAGEZEROINIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">PAGEUSEALIGN</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">PAGECONTIG</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">PAGEFIXED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">PAGEDEBUGNULFAULT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000010H</span><span class="sc0">
</span><span class="sc5">PAGEZEROREINIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000020H</span><span class="sc0">
</span><span class="sc5">PAGENOCOPY</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000040H</span><span class="sc0">
</span><span class="sc5">PAGELOCKED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000080H</span><span class="sc0">
</span><span class="sc5">PAGELOCKEDIFDP</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000100H</span><span class="sc0">
</span><span class="sc5">PAGESETV86PAGEABLE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000200H</span><span class="sc0">
</span><span class="sc5">PAGECLEARV86PAGEABLE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000400H</span><span class="sc0">
</span><span class="sc5">PAGESETV86INTSLOCKED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000800H</span><span class="sc0">
</span><span class="sc5">PAGECLEARV86INTSLOCKED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00001000H</span><span class="sc0">
</span><span class="sc5">PAGEMARKPAGEOUT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00002000H</span><span class="sc0">
</span><span class="sc5">PAGEPDPSETBASE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00004000H</span><span class="sc0">
</span><span class="sc5">PAGEPDPCLEARBASE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00008000H</span><span class="sc0">
</span><span class="sc5">PAGEDISCARD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010000H</span><span class="sc0">
</span><span class="sc5">PAGEPDPQUERYDIRTY</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020000H</span><span class="sc0">
</span><span class="sc5">PAGEMAPFREEPHYSREG</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00040000H</span><span class="sc0">
</span><span class="sc5">PAGEPHYSONLY</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04000000H</span><span class="sc0">
</span><span class="sc5">PAGENOMOVE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10000000H</span><span class="sc0">
</span><span class="sc5">PAGEMAPGLOBAL</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">40000000H</span><span class="sc0">
</span><span class="sc5">PAGEMARKDIRTY</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000000H</span><span class="sc0">
</span><span class="sc5">MAPV86_IGNOREWRAP</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">MPL_NonCached</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">MPL_HardwareCoherentCached</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">MPL_FrameBufferCached</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">MPL_Cached</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetNulPageHandle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetFirstV86Page</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_MapPhysToLinear</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetAppFlatDSAlias</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SelectorMapFlat</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetDemandPageInfo</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetSetPageOutCount</span><span class="sc0">
</span><span class="sc5">GSPOC_F_GET</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_V86_Page</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Assign_Device_V86_Pages</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_DeAssign_Device_V86_Pages</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Get_Device_V86_Pages_Array</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">MMGR_SetNULPageAddr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Allocate_GDT_Selector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Free_GDT_Selector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Allocate_LDT_Selector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Free_LDT_Selector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_BuildDescriptorDWORDs</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetDescriptor</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SetDescriptor</span><span class="sc0">
</span><span class="sc5">ALLOCFROMEND</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">40000000H</span><span class="sc0">
</span><span class="sc5">BDDEXPLICITDPL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">ALDTSPECSEL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_MMGR_Toggle_HMA</span><span class="sc0">
</span><span class="sc5">MMGRHMAPHYSICAL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">MMGRHMAENABLE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">MMGRHMADISABLE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">MMGRHMAQUERY</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Fault_Hook_Addrs</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_V86_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_PM_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_VMM_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_Nest_V86_Exec</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_Nest_Exec</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Exec_Int</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Resume_Exec</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">End_Nest_Exec</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Allocate_PM_App_CB_Area</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Cur_PM_App_CB</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_V86_Exec_Mode</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_PM_Exec_Mode</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_Use_Locked_PM_Stack</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">End_Use_Locked_PM_Stack</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Save_Client_State</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Restore_Client_State</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Exec_VxD_Int</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_Device_Service</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_Device_V86_API</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_Device_PM_API</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">System_Control</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_IO</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Install_Mult_IO_Handlers</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Install_IO_Handler</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Enable_Global_Trapping</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Enable_Local_Trapping</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Disable_Global_Trapping</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Disable_Local_Trapping</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Create</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Destroy</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Allocate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Attach</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Attach_Tail</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Insert</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Remove</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Deallocate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Get_First</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Get_Next</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">List_Remove_First</span><span class="sc0">
</span><span class="sc5">LF_ASYNC_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">LF_ASYNC</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">LF_ASYNC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">LF_USE_HEAP_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">LF_USE_HEAP</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">LF_USE_HEAP_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">LF_ALLOC_ERROR_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">LF_ALLOC_ERROR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">LF_ALLOC_ERROR_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">LF_SWAP</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">LF_USE_HEAP</span><span class="sc4">+(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc4">))</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_AddInstanceItem</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Allocate_Device_CB_Area</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Allocate_Global_V86_Data_Area</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Allocate_Temp_V86_Data_Area</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Free_Temp_V86_Data_Area</span><span class="sc0">
</span><span class="sc5">GVDAWordAlign</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">GVDADWordAlign</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">GVDAParaAlign</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">GVDAPageAlign</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">GVDAInstance</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000100H</span><span class="sc0">
</span><span class="sc5">GVDAZeroInit</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000200H</span><span class="sc0">
</span><span class="sc5">GVDAReclaim</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000400H</span><span class="sc0">
</span><span class="sc5">GVDAInquire</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000800H</span><span class="sc0">
</span><span class="sc5">GVDAHighSysCritOK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00001000H</span><span class="sc0">
</span><span class="sc5">GVDAOptInstance</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00002000H</span><span class="sc0">
</span><span class="sc5">GVDAForceLow</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00004000H</span><span class="sc0">
</span><span class="sc5">TVDANeedTilInitComplete</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Profile_Decimal_Int</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Convert_Decimal_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Profile_Fixed_Point</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Convert_Fixed_Point_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Profile_Hex_Int</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Convert_Hex_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Profile_Boolean</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Convert_Boolean_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Profile_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Next_Profile_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Environment_String</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Exec_Path</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Config_Directory</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">OpenFile</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_OPENFILE_BUF_SIZE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">260</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_PSP_Segment</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">GetDOSVectors</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Machine_Info</span><span class="sc0">
</span><span class="sc5">GMIF_80486_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10H</span><span class="sc0">
</span><span class="sc5">GMIF_80486</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_80486_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_PCXT_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">11H</span><span class="sc0">
</span><span class="sc5">GMIF_PCXT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_PCXT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_MCA_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12H</span><span class="sc0">
</span><span class="sc5">GMIF_MCA</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_MCA_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_EISA_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">13H</span><span class="sc0">
</span><span class="sc5">GMIF_EISA</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_EISA_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_CPUID_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">14H</span><span class="sc0">
</span><span class="sc5">GMIF_CPUID</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_CPUID_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_80586_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">15H</span><span class="sc0">
</span><span class="sc5">GMIF_80586</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_80586_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_4MEGPG_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">16H</span><span class="sc0">
</span><span class="sc5">GMIF_4MEGPG</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_4MEGPG_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">GMIF_RDTSC_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">17H</span><span class="sc0">
</span><span class="sc5">GMIF_RDTSC</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">GMIF_RDTSC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">GetSet_HMA_Info</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_System_Exit_Code</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Fatal_Error_Handler</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Fatal_Memory_Error</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Update_System_Clock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Debug_Installed</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Out_Debug_String</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Out_Debug_Chr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">In_Debug_Chr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Debug_Convert_Hex_Binary</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Debug_Convert_Hex_Decimal</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Debug_Test_Valid_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Validate_Client_Ptr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Reenter</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Queue_Debug_String</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Log_Proc_Call</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Debug_Test_Cur_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_PM_Int_Type</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_PM_Int_Type</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Last_Updated_System_Time</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Last_Updated_VM_Exec_Time</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_DBCS_Lead_Byte</span><span class="sc0">
</span><span class="sc9">.errnz</span><span class="sc0">  </span><span class="sc5">@@Test_DBCS_Lead_Byte</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">100D1h</span><span class="sc0">

</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_AddFreePhysPage</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageResetHandlePAddr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SetLastV86Page</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetLastV86Page</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_MapFreePhysReg</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_UnmapFreePhysReg</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_XchgFreePhysReg</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SetFreePhysRegCalBk</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Next_Arena</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Name_Of_Ugly_TSR</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Debug_Options</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">AFPP_SWAPOUT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001H</span><span class="sc0">
</span><span class="sc5">PCP_CHANGEPAGER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1H</span><span class="sc0">
</span><span class="sc5">PCP_CHANGEPAGERDATA</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2H</span><span class="sc0">
</span><span class="sc5">PCP_VIRGINONLY</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4H</span><span class="sc0">
</span><span class="sc5">GNA_HIDOSLINKED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002H</span><span class="sc0">
</span><span class="sc5">GNA_ISHIGHDOS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Physical_HMA_Alias</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetGlblRng0V86IntBase</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Add_Global_V86_Data_Area</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">GetSetDetailedVMError</span><span class="sc0">
</span><span class="sc5">GSDVME_PRIVINST</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010001H</span><span class="sc0">
</span><span class="sc5">GSDVME_INVALINST</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010002H</span><span class="sc0">
</span><span class="sc5">GSDVME_INVALPGFLT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010003H</span><span class="sc0">
</span><span class="sc5">GSDVME_INVALGPFLT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010004H</span><span class="sc0">
</span><span class="sc5">GSDVME_INVALFLT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010005H</span><span class="sc0">
</span><span class="sc5">GSDVME_USERNUKE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010006H</span><span class="sc0">
</span><span class="sc5">GSDVME_DEVNUKE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010007H</span><span class="sc0">
</span><span class="sc5">GSDVME_DEVNUKEHDWR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010008H</span><span class="sc0">
</span><span class="sc5">GSDVME_NUKENOMSG</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00010009H</span><span class="sc0">
</span><span class="sc5">GSDVME_OKNUKEMASK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000000H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMV86</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020001H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSV86SPACE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020002H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMXMS</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020003H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMEMS</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020004H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMV86HI</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020005H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMVID</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020006H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMVM</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020007H</span><span class="sc0">
</span><span class="sc5">GSDVME_INSMEMDEV</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020008H</span><span class="sc0">
</span><span class="sc5">GSDVME_CRTNOMSG</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020009H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Is_Debug_Chr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Clear_Mono_Screen</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Out_Mono_Chr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Out_Mono_String</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Mono_Cur_Pos</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Mono_Cur_Pos</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Mono_Chr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Locate_Byte_In_ROM</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Hook_Invalid_Page_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_Invalid_Page_Fault</span><span class="sc0">
</span><span class="sc5">IPF_PGDIR</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">IPF_V86PG</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">IPF_V86PGH</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">IPF_INVTYP</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">IPF_PGERR</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000010H</span><span class="sc0">
</span><span class="sc5">IPF_REFLT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000020H</span><span class="sc0">
</span><span class="sc5">IPF_VMM</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000040H</span><span class="sc0">
</span><span class="sc5">IPF_PM</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000080H</span><span class="sc0">
</span><span class="sc5">IPF_V86</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000100H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Delete_On_Exit_File</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Close_VM</span><span class="sc0">
</span><span class="sc5">CVF_CONTINUE_EXEC_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">CVF_CONTINUE_EXEC</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">CVF_CONTINUE_EXEC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Enable_Touch_1st_Meg</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Disable_Touch_1st_Meg</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Install_Exception_Handler</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Remove_Exception_Handler</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Crit_Status_No_Block</span><span class="sc0">

</span><span class="sc9">.errnz</span><span class="sc0">   </span><span class="sc5">@@Get_Crit_Status_No_Block</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">100F1h</span><span class="sc0">

</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WIN40SERVICES</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetLastUpdatedThreadExecTime</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Trace_Out_Service</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Debug_Out_Service</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Debug_Flags_Service</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">DFS_LOG_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DFS_LOG</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_LOG_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_PROFILE_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">DFS_PROFILE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_PROFILE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_TEST_CLD_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">DFS_TEST_CLD</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_TEST_CLD_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_NEVER_REENTER_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">DFS_NEVER_REENTER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_NEVER_REENTER_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_TEST_REENTER_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">DFS_TEST_REENTER</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_TEST_REENTER_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_NOT_SWAPPING_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">DFS_NOT_SWAPPING</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_NOT_SWAPPING_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_TEST_BLOCK_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DFS_TEST_BLOCK_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_RARE_SERVICES</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFFFF80H</span><span class="sc0">
</span><span class="sc5">DFS_EXIT_NOBLOCK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">DFS_RARE_SERVICES</span><span class="sc4">+</span><span class="sc2">0</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_ENTER_NOBLOCK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">DFS_RARE_SERVICES</span><span class="sc4">+</span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_TEST_NEST_EXEC</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">DFS_RARE_SERVICES</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DFS_WIMP_DEBUG</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">DFS_RARE_SERVICES</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WIN40SERVICES</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMMAddImportModuleName</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMM_Add_DDB</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMM_Remove_DDB</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_VM_Ints_Enabled</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_BlockOnID</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Schedule_Thread_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Thread_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Thread_Time_Out</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Async_Time_Out</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_AllocateThreadDataSlot</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_FreeThreadDataSlot</span><span class="sc0">
</span><span class="sc5">MUTEX_MUST_COMPLETE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">MUTEX_NO_CLEANUP_THREAD_STATE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_CreateMutex</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_DestroyMutex</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetMutexOwner</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_When_Thread_Switched</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMMCreateThread</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetThreadExecTime</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMMTerminateThread</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Cur_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Cur_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Sys_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Sys_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Validate_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Initial_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Test_Initial_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Debug_Test_Valid_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Debug_Test_Cur_Thread</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMM_GetSystemInitState</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Call_When_Thread_Switched</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Next_Thread_Handle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Adjust_Thread_Exec_Priority</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Deallocate_Device_CB_Area</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Remove_IO_Handler</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Remove_Mult_IO_Handlers</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_V86_Int_Chain</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_V86_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_PM_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_VMM_Fault</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_Device_Service</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageReserve</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageCommit</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageDecommit</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PagerRegister</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PagerQuery</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PagerDeregister</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ContextCreate</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ContextDestroy</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageAttach</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageFlush</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SignalID</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageCommitPhys</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Register_Win32_Services</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Call_When_Not_Critical</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Call_When_Idle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Call_When_Task_Switched</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Debug_Printf_Service</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_EnterMutex</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LeaveMutex</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Simulate_VM_IO</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Signal_Semaphore_No_Switch</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ContextSwitch</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageModifyPermissions</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageQuery</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_EnterMustComplete</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LeaveMustComplete</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ResumeExecMustComplete</span><span class="sc0">
</span><span class="sc5">THREAD_TERM_STATUS_CRASH_PEND</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">THREAD_TERM_STATUS_NUKE_PEND</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">THREAD_TERM_STATUS_SUSPEND_PEND</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetThreadTerminationStatus</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetInstanceInfo</span><span class="sc0">
</span><span class="sc5">INSTINFO_NONE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">INSTINFO_SOME</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">INSTINFO_ALL</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ExecIntMustComplete</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ExecVxDIntMustComplete</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_V86_Serialization</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_V86_Page</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMM_GetVxDLocationList</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMM_GetDDBList</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Unhook_NMI_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Instanced_V86_Int_Vector</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Set_Real_DOS_PSP</span><span class="sc0">
</span><span class="sc5">GSRDP_Set</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_Priority_Thread_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_System_Time_Address</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Crit_Status_Thread</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_DDB</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Directed_Sys_Control</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegOpenKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegCloseKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegCreateKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegDeleteKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegEnumKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegQueryValue</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegSetValue</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegDeleteValue</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegEnumValue</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegQueryValueEx</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegSetValueEx</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">REG_SZ</span><span class="sc0">
</span><span class="sc5">REG_SZ</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001H</span><span class="sc0">
</span><span class="sc5">REG_BINARY</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0003H</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">HKEY_LOCAL_MACHINE</span><span class="sc0">
</span><span class="sc5">HKEY_CLASSES_ROOT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000000H</span><span class="sc0">
</span><span class="sc5">HKEY_CURRENT_USER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000001H</span><span class="sc0">
</span><span class="sc5">HKEY_LOCAL_MACHINE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000002H</span><span class="sc0">
</span><span class="sc5">HKEY_USERS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000003H</span><span class="sc0">
</span><span class="sc5">HKEY_PERFORMANCE_DATA</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000004H</span><span class="sc0">
</span><span class="sc5">HKEY_CURRENT_CONFIG</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000005H</span><span class="sc0">
</span><span class="sc5">HKEY_DYN_DATA</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000006H</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_CallRing3</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Exec_PM_Int</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegFlushKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageCommitContig</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetCurrentContext</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LocalizeSprintf</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LocalizeStackSprintf</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Call_Restricted_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cancel_Restricted_Event</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Register_PEF_Provider</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetPhysPageInfo</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegQueryInfoKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">MemArb_Reserve_Pages</span><span class="sc0">
</span><span class="sc5">PHYSINFO_NONE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">PHYSINFO_SOME</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">PHYSINFO_ALL</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Time_Slice_Sys_VM_Idle</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Time_Slice_Sleep</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Boost_With_Decay</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Inversion_Pri</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Reset_Inversion_Pri</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Release_Inversion_Pri</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Thread_Win32_Pri</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Thread_Win32_Pri</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Thread_Static_Boost</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_VM_Static_Boost</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Release_Inversion_Pri_ID</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Attach_Thread_To_Group</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Detach_Thread_From_Group</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Group_Static_Boost</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetRegistryPath</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM_ICODE</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetRegistryKey</span><span class="sc0">
</span><span class="sc5">REGTYPE_ENUM</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">REGTYPE_CLASS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">REGTYPE_VXD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">REGKEY_OPEN</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">REGKEY_CREATE_IFNOTEXIST</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">ASSERT_RANGE_NULL_BAD</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">ASSERT_RANGE_NULL_OK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">ASSERT_RANGE_IS_ASCIIZ</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">ASSERT_RANGE_IS_NOT_ASCIIZ</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">ASSERT_RANGE_NO_DEBUG</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000000H</span><span class="sc0">
</span><span class="sc5">ASSERT_RANGE_BITS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000003H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Cleanup_Thread_State</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegRemapPreDefKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">End_V86_Serialization</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Assert_Range</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Sprintf</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageChangePager</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegCreateDynKey</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegQueryMultipleValues</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Boost_Thread_With_VM</span><span class="sc0">
</span><span class="sc5">BOOT_CLEAN</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">BOOT_DOSCLEAN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">BOOT_NETCLEAN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">BOOT_INTERACTIVE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Boot_Flags</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Boot_Flags</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_lstrcpyn</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_lstrlen</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_lmemcpy</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GetVxDName</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Force_Mutexes_Free</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Restore_Forced_Mutexes</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_AddReclaimableItem</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_SetReclaimableItem</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_EnumReclaimableItem</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Time_Slice_Wake_Sys_VM</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMM_Replace_Global_Environment</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Begin_Non_Serial_Nest_V86_Exec</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Nest_Exec_Status</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Open_Boot_Log</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Write_Boot_Log</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Close_Boot_Log</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">EnableDisable_Boot_Log</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Call_On_My_Stack</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Get_Inst_V86_Int_Vec_Base</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_lstrcmpi</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_strupr</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Log_Fault_Call_Out</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_AtEventTime</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WIN403SERVICES</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_PageOutPages</span><span class="sc0">
</span><span class="sc5">PAGEOUT_PRIVATE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">PAGEOUT_SHARED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">PAGEOUT_SYSTEM</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">PAGEOUT_REGION</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">PAGEOUT_ALL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">PAGEOUT_PRIVATE</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">PAGEOUT_SHARED</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">PAGEOUT_SYSTEM</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Call_On_My_Not_Flat_Stack</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LinRegionLock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_LinRegionUnLock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_AttemptingSomethingDangerous</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Vsprintf</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Vsprintfw</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Load_FS_Service</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Assert_FS_Service</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteRtlUnwind</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteRtlRaiseException</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteRtlRaiseStatus</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteKeGetCurrentIrql</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">VMM_FastCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteKfRaiseIrql</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">VMM_FastCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteKfLowerIrql</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Begin_Preemptable_Code</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_End_Preemptable_Code</span><span class="sc0">
</span><span class="sc5">VMM_FastCall_Service</span><span class="sc0">  </span><span class="sc5">Set_Preemptable_Count</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteKeInitializeDpc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteKeInsertQueueDpc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">ObsoleteKeRemoveQueueDpc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">HeapAllocateEx</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">HeapReAllocateEx</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">HeapGetSizeEx</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">HeapFreeEx</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Get_CPUID_Flags</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">KeCheckDivideByZeroTrap</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0">   </span><span class="sc5">WIN41SERVICES</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_RegisterGARTHandler</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GARTReserve</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GARTCommit</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GARTUnCommit</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GARTFree</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_GARTMemAttributes</span><span class="sc0">
</span><span class="sc5">VMM_StdCall_Service</span><span class="sc0">  </span><span class="sc5">KfRaiseIrqlToDpcLevel</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">VMMCreateThreadEx</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_FlushCaches</span><span class="sc0">
</span><span class="sc5">PG_UNCACHED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">PG_WRITECOMBINED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_NORMAL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_GET_CACHE_LINE_PTR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_GET_CACHE_SIZE_PTR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_TAKE_OVER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000003H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_FORCE_PAGES_OUT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_LOCK_LOCKABLE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000005H</span><span class="sc0">
</span><span class="sc5">FLUSHCACHES_UNLOCK_LOCKABLE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000006H</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Set_Thread_Win32_Pri_NoYield</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_FlushMappedCacheBlock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_ReleaseMappedCacheBlock</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Run_Preemptable_Events</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_MMPreSystemExit</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_MMPageFileShutDown</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">_Set_Global_Time_Out_Ex</span><span class="sc0">
</span><span class="sc5">VMM_Service</span><span class="sc0">  </span><span class="sc5">Query_Thread_Priority</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">End_Service_Table</span><span class="sc0"> </span><span class="sc5">VMM</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">VMM</span><span class="sc0">
</span><span class="sc5">COMNFS_FLAT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFFFFFFH</span><span class="sc0">
</span><span class="sc5">RS_RECLAIM</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">RS_RESTORE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">RS_DOSARENA</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">

</span><span class="sc5">ReclaimStruc</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">RS_Linear</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">RS_Bytes</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">RS_CallBack</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">RS_RefData</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">RS_HookTable</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">RS_Flags</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">ReclaimStruc</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">frmtx</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">frmtx_pfrmtxNext</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">frmtx_hmutex</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">frmtx_cEnterCount</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">frmtx_pthcbOwner</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">frmtx_htimeout</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">frmtx</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">vmmfrinfo</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">vmmfrinfo_frmtxDOS</span><span class="sc0">  </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">frmtx</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">vmmfrinfo_frmtxV86</span><span class="sc0">  </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">frmtx</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">vmmfrinfo_frmtxOther</span><span class="sc0">    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">frmtx</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">vmmfrinfo</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">DemandInfoStruc</span><span class="sc0"> </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">DILin_Total_Count</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPhys_Count</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIFree_Count</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIUnlock_Count</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DILinear_Base_Addr</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DILin_Total_Free</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPage_Faults</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPage_Ins</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPage_Outs</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPage_Discards</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIInstance_Faults</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPagingFileMax</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIPagingFileInUse</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DICommit_Count</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DIReserved</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">2</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DemandInfoStruc</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">InstDataStruc</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">InstLinkF</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">InstLinkB</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">InstLinAddr</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">InstSize</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">InstType</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">InstDataStruc</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">INDOS_FIELD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">100H</span><span class="sc0">
</span><span class="sc5">ALWAYS_FIELD</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">200H</span><span class="sc0">
</span><span class="sc5">OPTIONAL_FIELD</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">400H</span><span class="sc0">

</span><span class="sc5">IPF_Data</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">IPF_LinAddr</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">IPF_MapPageNum</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">IPF_PTEEntry</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">IPF_FaultingVM</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">IPF_Flags</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">IPF_Data</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">Exception_Handler_Struc</span><span class="sc0"> </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">EH_Reserved</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">EH_Start_EIP</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">EH_End_EIP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">EH_Handler</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Exception_Handler_Struc</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">PR_PRIVATE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000400H</span><span class="sc0">
</span><span class="sc5">PR_SHARED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80060000H</span><span class="sc0">
</span><span class="sc5">PR_SYSTEM</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80080000H</span><span class="sc0">
</span><span class="sc5">PR_FIXED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">PR_4MEG</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">PR_STATIC</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000010H</span><span class="sc0">
</span><span class="sc5">PD_ZEROINIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">PD_NOINIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">PD_FIXEDZERO</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000003H</span><span class="sc0">
</span><span class="sc5">PD_FIXED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">PC_FIXED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">PC_LOCKED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000080H</span><span class="sc0">
</span><span class="sc5">PC_LOCKEDIFDP</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000100H</span><span class="sc0">
</span><span class="sc5">PC_WRITEABLE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00020000H</span><span class="sc0">
</span><span class="sc5">PC_USER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00040000H</span><span class="sc0">
</span><span class="sc5">PC_INCR</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">40000000H</span><span class="sc0">
</span><span class="sc5">PC_PRESENT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000000H</span><span class="sc0">
</span><span class="sc5">PC_STATIC</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">20000000H</span><span class="sc0">
</span><span class="sc5">PC_DIRTY</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">08000000H</span><span class="sc0">
</span><span class="sc5">PC_CACHEDIS</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00100000H</span><span class="sc0">
</span><span class="sc5">PC_CACHEWT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00080000H</span><span class="sc0">
</span><span class="sc5">PC_PAGEFLUSH</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00008000H</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WRITE_WATCH</span><span class="sc0">
</span><span class="sc5">PC_WRITE_WATCH</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00200000H</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">PCC_ZEROINIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">PCC_NOLIN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10000000H</span><span class="sc0">
</span><span class="sc5">MTRR_UC</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">MTRR_WC</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">MTRR_WT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">MTRR_WP</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">MTRR_WB</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">_WINNT_</span><span class="sc0">

</span><span class="sc5">_MEMORY_BASIC_INFORMATION</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">mbi_BaseAddress</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">mbi_AllocationBase</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">mbi_AllocationProtect</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">mbi_RegionSize</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">mbi_State</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">mbi_Protect</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">mbi_Type</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">_MEMORY_BASIC_INFORMATION</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">PAGE_NOACCESS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">01H</span><span class="sc0">
</span><span class="sc5">PAGE_READONLY</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02H</span><span class="sc0">
</span><span class="sc5">PAGE_READWRITE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">MEM_COMMIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1000H</span><span class="sc0">
</span><span class="sc5">MEM_RESERVE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2000H</span><span class="sc0">
</span><span class="sc5">MEM_FREE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10000H</span><span class="sc0">
</span><span class="sc5">MEM_PRIVATE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">20000H</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">

</span><span class="sc5">pd_s</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">pd_virginin</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_taintedin</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_cleanout</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_dirtyout</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_virginfree</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_taintedfree</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_dirty</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_type</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">pd_s</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">PD_SWAPPER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">PD_PAGERONLY</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">PD_NESTEXEC</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">PAGESHIFT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12</span><span class="sc0">
</span><span class="sc5">PAGESIZE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PAGEMASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">PAGESIZE</span><span class="sc4">-</span><span class="sc2">1</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXSYSTEMLADDR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">0ffbfffffH</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINSYSTEMLADDR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">0c0000000H</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXSHAREDLADDR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">0bfffffffH</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINSHAREDLADDR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">80000000H</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXPRIVATELADDR</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">7fffffffH</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINPRIVATELADDR</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">00400000H</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXDOSLADDR</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">003fffffH</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINDOSLADDR</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">00000000H</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXSYSTEMPAGE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MAXSYSTEMLADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINSYSTEMPAGE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MINSYSTEMLADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXSHAREDPAGE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MAXSHAREDLADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINSHAREDPAGE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MINSHAREDLADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXPRIVATEPAGE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MAXPRIVATELADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINPRIVATEPAGE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MINPRIVATELADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MAXDOSPAGE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MAXDOSLADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MINDOSPAGE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">MINDOSLADDR</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc5">PAGESHIFT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CBPRIVATE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXPRIVATELADDR</span><span class="sc4">-</span><span class="sc5">MINPRIVATELADDR</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CBSHARED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXSHAREDLADDR</span><span class="sc4">-</span><span class="sc5">MINSHAREDLADDR</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CBSYSTEM</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXSYSTEMLADDR</span><span class="sc4">-</span><span class="sc5">MINSYSTEMLADDR</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CBDOS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXDOSLADDR</span><span class="sc4">-</span><span class="sc5">MINDOSLADDR</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CPGPRIVATE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXPRIVATEPAGE</span><span class="sc4">-</span><span class="sc5">MINPRIVATEPAGE</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CPGSHARED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXSHAREDPAGE</span><span class="sc4">-</span><span class="sc5">MINSHAREDPAGE</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CPGSYSTEM</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXSYSTEMPAGE</span><span class="sc4">-</span><span class="sc5">MINSYSTEMPAGE</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CPGDOS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc4">+</span><span class="sc5">MAXDOSPAGE</span><span class="sc4">-</span><span class="sc5">MINDOSPAGE</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc5">DebFar</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc10">NEAR</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc5">DebFar</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc9">SHORT</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">ASD_MAX_REF_DATA</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">256</span><span class="sc0">

</span><span class="sc5">_vmmguid</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">Data1</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Data2</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Data3</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Data4</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">8</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">_vmmguid</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">ASD_ERROR_NONE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">ASD_CHECK_FAIL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">ASD_CHECK_SUCCESS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">ASD_CHECK_UNKNOWN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000003H</span><span class="sc0">
</span><span class="sc5">ASD_ERROR_BAD_TIME</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">ASD_REGISTRY_ERROR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000005H</span><span class="sc0">
</span><span class="sc5">ASD_CLEAN_BOOT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000006H</span><span class="sc0">
</span><span class="sc5">ASD_OUT_OF_MEMORY</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000007H</span><span class="sc0">
</span><span class="sc5">ASD_FILE_ERROR</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000008H</span><span class="sc0">
</span><span class="sc5">ASD_ALREADY_SET</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000009H</span><span class="sc0">
</span><span class="sc5">ASD_MISSING_CHECK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000000AH</span><span class="sc0">
</span><span class="sc5">ASD_BAD_PARAMETER</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000000BH</span><span class="sc0">
</span><span class="sc5">ASD_OP_CHECK_AND_WRITE_FAIL_IF_UNKNOWN</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">ASD_OP_CHECK_AND_ALWAYS_WRITE_FAIL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">ASD_OP_CHECK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000002H</span><span class="sc0">
</span><span class="sc5">ASD_OP_DONE_AND_SET_SUCCESS</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000003H</span><span class="sc0">
</span><span class="sc5">ASD_OP_SET_FAIL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">ASD_OP_SET_SUCCESS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000005H</span><span class="sc0">
</span><span class="sc5">ASD_OP_SET_UNKNOWN</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000006H</span><span class="sc0">
</span><span class="sc5">ASD_OP_DONE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000007H</span><span class="sc0">
</span><span class="sc5">ASD_FLAG_STRING</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
</span><span class="sc5">SYS_CRITICAL_INIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0000H</span><span class="sc0">
</span><span class="sc5">DEVICE_INIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0001H</span><span class="sc0">
</span><span class="sc5">INIT_COMPLETE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0002H</span><span class="sc0">
</span><span class="sc5">SYS_VM_INIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0003H</span><span class="sc0">
</span><span class="sc5">SYS_VM_TERMINATE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0004H</span><span class="sc0">
</span><span class="sc5">SYSTEM_EXIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0005H</span><span class="sc0">
</span><span class="sc5">SYS_CRITICAL_EXIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0006H</span><span class="sc0">
</span><span class="sc5">CREATE_VM</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0007H</span><span class="sc0">
</span><span class="sc5">VM_CRITICAL_INIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0008H</span><span class="sc0">
</span><span class="sc5">VM_INIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0009H</span><span class="sc0">
</span><span class="sc5">VM_TERMINATE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000AH</span><span class="sc0">
</span><span class="sc5">VM_NOT_EXECUTEABLE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000BH</span><span class="sc0">
</span><span class="sc5">DESTROY_VM</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000CH</span><span class="sc0">
</span><span class="sc5">VNE_CRASHED_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00H</span><span class="sc0">
</span><span class="sc5">VNE_CRASHED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VNE_CRASHED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VNE_NUKED_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">01H</span><span class="sc0">
</span><span class="sc5">VNE_NUKED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VNE_NUKED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VNE_CREATEFAIL_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02H</span><span class="sc0">
</span><span class="sc5">VNE_CREATEFAIL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VNE_CREATEFAIL_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VNE_CRINITFAIL_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">03H</span><span class="sc0">
</span><span class="sc5">VNE_CRINITFAIL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VNE_CRINITFAIL_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VNE_INITFAIL_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">VNE_INITFAIL</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VNE_INITFAIL_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VNE_CLOSED_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">05H</span><span class="sc0">
</span><span class="sc5">VNE_CLOSED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VNE_CLOSED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VM_SUSPEND</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000DH</span><span class="sc0">
</span><span class="sc5">VM_RESUME</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000EH</span><span class="sc0">
</span><span class="sc5">SET_DEVICE_FOCUS</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000FH</span><span class="sc0">
</span><span class="sc5">BEGIN_MESSAGE_MODE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0010H</span><span class="sc0">
</span><span class="sc5">END_MESSAGE_MODE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0011H</span><span class="sc0">
</span><span class="sc5">REBOOT_PROCESSOR</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0012H</span><span class="sc0">
</span><span class="sc5">QUERY_DESTROY</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0013H</span><span class="sc0">
</span><span class="sc5">DEBUG_QUERY</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0014H</span><span class="sc0">
</span><span class="sc5">BEGIN_PM_APP</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0015H</span><span class="sc0">
</span><span class="sc5">BPA_32_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">01H</span><span class="sc0">
</span><span class="sc5">BPA_32_BIT_FLAG</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">END_PM_APP</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0016H</span><span class="sc0">
</span><span class="sc5">DEVICE_REBOOT_NOTIFY</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0017H</span><span class="sc0">
</span><span class="sc5">CRIT_REBOOT_NOTIFY</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0018H</span><span class="sc0">
</span><span class="sc5">CLOSE_VM_NOTIFY</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0019H</span><span class="sc0">
</span><span class="sc5">CVNF_CRIT_CLOSE_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">CVNF_CRIT_CLOSE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">CVNF_CRIT_CLOSE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">POWER_EVENT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001AH</span><span class="sc0">
</span><span class="sc5">SYS_DYNAMIC_DEVICE_INIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001BH</span><span class="sc0">
</span><span class="sc5">SYS_DYNAMIC_DEVICE_EXIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001CH</span><span class="sc0">
</span><span class="sc5">CREATE_THREAD</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001DH</span><span class="sc0">
</span><span class="sc5">THREAD_INIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001EH</span><span class="sc0">
</span><span class="sc5">TERMINATE_THREAD</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">001FH</span><span class="sc0">
</span><span class="sc5">THREAD_Not_Executeable</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0020H</span><span class="sc0">
</span><span class="sc5">DESTROY_THREAD</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0021H</span><span class="sc0">
</span><span class="sc5">PNP_NEW_DEVNODE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0022H</span><span class="sc0">
</span><span class="sc5">W32_DEVICEIOCONTROL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0023H</span><span class="sc0">
</span><span class="sc5">DIOC_GETVERSION</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0H</span><span class="sc0">
</span><span class="sc5">DIOC_OPEN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">DIOC_GETVERSION</span><span class="sc0">
</span><span class="sc5">DIOC_CLOSEHANDLE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">SYS_VM_TERMINATE2</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0024H</span><span class="sc0">
</span><span class="sc5">SYSTEM_EXIT2</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0025H</span><span class="sc0">
</span><span class="sc5">SYS_CRITICAL_EXIT2</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0026H</span><span class="sc0">
</span><span class="sc5">VM_TERMINATE2</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0027H</span><span class="sc0">
</span><span class="sc5">VM_NOT_EXECUTEABLE2</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0028H</span><span class="sc0">
</span><span class="sc5">DESTROY_VM2</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0029H</span><span class="sc0">
</span><span class="sc5">VM_SUSPEND2</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">002AH</span><span class="sc0">
</span><span class="sc5">END_MESSAGE_MODE2</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">002BH</span><span class="sc0">
</span><span class="sc5">END_PM_APP2</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">002CH</span><span class="sc0">
</span><span class="sc5">DEVICE_REBOOT_NOTIFY2</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">002DH</span><span class="sc0">
</span><span class="sc5">CRIT_REBOOT_NOTIFY2</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">002EH</span><span class="sc0">
</span><span class="sc5">CLOSE_VM_NOTIFY2</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">002FH</span><span class="sc0">
</span><span class="sc5">GET_CONTENTION_HANDLER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0030H</span><span class="sc0">
</span><span class="sc5">KERNEL32_INITIALIZED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0031H</span><span class="sc0">
</span><span class="sc5">KERNEL32_SHUTDOWN</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0032H</span><span class="sc0">
</span><span class="sc5">CREATE_PROCESS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0033H</span><span class="sc0">
</span><span class="sc5">DESTROY_PROCESS</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0034H</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">WIN40COMPAT</span><span class="sc0">
</span><span class="sc5">SYS_DYNAMIC_DEVICE_REINIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0035H</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">SYS_POWER_DOWN</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0036H</span><span class="sc0">
</span><span class="sc5">MAX_SYSTEM_CONTROL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0036H</span><span class="sc0">
</span><span class="sc5">BEGIN_RESERVED_PRIVATE_SYSTEM_CONTROL</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">70000000H</span><span class="sc0">
</span><span class="sc5">END_RESERVED_PRIVATE_SYSTEM_CONTROL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">7FFFFFFFH</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRESYSCRITINIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PREDEVICEINIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PREINITCOMPLETE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">20000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_VXDINITCOMPLETED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">40000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_KERNEL32INITED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">50000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_KERNEL32TERMINATED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0A0000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRESYSVMTERMINATE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0B0000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRESYSTEMEXIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0E0000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRESYSTEMEXIT2</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0E4000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRESYSCRITEXIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0F0000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRESYSCRITEXIT2</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0F4000000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_POSTSYSCRITEXIT2</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFF00000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PREDEVICEREBOOT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFF0000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PRECRITREBOOT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFFF000H</span><span class="sc0">
</span><span class="sc5">SYSSTATE_PREREBOOTCPU</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFFFF00H</span><span class="sc0">
</span><span class="sc5">BeginDoc</span><span class="sc0">












































































</span><span class="sc5">EndDoc</span><span class="sc0">












</span><span class="sc5">??_pf_Check</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">??_pf_ArgsUsed</span><span class="sc0">  </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">??_pf_Entered</span><span class="sc0">   </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">??_pf_Left</span><span class="sc0">  </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
</span><span class="sc5">??_pf_Returned</span><span class="sc0">  </span><span class="sc9">equ</span><span class="sc0">    </span><span class="sc2">16</span><span class="sc0">

</span><span class="sc5">??_pushed</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">??_align</span><span class="sc0">    </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">??_ends</span><span class="sc0">     </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">

</span><span class="sc5">BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P3</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P4</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P5</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P6</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P7</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">LastArg</span><span class="sc0">
    </span><span class="sc9">local</span><span class="sc0">   </span><span class="sc5">Profile_Data</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">prelabeldata</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">??_hookvar</span><span class="sc0">
    </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_initaframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_numargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_numlocals</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_numlocalsymbols</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_esp</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_align</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_hook</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_hookarg</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_service</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_async_service</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">DEBLEVEL</span><span class="sc0"> </span><span class="sc9">GT</span><span class="sc0"> </span><span class="sc5">DEBLEVELNORMAL</span><span class="sc0">
    </span><span class="sc5">??_log</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_LOG</span><span class="sc0">
    </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_PROFILE</span><span class="sc0">
    </span><span class="sc5">??_test_cld</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_TEST_CLD</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">??_log</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">?_ICODE</span><span class="sc0">
    </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_PROFILE</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">??_test_cld</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">??_might_block</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_test_reenter</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_never_reenter</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_not_swapping</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_prolog_disabled</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_public</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">??_cleanoff</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_ccall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_pcall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_fastcall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_w32svc</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_fleave</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">FALSE</span><span class="sc0">

    </span><span class="sc5">??_name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">Name</span><span class="sc4">&gt;</span><span class="sc0">

    </span><span class="sc9">.errnb</span><span class="sc0"> </span><span class="sc5">??_ends</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Cannot</span><span class="sc0"> </span><span class="sc5">nest</span><span class="sc0"> </span><span class="sc5">functions</span><span class="sc0"> </span><span class="sc5">with</span><span class="sc0"> </span><span class="sc5">named</span><span class="sc0"> </span><span class="sc5">segments</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">.errnb</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">LastArg</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Too</span><span class="sc0"> </span><span class="sc5">many</span><span class="sc0"> </span><span class="sc5">arguments</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">BeginProc</span><span class="sc4">&gt;</span><span class="sc0">


    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">arg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">P1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P3</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P4</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P5</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P6</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P7</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_hookarg</span><span class="sc0">
    </span><span class="sc5">??_hookarg</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">??_hookvar</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">arg</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">elseifdef</span><span class="sc0"> </span><span class="sc10">?</span><span class="sc4">&amp;&amp;</span><span class="sc5">arg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_BeginProc</span><span class="sc0">
        </span><span class="sc10">?</span><span class="sc4">&amp;&amp;</span><span class="sc5">arg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_BeginProc</span><span class="sc0">
    </span><span class="sc9">elseifdef</span><span class="sc0"> </span><span class="sc5">VxD_</span><span class="sc4">&amp;&amp;</span><span class="sc5">arg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_CODE_SEG</span><span class="sc0">
    </span><span class="sc5">??_ends</span><span class="sc0"> </span><span class="sc9">textequ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD_</span><span class="sc4">&amp;&amp;</span><span class="sc5">arg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_CODE_ENDS</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">VxD_</span><span class="sc4">&amp;&amp;</span><span class="sc5">arg</span><span class="sc4">&amp;&amp;</span><span class="sc5">_CODE_SEG</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Bad</span><span class="sc0"> </span><span class="sc5">param</span><span class="sc0"> </span><span class="sc3">"&amp;arg"</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">BeginProc</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">


    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_service</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
      </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">VMMSYS</span><span class="sc0">
    </span><span class="sc5">??_prolog_disabled</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">??_test_cld</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_TEST_CLD</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">?_16ICODE</span><span class="sc0">
    </span><span class="sc5">??_prolog_disabled</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">?_RCODE</span><span class="sc0">
    </span><span class="sc5">??_prolog_disabled</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">?_PCODE</span><span class="sc0">
    </span><span class="sc5">??_might_block</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_service</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_async_service</span><span class="sc0">
        </span><span class="sc5">??_test_reenter</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_TEST_REENTER</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_esp</span><span class="sc0">

    </span><span class="sc5">??_basereg</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc8">esp</span><span class="sc4">+</span><span class="sc5">??_pushed</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_initaframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">

    </span><span class="sc5">??_basereg</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc8">ebp</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_initaframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">@Caller</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc10">dword</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">-</span><span class="sc2">4</span><span class="sc4">]&gt;</span><span class="sc0">

    </span><span class="sc5">??_cleanoff</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pcall</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">??_fastcall</span><span class="sc0">


    </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_never_reenter</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_test_reenter</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_not_swapping</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> \
     </span><span class="sc5">??_log</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_test_cld</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_might_block</span><span class="sc0">

    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_prolog_disabled</span><span class="sc0">
    </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">



    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">

    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_hook</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_align</span><span class="sc0">
    </span><span class="sc5">Dword_Align</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">prelabeldata</span><span class="sc4">:</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">??_hookvar</span><span class="sc0">
    </span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">HOOK_PROC</span><span class="sc0"> </span><span class="sc5">requires</span><span class="sc0"> </span><span class="sc5">next</span><span class="sc0"> </span><span class="sc5">arg</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc10">dword</span><span class="sc0"> </span><span class="sc5">location</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_hookvar</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
    </span><span class="sc5">Profile_Data</span><span class="sc0"> </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_align</span><span class="sc0">
    </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">$</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">prelabeldata</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc9">mod</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
    </span><span class="sc5">?prolog_</span><span class="sc4">&amp;</span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">label</span><span class="sc0"> </span><span class="sc10">near</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_service</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_profile</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_hook</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_align</span><span class="sc0">
    </span><span class="sc5">Dword_Align</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">?_ICODE</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
      </span><span class="sc5">?ProfileHeader_BeginProc</span><span class="sc0"> </span><span class="sc5">Profile_Data</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%@filename</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">Profile_Data</span><span class="sc0"> </span><span class="sc9">dd</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ELSE</span><span class="sc0">
      </span><span class="sc5">Profile_Data</span><span class="sc0"> </span><span class="sc9">dd</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_align</span><span class="sc0">
    </span><span class="sc5">Dword_Align</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">proc</span><span class="sc0"> </span><span class="sc10">near</span><span class="sc0">



    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_pcall</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">??_ccall</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">??_fastcall</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_public</span><span class="sc0">
        </span><span class="sc9">public</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
        </span><span class="sc5">%</span><span class="sc0"> </span><span class="sc5">?merge</span><span class="sc0"> </span><span class="sc5">@FileName</span><span class="sc4">,</span><span class="sc10">$</span><span class="sc4">,</span><span class="sc9">Name</span><span class="sc4">,:</span><span class="sc0">
        </span><span class="sc5">%</span><span class="sc0"> </span><span class="sc5">?merge</span><span class="sc0"> </span><span class="sc9">public</span><span class="sc4">,,,,,</span><span class="sc5">@FileName</span><span class="sc4">,</span><span class="sc10">$</span><span class="sc4">,</span><span class="sc9">Name</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_ccall</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_public</span><span class="sc0">
        </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
     </span><span class="sc9">public</span><span class="sc0"> </span><span class="sc10">C</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
         </span><span class="sc9">public</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_pcall</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_public</span><span class="sc0">
        </span><span class="sc5">?toupper</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc9">public</span><span class="sc4">,,,,%</span><span class="sc5">?upper</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">



    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">??_fastcall</span><span class="sc0">
    </span><span class="sc5">?_BeginProc_Debug_Prologue</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">



</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?_BeginProc_Debug_Prologue</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc5">DFS_LOG</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Log_Proc_Call</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc5">DFS_TEST_REENTER</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Test_Reenter</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">?_LOCKABLECODE</span><span class="sc0"> </span><span class="sc9">eq</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
        </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">DFS_LOG</span><span class="sc0">
        </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Log_Proc_Call</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
        </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">DFS_TEST_REENTER</span><span class="sc0">
        </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Test_Reenter</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">?_LOCKABLECODE</span><span class="sc0">
        </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_debug_flags</span><span class="sc0">
        </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">??_debug_flags</span><span class="sc0">
        </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0">
        </span><span class="sc6">pushfd</span><span class="sc0">
        </span><span class="sc6">or</span><span class="sc0">  </span><span class="sc10">dword</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">esp</span><span class="sc4">+</span><span class="sc2">4</span><span class="sc4">],</span><span class="sc5">??_dfs</span><span class="sc0">
        </span><span class="sc6">popfd</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
        </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">_Debug_Flags_Service</span><span class="sc0">
        </span><span class="sc9">elseif</span><span class="sc0"> </span><span class="sc5">??_dfs</span><span class="sc0">
        </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">??_dfs</span><span class="sc0">
        </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">_Debug_Flags_Service</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
        </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">??_dfs</span><span class="sc0">
        </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">_Debug_Flags_Service</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
    </span><span class="sc5">IncProfileCount</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">






</span><span class="sc5">?_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?PUBLIC_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_public</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?LOCAL_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_public</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?HIGH_FREQ_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_align</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?HOOK_PROC_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_hook</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">??_hookarg</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?SERVICE_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_service</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">.erre</span><span class="sc0"> </span><span class="sc5">?_16ICODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">SERVICEs</span><span class="sc0"> </span><span class="sc5">must</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc2">32</span><span class="sc0"> </span><span class="sc5">bit</span><span class="sc0"> </span><span class="sc5">code</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">.erre</span><span class="sc0"> </span><span class="sc5">?_RCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">SERVICEs</span><span class="sc0"> </span><span class="sc5">must</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc2">32</span><span class="sc0"> </span><span class="sc5">bit</span><span class="sc0"> </span><span class="sc5">code</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?ASYNC_SERVICE_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_service</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">??_async_service</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">?_LCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">ASYNC_SERVICE</span><span class="sc13">'s must be in LOCKED code&gt;
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?NO_LOG_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_log</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?NO_PROFILE_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_profile</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?NO_TEST_CLD_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_test_cld</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?TEST_BLOCK_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_might_block</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_TEST_BLOCK</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?TEST_REENTER_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_test_reenter</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_TEST_REENTER</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?NEVER_REENTER_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_never_reenter</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_NEVER_REENTER</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?NOT_SWAPPING_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_not_swapping</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">DFS_NOT_SWAPPING</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?NO_PROLOG_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_prolog_disabled</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?ESP_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_esp</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">VMM_TRUE</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
    </span><span class="sc9">.erre</span><span class="sc0"> </span><span class="sc5">?_16ICODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Beginproc</span><span class="sc0"> </span><span class="sc8">ESP</span><span class="sc0"> </span><span class="sc5">attribute</span><span class="sc0"> </span><span class="sc5">invalid</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc0"> </span><span class="sc5">bit</span><span class="sc0"> </span><span class="sc5">seg.</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">.erre</span><span class="sc0"> </span><span class="sc5">?_RCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Beginproc</span><span class="sc0"> </span><span class="sc8">ESP</span><span class="sc0"> </span><span class="sc5">attribute</span><span class="sc0"> </span><span class="sc5">invalid</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc5">real</span><span class="sc4">-</span><span class="sc5">mode</span><span class="sc0"> </span><span class="sc5">seg.</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?CCALL_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_ccall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?PCALL_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_pcall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?SCALL_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?FASTCALL_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_fastcall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?ICALL_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?W32SVC_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">??_scall</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">??_w32svc</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
</span><span class="sc5">?ProfileHeader_BeginProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">PL</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">filename</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">filename</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc0">
  </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">filename</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
  </span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">filename</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0"> </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">filename</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc0">
</span><span class="sc5">PL</span><span class="sc0">  </span><span class="sc9">dd</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">filename</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">PL</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">

</span><span class="sc5">IncProfileCount</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_service</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_profile</span><span class="sc0">
    </span><span class="sc6">inc</span><span class="sc0"> </span><span class="sc10">dword</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_name</span><span class="sc4">-</span><span class="sc2">4</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
    </span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">IncProfileCount</span><span class="sc0"> </span><span class="sc5">can</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc5">used</span><span class="sc0"> </span><span class="sc5">only</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc5">services.</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">else</span><span class="sc0">
</span><span class="sc5">IncProfileCount</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
















</span><span class="sc5">ArgVar</span><span class="sc0">  </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc9">length</span><span class="sc4">,</span><span class="sc5">used</span><span class="sc0">
    </span><span class="sc5">??_numargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_numargs</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_pcall</span><span class="sc0">
    </span><span class="sc5">?mkarg</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc5">%??_numargs</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">?arg</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_Check</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?mkarg</span><span class="sc0">  </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">length</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">used</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?MKA</span><span class="sc4">&amp;</span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?MKA</span><span class="sc4">&amp;</span><span class="sc5">num</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">?argvar</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc4">&amp;</span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?mkarg</span><span class="sc0">

</span><span class="sc5">?argvar</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc9">length</span><span class="sc4">,</span><span class="sc5">used</span><span class="sc0">
    </span><span class="sc9">local</span><span class="sc0">   </span><span class="sc5">a</span><span class="sc0">
    </span><span class="sc5">a</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_taframe</span><span class="sc0">
    </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,&lt;</span><span class="sc10">BYTE</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,&lt;</span><span class="sc10">WORD</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc10">word</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,&lt;</span><span class="sc10">DWORD</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc10">dword</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">l</span><span class="sc4">&gt;,&lt;</span><span class="sc10">word</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">ll</span><span class="sc4">&gt;,&lt;</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">lh</span><span class="sc4">&gt;,&lt;</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">h</span><span class="sc4">&gt;,&lt;</span><span class="sc10">word</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">hl</span><span class="sc4">&gt;,&lt;</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">hh</span><span class="sc4">&gt;,&lt;</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">3</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc9">length</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc4">)/</span><span class="sc2">4</span><span class="sc4">)*</span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc9">length</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc4">)/</span><span class="sc2">4</span><span class="sc4">)*</span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;[</span><span class="sc5">??_basereg</span><span class="sc4">+</span><span class="sc5">??_initaframe</span><span class="sc4">+</span><span class="sc5">a</span><span class="sc4">]&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?arg</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc9">length</span><span class="sc4">,</span><span class="sc5">used</span><span class="sc0">
  </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_fastcall</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_numargs</span><span class="sc0"> </span><span class="sc9">le</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
      </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc9">length</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">First</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">are</span><span class="sc0"> </span><span class="sc5">dwords</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc8">ecx</span><span class="sc4">,</span><span class="sc8">edx</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc9">for</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">functions</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
      </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_numargs</span><span class="sc0"> </span><span class="sc9">eq</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">?merge</span><span class="sc0"> </span><span class="sc5">ecx_</span><span class="sc4">,</span><span class="sc9">name</span><span class="sc4">,,,</span><span class="sc9">equ</span><span class="sc4">,</span><span class="sc8">ecx</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">?merge</span><span class="sc0"> </span><span class="sc5">edx_</span><span class="sc4">,</span><span class="sc9">name</span><span class="sc4">,,,</span><span class="sc9">equ</span><span class="sc4">,</span><span class="sc8">edx</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">?argvar</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">length</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">used</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
  </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">?argvar</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">length</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">used</span><span class="sc0">
  </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">






</span><span class="sc5">?setname</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">value</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">used</span><span class="sc0">
    </span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">used</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">NOTUSED</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc5">_inaccessible_NOTUSED_</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc5">value</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_ArgsUsed</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_Check</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">



















</span><span class="sc5">LocalVar</span><span class="sc0">    </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc9">length</span><span class="sc4">,</span><span class="sc5">flag</span><span class="sc0">
    </span><span class="sc9">local</span><span class="sc0">   </span><span class="sc5">a</span><span class="sc0">
    </span><span class="sc5">??_numlocals</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_numlocals</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">??_pad</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flag</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">PACK</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_pad</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,&lt;</span><span class="sc10">BYTE</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc5">??_pad</span><span class="sc0">
    </span><span class="sc5">a</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
    </span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,&lt;</span><span class="sc10">WORD</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc5">??_pad</span><span class="sc0">
    </span><span class="sc5">a</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
    </span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">word</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">length</span><span class="sc4">&gt;,&lt;</span><span class="sc10">DWORD</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc5">a</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
    </span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">l</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">ll</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">lh</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">h</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">hl</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">hh</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">dword</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">l</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">word</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">ll</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">lh</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">h</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">word</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">hl</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">2</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc4">&amp;</span><span class="sc5">hh</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">+</span><span class="sc2">3</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0">  </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc9">length</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc4">)/</span><span class="sc2">4</span><span class="sc4">)*</span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc5">a</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
    </span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc5">??_basereg</span><span class="sc4">-</span><span class="sc5">a</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_Check</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">?deflocal</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">nm</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_numlocalsymbols</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_numlocalsymbols</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">?dodeflocal</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">nm</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc5">%</span><span class="sc4">(</span><span class="sc5">??_numlocalsymbols</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?deflocal</span><span class="sc0">

</span><span class="sc5">?dodeflocal</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?LOC</span><span class="sc4">&amp;</span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc5">?LOC</span><span class="sc4">&amp;</span><span class="sc5">num</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc9">name</span><span class="sc0">    </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">__inaccessible__NOTINSCOPE__</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc4">&amp;</span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?dodeflocal</span><span class="sc0">



</span><span class="sc5">EnterProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc6">and</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Total</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc9">local</span><span class="sc0"> </span><span class="sc5">variables</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">a</span><span class="sc0"> </span><span class="sc5">multiple</span><span class="sc0"> </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc2">4.</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_scall</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_public</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc5">%??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">),,</span><span class="sc9">label</span><span class="sc4">,</span><span class="sc10">near</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc9">public</span><span class="sc4">,,,,</span><span class="sc10">C</span><span class="sc4">,%</span><span class="sc5">??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc5">_</span><span class="sc4">,%</span><span class="sc5">??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">),</span><span class="sc9">label</span><span class="sc4">,</span><span class="sc10">near</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc9">public</span><span class="sc4">,,,,,</span><span class="sc5">_</span><span class="sc4">,%</span><span class="sc5">??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">?_BeginProc_Debug_Prologue</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_fastcall</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_public</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc5">%??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">),,</span><span class="sc9">label</span><span class="sc4">,</span><span class="sc10">near</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc9">public</span><span class="sc4">,,,,</span><span class="sc10">C</span><span class="sc4">,%</span><span class="sc5">??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc5">@</span><span class="sc4">,%</span><span class="sc5">??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">),</span><span class="sc9">label</span><span class="sc4">,</span><span class="sc10">near</span><span class="sc0">
        </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc9">public</span><span class="sc4">,,,,,</span><span class="sc5">@</span><span class="sc4">,%</span><span class="sc5">??_name</span><span class="sc4">,</span><span class="sc5">@</span><span class="sc4">,%(</span><span class="sc5">??_aframe</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">?_BeginProc_Debug_Prologue</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_pcall</span><span class="sc0">
    </span><span class="sc5">??_aframe</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_numargs</span><span class="sc0">
    </span><span class="sc9">rept</span><span class="sc0">    </span><span class="sc5">??_numargs</span><span class="sc0">
        </span><span class="sc5">?invprg</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">?MKA</span><span class="sc4">&gt;,%</span><span class="sc5">?count</span><span class="sc0">
        </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_fleave</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">FALSE</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_esp</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc5">??_frame</span><span class="sc0">
        </span><span class="sc6">sub</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
        </span><span class="sc5">??_fleave</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">VMM_TRUE</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc5">??_frame</span><span class="sc0"> </span><span class="sc9">eq</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
        </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc9">eq</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">??_pf_ArgsUsed</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc4">)</span><span class="sc0">
        </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
            </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc8">ebp</span><span class="sc0">
            </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">ebp</span><span class="sc4">,</span><span class="sc8">esp</span><span class="sc0">
            </span><span class="sc5">??_fleave</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">VMM_TRUE</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
        </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc8">ebp</span><span class="sc0">
        </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">ebp</span><span class="sc4">,</span><span class="sc8">esp</span><span class="sc0">
        </span><span class="sc5">??_fleave</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">VMM_TRUE</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">enter</span><span class="sc0">   </span><span class="sc5">??_frame</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
        </span><span class="sc5">??_fleave</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">VMM_TRUE</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_Entered</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">















</span><span class="sc5">LeaveProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">flags</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_fleave</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_esp</span><span class="sc0">
        </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;,&lt;</span><span class="sc5">PRESERVE_FLAGS</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc6">lea</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,[</span><span class="sc8">esp</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc4">]</span><span class="sc0">
        </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">add</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc5">??_frame</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">leave</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_Left</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">







</span><span class="sc5">Return</span><span class="sc0">  </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc5">??_cleanoff</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_w32svc</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc5">??_w32svc</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc9">LT</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc4">)</span><span class="sc0">
        </span><span class="sc6">ret</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">ret</span><span class="sc0"> </span><span class="sc5">??_taframe</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">OR</span><span class="sc0"> </span><span class="sc5">??_pf_Returned</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">




</span><span class="sc5">EndProc</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Flag</span><span class="sc0">
    </span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">endp</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_w32svc</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_taframe</span><span class="sc0"> </span><span class="sc9">lt</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
    </span><span class="sc5">cparm</span><span class="sc4">&amp;</span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">cparm</span><span class="sc4">&amp;</span><span class="sc9">Name</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_taframe</span><span class="sc4">/</span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">??_pf_Left</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_fleave</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_esp</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_frame</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifdifi</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc5">Flag</span><span class="sc4">&gt;,&lt;</span><span class="sc5">NOCHECK</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc9">ne</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">%out</span><span class="sc0"> </span><span class="sc5">Warning</span><span class="sc4">:</span><span class="sc0"> </span><span class="sc5">stack</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">balanced</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">??_pf_Check</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">??_pf_Entered</span><span class="sc0">
        </span><span class="sc9">%out</span><span class="sc0"> </span><span class="sc5">Warning</span><span class="sc4">:</span><span class="sc0"> </span><span class="sc5">ArgVar</span><span class="sc4">/</span><span class="sc5">LocalVar</span><span class="sc0"> </span><span class="sc5">without</span><span class="sc0"> </span><span class="sc5">EnterProc</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">??_pf_Left</span><span class="sc0">
        </span><span class="sc9">%out</span><span class="sc0"> </span><span class="sc5">Warning</span><span class="sc4">:</span><span class="sc0"> </span><span class="sc5">ArgVar</span><span class="sc4">/</span><span class="sc5">LocalVar</span><span class="sc0"> </span><span class="sc5">without</span><span class="sc0"> </span><span class="sc5">LeaveProc</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc5">??_procflags</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc5">??_pf_Returned</span><span class="sc0">
        </span><span class="sc9">%out</span><span class="sc0"> </span><span class="sc5">Warning</span><span class="sc4">:</span><span class="sc0"> </span><span class="sc5">ArgVar</span><span class="sc4">/</span><span class="sc5">LocalVar</span><span class="sc0"> </span><span class="sc5">without</span><span class="sc0"> </span><span class="sc5">Return</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifdifi</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc5">Flag</span><span class="sc4">&gt;,&lt;</span><span class="sc5">KEEPFRAMEVARS</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">rept</span><span class="sc0">    </span><span class="sc5">??_numlocalsymbols</span><span class="sc0">
    </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">?invprg</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">?LOC</span><span class="sc4">&gt;,%</span><span class="sc5">?count</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_ends</span><span class="sc0">
    </span><span class="sc5">??_ends</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">







</span><span class="sc5">cCall</span><span class="sc0">   </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">flags</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc9">.TYPE</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
       </span><span class="sc5">CondExtern</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc10">near</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FAST</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc5">PRESERVE_FLAGS</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">cCall</span><span class="sc0">






</span><span class="sc5">pCall</span><span class="sc0">   </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc0">
    </span><span class="sc9">local</span><span class="sc0">   </span><span class="sc5">??saved</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc9">.TYPE</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc5">?toupper</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">?upper</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">name</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">CondExtern</span><span class="sc0"> </span><span class="sc5">%?upper</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc10">near</span><span class="sc0">
    </span><span class="sc5">??saved</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0">
    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">x</span><span class="sc4">,&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">x</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">?upper</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??saved</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">pCall</span><span class="sc0">







</span><span class="sc5">sCall</span><span class="sc0">   </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc0">
    </span><span class="sc9">local</span><span class="sc0">   </span><span class="sc5">??saved</span><span class="sc0">
    </span><span class="sc5">??saved</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0">
    </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?scall</span><span class="sc0">  </span><span class="sc5">_</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%</span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??saved</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">sCall</span><span class="sc0">














</span><span class="sc5">fCall</span><span class="sc0">   </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">flags</span><span class="sc0">
    </span><span class="sc9">local</span><span class="sc0">   </span><span class="sc5">??saved</span><span class="sc0">
    </span><span class="sc5">??saved</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0">
    </span><span class="sc9">ife</span><span class="sc0"> </span><span class="sc9">.TYPE</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
       </span><span class="sc5">CondExtern</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc10">near</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">?scall</span><span class="sc0">  </span><span class="sc5">@</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%</span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc5">PRESERVE_FLAGS</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??saved</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">fCall</span><span class="sc0">





</span><span class="sc5">iCall</span><span class="sc0">   </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">sCall</span><span class="sc4">&gt;</span><span class="sc0">














</span><span class="sc9">IFNDEF</span><span class="sc0">  </span><span class="sc5">STANDARD_CCALL</span><span class="sc0">
</span><span class="sc5">NONSTANDARD_CCALL</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">flags</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0"> </span><span class="sc5">??_pushedargs</span><span class="sc0">

    </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0">   </span><span class="sc5">NONSTANDARD_CCALL</span><span class="sc0">
    </span><span class="sc5">??_popargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">??_popargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_align</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc10">SMALL</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_popargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FAST</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_popargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_popargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">

    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">x</span><span class="sc4">,&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">eq</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
        </span><span class="sc9">ifdifi</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">x</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc8">ecx</span><span class="sc4">&gt;</span><span class="sc0">
          </span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">first</span><span class="sc0"> </span><span class="sc5">parameter</span><span class="sc0"> </span><span class="sc5">must</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc8">ECX</span><span class="sc0"> </span><span class="sc9">for</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">functions</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">elseif</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">eq</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
        </span><span class="sc9">ifdifi</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">x</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc8">edx</span><span class="sc4">&gt;</span><span class="sc0">
          </span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">first</span><span class="sc0"> </span><span class="sc5">parameter</span><span class="sc0"> </span><span class="sc5">must</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc8">EDX</span><span class="sc0"> </span><span class="sc9">for</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">functions</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc5">?marg</span><span class="sc0">   </span><span class="sc4">&lt;</span><span class="sc5">x</span><span class="sc4">&gt;,%</span><span class="sc5">??_argc</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">?marg</span><span class="sc0">   </span><span class="sc4">&lt;</span><span class="sc5">x</span><span class="sc4">&gt;,%</span><span class="sc5">??_argc</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc5">??_pushedargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc4">-</span><span class="sc2">2</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">??_pushedargs</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc5">??_pushedargs</span><span class="sc0"> </span><span class="sc9">GT</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
      </span><span class="sc9">rept</span><span class="sc0">    </span><span class="sc5">??_argc</span><span class="sc0">
    </span><span class="sc5">?invprg</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">?AM</span><span class="sc4">&gt;,%</span><span class="sc5">?count</span><span class="sc0">
    </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">?count</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
      </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
















</span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">fPreserveFlags</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">ne</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_popargs</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">LE</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0">
      </span><span class="sc9">rept</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0">
      </span><span class="sc6">pop</span><span class="sc0"> </span><span class="sc8">ecx</span><span class="sc0">
      </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">elseifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">fPreserveFlags</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">PRESERVE_FLAGS</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc6">lea</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">esp</span><span class="sc4">][</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc6">add</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">



</span><span class="sc5">?marg</span><span class="sc0">   </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?AM</span><span class="sc4">&amp;</span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc9">.cref</span><span class="sc0">
    </span><span class="sc5">?AM</span><span class="sc4">&amp;</span><span class="sc5">num</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc4">&amp;</span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?marg</span><span class="sc0">



</span><span class="sc5">?invprg</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc5">name1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">name2</span><span class="sc0">
    </span><span class="sc5">name1</span><span class="sc4">&amp;</span><span class="sc5">name2</span><span class="sc0">
    </span><span class="sc9">purge</span><span class="sc0">   </span><span class="sc5">name1</span><span class="sc4">&amp;</span><span class="sc5">name2</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?invprg</span><span class="sc0">



</span><span class="sc5">?scall</span><span class="sc0">  </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc5">prefix</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">name1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">name2</span><span class="sc0">
    </span><span class="sc5">CondExtern</span><span class="sc0"> </span><span class="sc5">prefix</span><span class="sc4">&amp;</span><span class="sc5">name1</span><span class="sc4">&amp;</span><span class="sc5">@</span><span class="sc4">&amp;</span><span class="sc5">name2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc10">near</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">prefix</span><span class="sc4">&amp;</span><span class="sc5">name1</span><span class="sc4">&amp;</span><span class="sc5">@</span><span class="sc4">&amp;</span><span class="sc5">name2</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">  </span><span class="sc5">?scall</span><span class="sc0">



</span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc5">l1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">l2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">l3</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">l4</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">op</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r3</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r4</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r5</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r6</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r7</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r8</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">r9</span><span class="sc0">
    </span><span class="sc5">l1</span><span class="sc4">&amp;</span><span class="sc5">l2</span><span class="sc4">&amp;</span><span class="sc5">l3</span><span class="sc4">&amp;</span><span class="sc5">l4</span><span class="sc0"> </span><span class="sc5">op</span><span class="sc0"> </span><span class="sc5">r1</span><span class="sc4">&amp;</span><span class="sc5">r2</span><span class="sc4">&amp;</span><span class="sc5">r3</span><span class="sc4">&amp;</span><span class="sc5">r4</span><span class="sc4">&amp;</span><span class="sc5">r5</span><span class="sc4">&amp;</span><span class="sc5">r6</span><span class="sc4">&amp;</span><span class="sc5">r7</span><span class="sc4">&amp;</span><span class="sc5">r8</span><span class="sc4">&amp;</span><span class="sc5">r9</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">



</span><span class="sc5">?toupper</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">s</span><span class="sc0">
      </span><span class="sc5">?upper</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;&gt;</span><span class="sc0">
      </span><span class="sc9">irpc</span><span class="sc0"> </span><span class="sc5">x</span><span class="sc4">,&lt;</span><span class="sc5">s</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc12">'&amp;x'</span><span class="sc0"> </span><span class="sc9">GE</span><span class="sc0"> </span><span class="sc12">'a'</span><span class="sc0">
      </span><span class="sc9">if</span><span class="sc0"> </span><span class="sc12">'&amp;x'</span><span class="sc0"> </span><span class="sc9">LE</span><span class="sc0"> </span><span class="sc12">'z'</span><span class="sc0">
    </span><span class="sc5">?t1</span><span class="sc0"> </span><span class="sc9">substr</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">ABCDEFGHIJKLMNOPQRSTUVWXYZ</span><span class="sc4">&gt;,</span><span class="sc12">'&amp;x'</span><span class="sc4">-</span><span class="sc12">'a'</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc4">,</span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">?upper</span><span class="sc0"> </span><span class="sc9">catstr</span><span class="sc0"> </span><span class="sc5">?upper</span><span class="sc4">,</span><span class="sc5">?t1</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">?upper</span><span class="sc0"> </span><span class="sc9">catstr</span><span class="sc0"> </span><span class="sc5">?upper</span><span class="sc4">,&lt;&amp;</span><span class="sc5">x</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">?upper</span><span class="sc0"> </span><span class="sc9">catstr</span><span class="sc0"> </span><span class="sc5">?upper</span><span class="sc4">,&lt;&amp;</span><span class="sc5">x</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
    </span><span class="sc9">.xcref</span><span class="sc0">






</span><span class="sc5">CondExtern</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">,</span><span class="sc5">dist</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">MASM6</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
    </span><span class="sc9">externdef</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">:</span><span class="sc5">dist</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">if2</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc0">
        </span><span class="sc9">extrn</span><span class="sc0"> </span><span class="sc9">name</span><span class="sc4">:</span><span class="sc5">dist</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">



</span><span class="sc5">SaveReg</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">   </span><span class="sc5">reglist</span><span class="sc0">
    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">reg</span><span class="sc4">,&lt;</span><span class="sc5">reglist</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">reg</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">fd</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc6">pushfd</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">reg</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">ad</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc6">pushad</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">Pushad_Struc</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">reg</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">







</span><span class="sc5">RestoreReg</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">     </span><span class="sc5">reglist</span><span class="sc0">
    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">reg</span><span class="sc4">,&lt;</span><span class="sc5">reglist</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">reg</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">fd</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc6">popfd</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">reg</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">ad</span><span class="sc4">&gt;</span><span class="sc0">
        </span><span class="sc6">popad</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">Pushad_Struc</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
        </span><span class="sc6">pop</span><span class="sc0"> </span><span class="sc5">reg</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc5">Begin_Profile_List</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">devname</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
</span><span class="sc5">VxD_DATA_SEG</span><span class="sc0">
    </span><span class="sc9">db</span><span class="sc0">  </span><span class="sc12">'PROCLIST'</span><span class="sc0">
</span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">devname</span><span class="sc4">&amp;</span><span class="sc5">_Proc_Profile_List</span><span class="sc0">
</span><span class="sc5">devname</span><span class="sc4">&amp;</span><span class="sc5">_Proc_Profile_List</span><span class="sc0"> </span><span class="sc9">label</span><span class="sc0"> </span><span class="sc10">dword</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">Profile_Link</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">modname</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
</span><span class="sc9">ifdifi</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">modname</span><span class="sc4">&gt;,</span><span class="sc5">@filename</span><span class="sc0">
</span><span class="sc9">EXTRN</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">modname</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc4">:</span><span class="sc10">near</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">_</span><span class="sc4">&amp;</span><span class="sc5">modname</span><span class="sc4">&amp;</span><span class="sc5">__proc_list</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">End_Profile_List</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">profileall</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">VxD_DATA_ENDS</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">


</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
</span><span class="sc5">RESERVED_LOW_BOOST</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000001H</span><span class="sc0">
</span><span class="sc5">CUR_RUN_VM_BOOST</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000004H</span><span class="sc0">
</span><span class="sc5">LOW_PRI_DEVICE_BOOST</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00000010H</span><span class="sc0">
</span><span class="sc5">HIGH_PRI_DEVICE_BOOST</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00001000H</span><span class="sc0">
</span><span class="sc5">CRITICAL_SECTION_BOOST</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00100000H</span><span class="sc0">
</span><span class="sc5">TIME_CRITICAL_BOOST</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00400000H</span><span class="sc0">
</span><span class="sc5">RESERVED_HIGH_BOOST</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">40000000H</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_STI_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_STI</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_STI_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_CRIT_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_CRIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_CRIT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_DONT_UNBOOST_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">PEF_DONT_UNBOOST</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_DONT_UNBOOST_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_ALWAYS_SCHED_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">PEF_ALWAYS_SCHED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_ALWAYS_SCHED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_TIME_OUT_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">PEF_TIME_OUT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_TIME_OUT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_HW_INT_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_HW_INT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_HW_INT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_NESTED_EXEC_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_NESTED_EXEC</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_NESTED_EXEC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_IN_PM_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">7</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_IN_PM</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_IN_PM_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_THREAD_EVENT_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
</span><span class="sc5">PEF_THREAD_EVENT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_THREAD_EVENT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_THREAD_STI_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">9</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_THREAD_STI</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_THREAD_STI_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_RING0_EVENT_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10</span><span class="sc0">
</span><span class="sc5">PEF_RING0_EVENT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_RING0_EVENT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_CRIT_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">11</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_CRIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_CRIT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_CRIT_VM_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_CRIT_VM</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_CRIT_VM_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_PROCESS_LAST_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">13</span><span class="sc0">
</span><span class="sc5">PEF_PROCESS_LAST</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_PROCESS_LAST_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_PREEMPTABLE_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">14</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_PREEMPTABLE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_PREEMPTABLE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_PASSIVE_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">15</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_PASSIVE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_PASSIVE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_APPY_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_APPY</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_APPY_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_WORKER_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">17</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_WORKER</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_WORKER_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_TIME_CRIT_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_HW_INT_BIT</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_TIME_CRIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_HW_INT</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_PM_LOCKED_STACK_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_NESTED_EXEC_BIT</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_NOT_PM_LOCKED_STACK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_NOT_NESTED_EXEC</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_CONFIGMG_CALLABLE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_WORKER</span><span class="sc0">
</span><span class="sc5">PEF_WAIT_FOR_CONFIGMG_QUICK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">PEF_WAIT_FOR_APPY</span><span class="sc0">
</span><span class="sc5">BLOCK_SVC_INTS_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">BLOCK_SVC_INTS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">BLOCK_SVC_INTS_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">BLOCK_SVC_IF_INTS_LOCKED_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">BLOCK_SVC_IF_INTS_LOCKED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">BLOCK_SVC_IF_INTS_LOCKED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">BLOCK_ENABLE_INTS_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">BLOCK_ENABLE_INTS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">BLOCK_ENABLE_INTS_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">BLOCK_POLL_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">BLOCK_POLL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">BLOCK_POLL_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">BLOCK_THREAD_IDLE_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">BLOCK_THREAD_IDLE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">BLOCK_THREAD_IDLE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">BLOCK_FORCE_SVC_INTS_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">BLOCK_FORCE_SVC_INTS</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">BLOCK_FORCE_SVC_INTS_BIT</span><span class="sc4">)</span><span class="sc0">

</span><span class="sc5">Client_Reg_Struc</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">Client_EDI</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_ESI</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_EBP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res0</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_EBX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_EDX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_ECX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_EAX</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Error</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_EIP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_CS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res1</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_EFlags</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_ESP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_SS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res2</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_ES</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res3</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_DS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res4</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_FS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res5</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_GS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res6</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_EIP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_CS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res7</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_EFlags</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_ESP</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_SS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res8</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_ES</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res9</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_DS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res10</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_FS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res11</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_GS</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res12</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Reg_Struc</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">Client_Word_Reg_Struc</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">Client_DI</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res13</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_SI</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res14</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_BP</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res15</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res16</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_BX</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res17</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_DX</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res18</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_CX</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res19</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_AX</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res20</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res21</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_IP</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res22</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res23</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Flags</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res24</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_SP</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res25</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res26</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">5</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">Client_Alt_IP</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res27</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res28</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_Flags</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res29</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Alt_SP</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Word_Reg_Struc</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">Client_Byte_Reg_Struc</span><span class="sc0">   </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">Client_res30</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">Client_BL</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_BH</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res31</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_DL</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_DH</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res32</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_CL</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_CH</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_res33</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_AL</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_AH</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">Client_Byte_Reg_Struc</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">?UnionSize</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">Client_Reg_Struc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc5">?UnionSize</span><span class="sc0">
    </span><span class="sc5">?UnionSize</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">Client_Reg_Struc</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">CRS</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc4">)&gt;</span><span class="sc0">

</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">Client_Word_Reg_Struc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc5">?UnionSize</span><span class="sc0">
    </span><span class="sc5">?UnionSize</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">Client_Word_Reg_Struc</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">CWRS</span><span class="sc0">    </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc4">)&gt;</span><span class="sc0">

</span><span class="sc9">if</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">Client_Byte_Reg_Struc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc5">?UnionSize</span><span class="sc0">
    </span><span class="sc5">?UnionSize</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc9">size</span><span class="sc0"> </span><span class="sc5">Client_Byte_Reg_Struc</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">CBRS</span><span class="sc0">    </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;(</span><span class="sc10">byte</span><span class="sc0"> </span><span class="sc9">ptr</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc4">)&gt;</span><span class="sc0">


</span><span class="sc5">tagCLIENT_STRUC</span><span class="sc0"> </span><span class="sc9">STRUC</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc5">?UnionSize</span><span class="sc0"> </span><span class="sc9">dup</span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">tagCLIENT_STRUC</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">.ERRNZ</span><span class="sc0"> </span><span class="sc5">Client_SP</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">Client_ESP</span><span class="sc0">
</span><span class="sc9">.ERRNZ</span><span class="sc0"> </span><span class="sc5">Client_AL</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">Client_EAX</span><span class="sc0">

</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">DYNA_LINK_INT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">20H</span><span class="sc0">












</span><span class="sc5">DeclareNonstandardCcallService</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc0">
    </span><span class="sc9">irp</span><span class="sc0"> </span><span class="sc5">x</span><span class="sc4">,&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;&amp;</span><span class="sc5">x</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">endm</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">






</span><span class="sc5">DeclareNonstandardCcallService</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">_BlockOnID</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">_LocalizeSprintf</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">DeclareNonstandardCcallService</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">_SetLastV86Page</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">













</span><span class="sc5">EndDoc</span><span class="sc0">


</span><span class="sc5">BeginDoc</span><span class="sc0">








</span><span class="sc5">EndDoc</span><span class="sc0">

</span><span class="sc5">DefTable</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">vt</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">vn</span><span class="sc0">
    </span><span class="sc5">vt</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">vn</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">GenDD2</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">vt</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">sn</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">jf</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">vt</span><span class="sc4">[</span><span class="sc5">sn</span><span class="sc4">+</span><span class="sc5">jf</span><span class="sc4">]</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">GenDD</span><span class="sc0">   </span><span class="sc9">MACRO</span><span class="sc0">   </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">vid</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">snum</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">jflag</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0">   </span><span class="sc5">vtable</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0">   </span><span class="sc5">@@VxDName</span><span class="sc4">&amp;</span><span class="sc5">vid</span><span class="sc0">
    </span><span class="sc5">Deftable</span><span class="sc0">    </span><span class="sc5">vtable</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%@@VxDName</span><span class="sc4">&amp;</span><span class="sc5">vid</span><span class="sc0">
    </span><span class="sc9">EXTRN</span><span class="sc0">   </span><span class="sc5">vtable</span><span class="sc4">:</span><span class="sc10">DWORD</span><span class="sc0">
    </span><span class="sc5">GenDD2</span><span class="sc0"> </span><span class="sc5">%vtable</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">snum</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">jflag</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">+</span><span class="sc5">jflag</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">ENDM</span><span class="sc0">


</span><span class="sc5">VxDCall</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Param</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">flags</span><span class="sc0">
    </span><span class="sc5">??_vxdid</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc5">??_servicenum</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc2">0FFFFh</span><span class="sc4">)</span><span class="sc0">

    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FAST</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">ne</span><span class="sc0"> </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">wrong</span><span class="sc0"> # </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">&amp;&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">ne</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">),</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">wrong</span><span class="sc0"> # </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">function</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">&amp;&gt;</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FAST</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">int</span><span class="sc0"> </span><span class="sc5">Dyna_Link_Int</span><span class="sc0">
    </span><span class="sc5">GenDD</span><span class="sc0">   </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%??_vxdid</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%??_servicenum</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc5">PRESERVE_FLAGS</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxDJmp</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Param</span><span class="sc0">
    </span><span class="sc5">??_vxdid</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc5">??_servicenum</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc2">0FFFFh</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">More</span><span class="sc0"> </span><span class="sc5">than</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">may</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">functions</span><span class="sc0"> </span><span class="sc5">thru</span><span class="sc0"> </span><span class="sc5">VxDJmp</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc9">.errnb</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Parameters</span><span class="sc0"> </span><span class="sc5">may</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">VxDJmp</span><span class="sc0"> </span><span class="sc6">or</span><span class="sc0"> </span><span class="sc5">VMMJmp</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">int</span><span class="sc0"> </span><span class="sc5">Dyna_Link_Int</span><span class="sc0">
    </span><span class="sc5">GenDD</span><span class="sc0">   </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%??_vxdid</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">%??_servicenum</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">DL_Jmp_Mask</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">DL_Jmp_Mask</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">8000h</span><span class="sc0">
</span><span class="sc5">DL_Jmp_Bit</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0Fh</span><span class="sc0">

</span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Param</span><span class="sc0">
    </span><span class="sc9">.ERRNZ</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">VMM_DEVICE_ID</span><span class="sc0">
    </span><span class="sc5">VxDCall</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">P</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VMMJmp</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Param</span><span class="sc0">
    </span><span class="sc9">.ERRNZ</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">VMM_DEVICE_ID</span><span class="sc0">
    </span><span class="sc5">VxDJmp</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">P</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">WDMCall</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Param</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">flags</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FAST</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">ne</span><span class="sc0"> </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">wrong</span><span class="sc0"> # </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">&amp;&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">ne</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">),</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">wrong</span><span class="sc0"> # </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">function</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">&amp;&gt;</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">flags</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FAST</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc5">WDM@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc6">int</span><span class="sc0"> </span><span class="sc5">WDM_DynaLink_Int</span><span class="sc0">
    </span><span class="sc6">nop</span><span class="sc0">
    </span><span class="sc6">nop</span><span class="sc0">
    </span><span class="sc6">nop</span><span class="sc0">
    </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">??_standardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_nonstandardccall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0"> </span><span class="sc5">PRESERVE_FLAGS</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc5">ClearCParams</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0">
        </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
      </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">WDMJmp</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Param</span><span class="sc0">
    </span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">??_fastcall_</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc0">
      </span><span class="sc5">PushCParams</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">FASTCALL</span><span class="sc4">&gt;</span><span class="sc0">
      </span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">??_argc</span><span class="sc0"> </span><span class="sc9">gt</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">More</span><span class="sc0"> </span><span class="sc5">than</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0"> </span><span class="sc5">parameters</span><span class="sc0"> </span><span class="sc5">may</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">fastcall</span><span class="sc0"> </span><span class="sc5">functions</span><span class="sc0"> </span><span class="sc5">thru</span><span class="sc0"> </span><span class="sc5">VxDJmp</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
      </span><span class="sc9">.errnb</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Param</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Parameters</span><span class="sc0"> </span><span class="sc5">may</span><span class="sc0"> </span><span class="sc6">not</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc5">passed</span><span class="sc0"> </span><span class="sc5">to</span><span class="sc0"> </span><span class="sc5">WDMJmp</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">WDM@@</span><span class="sc4">&amp;</span><span class="sc5">P</span><span class="sc4">+</span><span class="sc5">WDM_DL_Jmp_Mask</span><span class="sc0">
    </span><span class="sc6">int</span><span class="sc0"> </span><span class="sc5">WDM_DynaLink_Int</span><span class="sc0">
    </span><span class="sc6">nop</span><span class="sc0">
    </span><span class="sc6">nop</span><span class="sc0">
    </span><span class="sc6">nop</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">WDM_DL_Jmp_Mask</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">80000000h</span><span class="sc0">
</span><span class="sc5">WDM_DL_Jmp_Bit</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">31</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">




























</span><span class="sc5">EndDoc</span><span class="sc0">




</span><span class="sc5">VxD_CODE_SEG</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD_LOCKED_CODE_SEG</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VxD_CODE_ENDS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD_LOCKED_CODE_ENDS</span><span class="sc4">&gt;</span><span class="sc0">


</span><span class="sc5">VxD_LOCKED_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_LTEXT</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_LCODE</span><span class="sc0">
   </span><span class="sc9">ASSUME</span><span class="sc0">   </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_LOCKED_CODE_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_LTEXT</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_PAGEABLE_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_PTEXT</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_PCODE</span><span class="sc0">
   </span><span class="sc9">ASSUME</span><span class="sc0">   </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_PAGEABLE_CODE_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_PTEXT</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_DEBUG_ONLY_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_DB1CODE</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_DBOCODE</span><span class="sc0">
   </span><span class="sc9">ASSUME</span><span class="sc0">   </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_DEBUG_ONLY_CODE_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_DB1CODE</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_INIT_CODE_SEG</span><span class="sc0">   </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_ITEXT</span><span class="sc0">  </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_ICODE</span><span class="sc0">
    </span><span class="sc9">ASSUME</span><span class="sc0">  </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_INIT_CODE_ENDS</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_ITEXT</span><span class="sc0">  </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_ICODE_SEG</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc5">VxD_INIT_CODE_SEG</span><span class="sc0">
</span><span class="sc5">VxD_ICODE_ENDS</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc5">VxD_INIT_CODE_ENDS</span><span class="sc0">




</span><span class="sc5">VxD_DATA_SEG</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD_LOCKED_DATA_SEG</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VxD_DATA_ENDS</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxD_LOCKED_DATA_ENDS</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc5">VxD_LOCKED_DATA_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">NO_ALIGN</span><span class="sc0">
</span><span class="sc5">_LDATA</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">NO_ALIGN</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ALIGN</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_LOCKED_DATA_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_LDATA</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_IDATA_SEG</span><span class="sc0">   </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_IDATA</span><span class="sc0">  </span><span class="sc9">SEGMENT</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc5">VxD_IDATA_ENDS</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_IDATA</span><span class="sc0">  </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_PAGEABLE_DATA_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">NO_ALIGN</span><span class="sc0">
</span><span class="sc5">_PDATA</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">NO_ALIGN</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ALIGN</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_PAGEABLE_DATA_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_PDATA</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_STATIC_CODE_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_STEXT</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_SCODE</span><span class="sc0">
   </span><span class="sc9">ASSUME</span><span class="sc0">   </span><span class="sc8">cs</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">es</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ss</span><span class="sc4">:</span><span class="sc10">FLAT</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_STATIC_CODE_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_STEXT</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_STATIC_DATA_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">NO_ALIGN</span><span class="sc0">
</span><span class="sc5">_SDATA</span><span class="sc0">   </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">NO_ALIGN</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ALIGN</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_STATIC_DATA_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_SDATA</span><span class="sc0">   </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">



</span><span class="sc5">VxD_DEBUG_ONLY_DATA_SEG</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">NO_ALIGN</span><span class="sc0">
</span><span class="sc5">_DB2DATA</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">NO_ALIGN</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">ALIGN</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_DEBUG_ONLY_DATA_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_DB2DATA</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">




</span><span class="sc5">VxD_16BIT_INIT_SEG</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_16ICODE</span><span class="sc0"> </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc9">ASSUME</span><span class="sc0"> </span><span class="sc8">CS</span><span class="sc4">:</span><span class="sc5">_16ICODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc4">:</span><span class="sc10">NOTHING</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">:</span><span class="sc10">NOTHING</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">SS</span><span class="sc4">:</span><span class="sc10">NOTHING</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_16ICODE</span><span class="sc0">
      </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_16BIT_INIT_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_16ICODE</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">
       </span><span class="sc9">ENDM</span><span class="sc0">



</span><span class="sc5">VxD_REAL_INIT_SEG</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">_RCODE</span><span class="sc0"> </span><span class="sc9">SEGMENT</span><span class="sc0">
</span><span class="sc9">ASSUME</span><span class="sc0"> </span><span class="sc8">CS</span><span class="sc4">:</span><span class="sc5">_RCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc4">:</span><span class="sc5">_RCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">:</span><span class="sc5">_RCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">SS</span><span class="sc4">:</span><span class="sc5">_RCODE</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">??_RCODE</span><span class="sc0">
      </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxD_REAL_INIT_ENDS</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
</span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_CUR_CODE_SEG</span><span class="sc0"> </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">_RCODE</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">
       </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">DDK_VERSION</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WIN31COMPAT</span><span class="sc0">
</span><span class="sc5">DDK_VERSION</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">30AH</span><span class="sc0">
</span><span class="sc9">else</span><span class="sc0">
</span><span class="sc9">ifdef</span><span class="sc0"> </span><span class="sc5">WIN40COMPAT</span><span class="sc0">
</span><span class="sc5">DDK_VERSION</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">400H</span><span class="sc0">
</span><span class="sc9">else</span><span class="sc0">
</span><span class="sc5">DDK_VERSION</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">40AH</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">

</span><span class="sc5">VxD_Desc_Block</span><span class="sc0">  </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">DDB_Next</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DDB_SDK_Version</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc5">DDK_VERSION</span><span class="sc0">
</span><span class="sc5">DDB_Req_Device_Number</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc5">UNDEFINED_DEVICE_ID</span><span class="sc0">
</span><span class="sc5">DDB_Dev_Major_Version</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Dev_Minor_Version</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Flags</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Name</span><span class="sc0">    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc3">"        "</span><span class="sc0">
</span><span class="sc5">DDB_Init_Order</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc5">UNDEFINED_INIT_ORDER</span><span class="sc0">
</span><span class="sc5">DDB_Control_Proc</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DDB_V86_API_Proc</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_PM_API_Proc</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_V86_API_CSIP</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_PM_API_CSIP</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Reference_Data</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DDB_Service_Table_Ptr</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Service_Table_Size</span><span class="sc0">  </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Win32_Service_Table</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_Prev</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc12">'Prev'</span><span class="sc0">
</span><span class="sc5">DDB_Size</span><span class="sc0">    </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc9">SIZE</span><span class="sc4">(</span><span class="sc5">VxD_Desc_Block</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DDB_Reserved1</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc12">'Rsv1'</span><span class="sc0">
</span><span class="sc5">DDB_Reserved2</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc12">'Rsv2'</span><span class="sc0">
</span><span class="sc5">DDB_Reserved3</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc12">'Rsv3'</span><span class="sc0">
</span><span class="sc5">VxD_Desc_Block</span><span class="sc0">  </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">Not_VxD</span><span class="sc0">
</span><span class="sc5">DDB_SYS_CRIT_INIT_DONE_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DDB_SYS_CRIT_INIT_DONE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DDB_SYS_CRIT_INIT_DONE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DDB_DEVICE_INIT_DONE_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">DDB_DEVICE_INIT_DONE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DDB_DEVICE_INIT_DONE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DDB_HAS_WIN32_SVCS_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">14</span><span class="sc0">
</span><span class="sc5">DDB_HAS_WIN32_SVCS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DDB_HAS_WIN32_SVCS_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DDB_DYNAMIC_VXD_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">15</span><span class="sc0">
</span><span class="sc5">DDB_DYNAMIC_VXD</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DDB_DYNAMIC_VXD_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DDB_DEVICE_DYNALINKED_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">13</span><span class="sc0">
</span><span class="sc5">DDB_DEVICE_DYNALINKED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DDB_DEVICE_DYNALINKED_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">BeginDoc</span><span class="sc0">







</span><span class="sc5">EndDoc</span><span class="sc0">
</span><span class="sc5">Declare_Virtual_Device</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Major_Ver</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Minor_Ver</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Ctrl_Proc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Device_Num</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Init_Order</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">V86_Proc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">PM_Proc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Reference_Data</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0">   </span><span class="sc5">V86_API_Offset</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">PM_API_Offset</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Serv_Tab_Offset</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Serv_Tab_Len</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Ref_Data_Offset</span><span class="sc0">

</span><span class="sc5">dev_id_err</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">

</span><span class="sc9">IFNDEF</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">&amp;</span><span class="sc5">_Name_Based</span><span class="sc0">
</span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Device</span><span class="sc0"> </span><span class="sc5">ID</span><span class="sc0"> </span><span class="sc5">required</span><span class="sc0"> </span><span class="sc5">when</span><span class="sc0"> </span><span class="sc5">providing</span><span class="sc0"> </span><span class="sc5">services</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">V86_Proc</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">V86_API_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
 </span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Device_Num</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">dev_id_err</span><span class="sc0">
 </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">V86_API_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">V86_Proc</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">PM_Proc</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">PM_API_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
 </span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Device_Num</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">dev_id_err</span><span class="sc0">
 </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">PM_API_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">PM_Proc</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">&amp;</span><span class="sc5">_Service_Table</span><span class="sc0">
 </span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Device_Num</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">dev_id_err</span><span class="sc0">
 </span><span class="sc9">ELSE</span><span class="sc0">
  </span><span class="sc9">IFE</span><span class="sc0"> </span><span class="sc5">Device_Num</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">UNDEFINED_DEVICE_ID</span><span class="sc0">
    </span><span class="sc5">dev_id_err</span><span class="sc0">
  </span><span class="sc9">ENDIF</span><span class="sc0">
 </span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">Serv_Tab_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">&amp;</span><span class="sc5">_Service_Table</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">Serv_Tab_Len</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc5">Num_</span><span class="sc4">&amp;</span><span class="sc9">Name</span><span class="sc4">&amp;</span><span class="sc5">_Services</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">Serv_Tab_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc5">Serv_Tab_Len</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFNB</span><span class="sc0">    </span><span class="sc4">&lt;</span><span class="sc5">Device_Num</span><span class="sc4">&gt;</span><span class="sc0">
  </span><span class="sc9">.erre</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Device_Num</span><span class="sc0"> </span><span class="sc9">LT</span><span class="sc0"> </span><span class="sc5">BASEID_FOR_NAMEBASEDVXD</span><span class="sc4">),</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Device</span><span class="sc0"> </span><span class="sc5">ID</span><span class="sc0">  </span><span class="sc5">must</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc5">less</span><span class="sc0"> </span><span class="sc5">than</span><span class="sc0"> </span><span class="sc5">BASEID_FOR_NAMEBASEDVXD</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Reference_Data</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc5">Ref_Data_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">Ref_Data_Offset</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0">   </span><span class="sc4">&lt;</span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">Reference_Data</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc5">VxD_IDATA_SEG</span><span class="sc0">
    </span><span class="sc9">db</span><span class="sc0">  </span><span class="sc2">0dh</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0ah</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc12">'D_E_B_U_G===&gt;'</span><span class="sc0">
    </span><span class="sc9">db</span><span class="sc0">  </span><span class="sc3">"&amp;Name"</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc12">'&lt;==='</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0dh</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc2">0ah</span><span class="sc0">
</span><span class="sc5">VxD_IDATA_ENDS</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">VxD_LOCKED_DATA_SEG</span><span class="sc0">

</span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc9">Name</span><span class="sc4">&amp;</span><span class="sc5">_DDB</span><span class="sc0">
</span><span class="sc9">Name</span><span class="sc4">&amp;</span><span class="sc5">_DDB</span><span class="sc0"> </span><span class="sc5">VxD_Desc_Block</span><span class="sc0"> </span><span class="sc4">&lt;,,</span><span class="sc5">Device_Num</span><span class="sc4">,</span><span class="sc5">Major_Ver</span><span class="sc4">,</span><span class="sc5">Minor_Ver</span><span class="sc4">,,</span><span class="sc3">"&amp;Name"</span><span class="sc4">,</span><span class="sc5">Init_Order</span><span class="sc4">,\
</span><span class="sc0">         </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">Ctrl_Proc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">V86_API_Offset</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">PM_API_Offset</span><span class="sc4">,</span><span class="sc0"> \
         </span><span class="sc4">,,</span><span class="sc5">Ref_Data_Offset</span><span class="sc4">,</span><span class="sc5">Serv_Tab_Offset</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Serv_Tab_Len</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc5">VxD_LOCKED_DATA_ENDS</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">





























</span><span class="sc5">Begin_Control_Dispatch</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">VxD_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">p1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">p2</span><span class="sc0">
</span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0FFFFFFFFh</span><span class="sc0">
</span><span class="sc5">??_cd_high</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">

</span><span class="sc5">BeginProc</span><span class="sc0"> </span><span class="sc5">VxD_Name</span><span class="sc4">&amp;</span><span class="sc5">_Control</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">p1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">p2</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">LOCKED</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">End_Control_Dispatch</span><span class="sc0">   </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">VxD_Name</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0"> </span><span class="sc5">ignore</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">table</span><span class="sc0">

</span><span class="sc5">procoff</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">num</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">??_cd_</span><span class="sc4">&amp;&amp;</span><span class="sc5">num</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">??_cd_</span><span class="sc4">&amp;&amp;</span><span class="sc5">num</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">ignore</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc5">??_cd_high</span><span class="sc0">
    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0">
    </span><span class="sc5">?merge</span><span class="sc0">  </span><span class="sc4">&lt;</span><span class="sc6">jz</span><span class="sc4">&gt;,,,,,&lt;</span><span class="sc5">??_cd_</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc5">%</span><span class="sc4">(</span><span class="sc5">??_cd_low</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc6">clc</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc9">GT</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc6">sub</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">??_cd_high</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc6">jae</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc5">ignore</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">eax</span><span class="sc4">*</span><span class="sc2">4</span><span class="sc4">+</span><span class="sc5">table</span><span class="sc4">]</span><span class="sc0">
</span><span class="sc5">ignore</span><span class="sc4">:</span><span class="sc0">
    </span><span class="sc6">clc</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">

</span><span class="sc5">table</span><span class="sc0"> </span><span class="sc9">label</span><span class="sc0"> </span><span class="sc10">dword</span><span class="sc0">
    </span><span class="sc9">REPT</span><span class="sc0">   </span><span class="sc5">??_cd_high</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc5">procoff</span><span class="sc0"> </span><span class="sc5">%</span><span class="sc4">(</span><span class="sc5">??_cd_low</span><span class="sc4">)</span><span class="sc0">
    </span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">EndProc</span><span class="sc0"> </span><span class="sc5">VxD_Name</span><span class="sc4">&amp;</span><span class="sc5">_Control</span><span class="sc0">

</span><span class="sc9">PURGE</span><span class="sc0"> </span><span class="sc5">procoff</span><span class="sc0">
</span><span class="sc9">PURGE</span><span class="sc0"> </span><span class="sc5">Begin_Control_Dispatch</span><span class="sc0">
</span><span class="sc9">PURGE</span><span class="sc0"> </span><span class="sc5">Control_Dispatch</span><span class="sc0">
</span><span class="sc9">PURGE</span><span class="sc0"> </span><span class="sc5">End_Control_Dispatch</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">




















</span><span class="sc5">EndDoc</span><span class="sc0">
</span><span class="sc5">Control_Dispatch</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">callc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">arglst</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0"> </span><span class="sc5">Skip_Interseg_Jump</span><span class="sc0">

</span><span class="sc9">.errnz</span><span class="sc0"> </span><span class="sc5">?_LCODE</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Control_Dispatch</span><span class="sc0"> </span><span class="sc5">must</span><span class="sc0"> </span><span class="sc5">be</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc5">VxD_LOCKED_CODE_SEG.</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">callc</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0">
</span><span class="sc5">Equate_Service</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Serv</span><span class="sc0">
</span><span class="sc5">??_cd_</span><span class="sc4">&amp;&amp;</span><span class="sc5">Serv</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc5">Procedure</span><span class="sc0">
</span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">Equate_Service</span><span class="sc0"> </span><span class="sc5">%</span><span class="sc4">(</span><span class="sc5">Service</span><span class="sc4">)</span><span class="sc0">

</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0"> </span><span class="sc9">LT</span><span class="sc0"> </span><span class="sc5">??_cd_low</span><span class="sc0">
</span><span class="sc5">??_cd_low</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0"> </span><span class="sc9">GT</span><span class="sc0"> </span><span class="sc5">??_cd_high</span><span class="sc0">
</span><span class="sc5">??_cd_high</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">PURGE</span><span class="sc0"> </span><span class="sc5">Equate_Service</span><span class="sc0">

</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0">
    </span><span class="sc6">jz</span><span class="sc0">  </span><span class="sc5">Procedure</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc9">ELSE</span><span class="sc0">

    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0">
    </span><span class="sc6">jne</span><span class="sc0"> </span><span class="sc9">SHORT</span><span class="sc0"> </span><span class="sc5">Skip_Interseg_Jump</span><span class="sc0">
    </span><span class="sc5">callc</span><span class="sc0">   </span><span class="sc5">Procedure</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">arglst</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">Service</span><span class="sc0"> </span><span class="sc9">EQ</span><span class="sc0"> </span><span class="sc5">PNP_NEW_DEVNODE</span><span class="sc0">
    </span><span class="sc6">stc</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc4">,</span><span class="sc2">1</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">
</span><span class="sc5">Skip_Interseg_Jump</span><span class="sc4">:</span><span class="sc0">

</span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BYTE_INPUT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000H</span><span class="sc0">
</span><span class="sc5">BYTE_OUTPUT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">004H</span><span class="sc0">
</span><span class="sc5">WORD_INPUT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">008H</span><span class="sc0">
</span><span class="sc5">WORD_OUTPUT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">00CH</span><span class="sc0">
</span><span class="sc5">DWORD_INPUT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">010H</span><span class="sc0">
</span><span class="sc5">DWORD_OUTPUT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">014H</span><span class="sc0">
</span><span class="sc5">OUTPUT_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">OUTPUT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">OUTPUT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">WORD_IO_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">WORD_IO</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">WORD_IO_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DWORD_IO_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">DWORD_IO</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DWORD_IO_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">STRING_IO_BIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">STRING_IO</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">STRING_IO_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">REP_IO_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">REP_IO</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">REP_IO_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">ADDR_32_IO_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">7</span><span class="sc0">
</span><span class="sc5">ADDR_32_IO</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">ADDR_32_IO_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">REVERSE_IO_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
</span><span class="sc5">REVERSE_IO</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">REVERSE_IO_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">IO_SEG_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFF0000H</span><span class="sc0">
</span><span class="sc5">IO_SEG_SHIFT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10H</span><span class="sc0">
</span><span class="sc5">BeginDoc</span><span class="sc0">






</span><span class="sc5">EndDoc</span><span class="sc0">
</span><span class="sc5">Dispatch_Byte_IO</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">In_Proc</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Out_Proc</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0">   </span><span class="sc5">Byte_IO</span><span class="sc0">
    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">ecx</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Byte_Output</span><span class="sc0">
    </span><span class="sc6">jbe</span><span class="sc0"> </span><span class="sc9">SHORT</span><span class="sc0"> </span><span class="sc5">Byte_IO</span><span class="sc0">
    </span><span class="sc5">VMMJmp</span><span class="sc0">  </span><span class="sc5">Simulate_IO</span><span class="sc0">
</span><span class="sc5">Byte_IO</span><span class="sc4">:</span><span class="sc0">
</span><span class="sc9">IFIDNI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">In_Proc</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Fall_Through</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">je</span><span class="sc0">  </span><span class="sc5">Out_Proc</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc9">IFIDNI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Out_Proc</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Fall_Through</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">jb</span><span class="sc0">  </span><span class="sc5">In_Proc</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">je</span><span class="sc0">  </span><span class="sc5">Out_Proc</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc5">In_Proc</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">







</span><span class="sc5">EndDoc</span><span class="sc0">
</span><span class="sc5">Emulate_Non_Byte_IO</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">
    </span><span class="sc9">LOCAL</span><span class="sc0">   </span><span class="sc5">Byte_IO</span><span class="sc0">
    </span><span class="sc6">cmp</span><span class="sc0"> </span><span class="sc8">ecx</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Byte_Output</span><span class="sc0">
    </span><span class="sc6">jbe</span><span class="sc0"> </span><span class="sc9">SHORT</span><span class="sc0"> </span><span class="sc5">Byte_IO</span><span class="sc0">
    </span><span class="sc5">VMMJmp</span><span class="sc0">  </span><span class="sc5">Simulate_IO</span><span class="sc0">
</span><span class="sc5">Byte_IO</span><span class="sc4">:</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">








</span><span class="sc5">EndDoc</span><span class="sc0">


</span><span class="sc5">VxD_IOT_Hdr</span><span class="sc0"> </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">VxD_IO_Ports</span><span class="sc0">    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">VxD_IOT_Hdr</span><span class="sc0"> </span><span class="sc9">ENDS</span><span class="sc0">

</span><span class="sc5">VxD_IO_Struc</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">VxD_IO_Port</span><span class="sc0"> </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">VxD_IO_Proc</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">VxD_IO_Struc</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc9">.ERRNZ</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">VxD_IOT_Hdr</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">Begin_VxD_IO_Table</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Table_Name</span><span class="sc0">
</span><span class="sc9">PUBLIC</span><span class="sc0"> </span><span class="sc5">Table_Name</span><span class="sc0">
</span><span class="sc5">Table_Name</span><span class="sc0"> </span><span class="sc9">LABEL</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0">

</span><span class="sc9">ifndef</span><span class="sc0"> </span><span class="sc5">MASM6</span><span class="sc0">
</span><span class="sc9">IF2</span><span class="sc0">
</span><span class="sc9">IFNDEF</span><span class="sc0"> </span><span class="sc5">Table_Name</span><span class="sc4">&amp;</span><span class="sc5">_Entries</span><span class="sc0">
</span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">No</span><span class="sc0"> </span><span class="sc5">End_VxD_IO_Table</span><span class="sc0"> </span><span class="sc9">for</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">Table_Name</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc5">Table_Name</span><span class="sc4">&amp;</span><span class="sc5">_Entries</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc5">Table_Name</span><span class="sc4">&amp;</span><span class="sc5">_Entries</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc9">.ERRNZ</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">VxD_IO_Struc</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">VxD_IO</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Port</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Proc_Name</span><span class="sc0">
    </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc5">Port</span><span class="sc0">
    </span><span class="sc9">dd</span><span class="sc0">  </span><span class="sc5">OFFSET32</span><span class="sc0"> </span><span class="sc5">Proc_Name</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">End_VxD_IO_Table</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Table_Name</span><span class="sc0">

</span><span class="sc9">IFNDEF</span><span class="sc0"> </span><span class="sc5">Table_Name</span><span class="sc0">
</span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">No</span><span class="sc0"> </span><span class="sc5">Begin_VxD_IO_Table</span><span class="sc0"> </span><span class="sc9">for</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">Table_Name</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc5">Table_Name</span><span class="sc4">&amp;</span><span class="sc5">_Entries</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">((</span><span class="sc10">$</span><span class="sc4">-</span><span class="sc5">Table_Name</span><span class="sc4">)-</span><span class="sc2">2</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">/</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">VxD_IO_Struc</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc9">IF</span><span class="sc0"> </span><span class="sc5">Table_Name</span><span class="sc4">&amp;</span><span class="sc5">_Entries</span><span class="sc0"> </span><span class="sc9">LE</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc9">.err</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Invalid</span><span class="sc0"> </span><span class="sc5">number</span><span class="sc0"> </span><span class="sc5">of</span><span class="sc0"> </span><span class="sc5">port</span><span class="sc0"> </span><span class="sc5">traps</span><span class="sc0"> </span><span class="sc6">in</span><span class="sc0"> </span><span class="sc4">&amp;</span><span class="sc5">Table_Name</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">













</span><span class="sc5">Push_Client_State</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Can_Trash_EDI</span><span class="sc0">
    </span><span class="sc6">sub</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">Client_Reg_Struc</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">Client_Reg_Struc</span><span class="sc0">
    </span><span class="sc9">ifidni</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Can_Trash_EDI</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">USES_EDI</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">edi</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Save_Client_State</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc8">edi</span><span class="sc0">
    </span><span class="sc6">lea</span><span class="sc0"> </span><span class="sc8">edi</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">esp</span><span class="sc4">+</span><span class="sc2">4</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Save_Client_State</span><span class="sc0">
    </span><span class="sc6">pop</span><span class="sc0"> </span><span class="sc8">edi</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">Pop_Client_State</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Can_Trash_ESI</span><span class="sc0">
    </span><span class="sc9">ifdifi</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Can_Trash_ESI</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">USES_ESI</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc8">esi</span><span class="sc0">
    </span><span class="sc6">lea</span><span class="sc0"> </span><span class="sc8">esi</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">esp</span><span class="sc4">+</span><span class="sc2">4</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Restore_Client_State</span><span class="sc0">
    </span><span class="sc6">pop</span><span class="sc0"> </span><span class="sc8">esi</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">esi</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Restore_Client_State</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc6">add</span><span class="sc0"> </span><span class="sc8">esp</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">Client_Reg_Struc</span><span class="sc0">
    </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">=</span><span class="sc0"> </span><span class="sc5">??_pushed</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc0"> </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">Client_Reg_Struc</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">














</span><span class="sc5">EndDoc</span><span class="sc0">

</span><span class="sc5">CallRet</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">P1</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">P2</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
</span><span class="sc9">IFIDNI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">P1</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc9">SHORT</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">P2</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">P1</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc5">P1</span><span class="sc0"> </span><span class="sc5">P2</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">BeginDoc</span><span class="sc0">















</span><span class="sc5">EndDoc</span><span class="sc0">

</span><span class="sc5">CallJmp</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Function_Name</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Return_Label</span><span class="sc0">
</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">DEBUG</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">Function_Name</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0">     </span><span class="sc5">Return_Label</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">Return_Label</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0">     </span><span class="sc5">Function_Name</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">


</span><span class="sc5">BeginDoc</span><span class="sc0">






</span><span class="sc5">EndDoc</span><span class="sc0">

</span><span class="sc9">IFDEF</span><span class="sc0">   </span><span class="sc5">DEBUG</span><span class="sc0">

</span><span class="sc5">VxDCallRet</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">p</span><span class="sc4">:</span><span class="sc10">req</span><span class="sc0">
    </span><span class="sc5">VxDCall</span><span class="sc0"> </span><span class="sc5">p</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc5">VMMCallRet</span><span class="sc0"> </span><span class="sc9">macro</span><span class="sc0"> </span><span class="sc5">p</span><span class="sc4">:</span><span class="sc10">req</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">p</span><span class="sc0">
    </span><span class="sc6">ret</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc9">ELSE</span><span class="sc0">

</span><span class="sc5">VxDCallRet</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VxDJmp</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">VMMCallRet</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">VMMJmp</span><span class="sc4">&gt;</span><span class="sc0">

</span><span class="sc9">ENDIF</span><span class="sc0">



</span><span class="sc5">PClient_DS</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">PClient_ES</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc2">8</span><span class="sc0">
</span><span class="sc5">PClient_FS</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc2">12</span><span class="sc0">
</span><span class="sc5">PClient_GS</span><span class="sc0"> </span><span class="sc9">equ</span><span class="sc0"> </span><span class="sc10">WORD</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc2">16</span><span class="sc0">











</span><span class="sc5">Client_Ptr_Flat</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0"> </span><span class="sc5">Reg_32</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Cli_Seg</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Cli_Off</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc5">Can_Trash_EAX</span><span class="sc0">

</span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Reg_32</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc8">EAX</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Can_Trash_EAX</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">USES_EAX</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">xchg</span><span class="sc0">    </span><span class="sc5">Reg_32</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc0">
    </span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
</span><span class="sc9">IFB</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Cli_Off</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">ax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Client_</span><span class="sc4">&amp;</span><span class="sc5">Cli_Seg</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">100h</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc2">0FFh</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
    </span><span class="sc6">mov</span><span class="sc0"> </span><span class="sc8">ax</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">Client_</span><span class="sc4">&amp;</span><span class="sc5">Cli_Seg</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">100h</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc4">+</span><span class="sc0"> </span><span class="sc5">Client_</span><span class="sc4">&amp;</span><span class="sc5">Cli_Off</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Map_Flat</span><span class="sc0">

</span><span class="sc9">IFDIFI</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc5">Reg_32</span><span class="sc4">&gt;,</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc8">EAX</span><span class="sc4">&gt;</span><span class="sc0">
    </span><span class="sc6">xchg</span><span class="sc0">    </span><span class="sc5">Reg_32</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">eax</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

    </span><span class="sc9">ENDM</span><span class="sc0">



</span><span class="sc5">VxDint</span><span class="sc0">  </span><span class="sc9">MACRO</span><span class="sc0">   </span><span class="sc5">Int_Number</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc4">(</span><span class="sc9">OPATTR</span><span class="sc0"> </span><span class="sc5">Int_Number</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">Int_Number</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0"> </span><span class="sc5">Int_Number</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Exec_VxD_Int</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">VxDintMustComplete</span><span class="sc0"> </span><span class="sc9">MACRO</span><span class="sc0">   </span><span class="sc5">Int_Number</span><span class="sc0">
    </span><span class="sc9">if</span><span class="sc0">  </span><span class="sc4">(</span><span class="sc9">OPATTR</span><span class="sc0"> </span><span class="sc5">Int_Number</span><span class="sc4">)</span><span class="sc0"> </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc5">Int_Number</span><span class="sc0">
    </span><span class="sc9">else</span><span class="sc0">
    </span><span class="sc6">push</span><span class="sc0">    </span><span class="sc10">DWORD</span><span class="sc0"> </span><span class="sc9">PTR</span><span class="sc0"> </span><span class="sc5">Int_Number</span><span class="sc0">
    </span><span class="sc9">endif</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">_ExecVxDIntMustComplete</span><span class="sc0">
    </span><span class="sc9">ENDM</span><span class="sc0">

</span><span class="sc5">Load_FS</span><span class="sc0">     </span><span class="sc9">macro</span><span class="sc0">
    </span><span class="sc5">VMMCall</span><span class="sc0"> </span><span class="sc5">Load_FS_Service</span><span class="sc0">
</span><span class="sc9">endm</span><span class="sc0">

</span><span class="sc9">endif</span><span class="sc0">
</span><span class="sc5">DUPLICATE_DEVICE_ID_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">DUPLICATE_DEVICE_ID</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DUPLICATE_DEVICE_ID_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DUPLICATE_FROM_INT2F_BIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">DUPLICATE_FROM_INT2F</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DUPLICATE_FROM_INT2F_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">LOADING_FROM_INT2F_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">LOADING_FROM_INT2F</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">LOADING_FROM_INT2F_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DEVICE_LOAD_OK</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">ABORT_DEVICE_LOAD</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">ABORT_WIN386_LOAD</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">DEVICE_NOT_NEEDED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">NO_FAIL_MESSAGE_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">15</span><span class="sc0">
</span><span class="sc5">NO_FAIL_MESSAGE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">NO_FAIL_MESSAGE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">LDRSRV_GET_PROFILE_STRING</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">LDRSRV_GET_NEXT_PROFILE_STRING</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">LDRSRV_RESERVED</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">LDRSRV_GET_PROFILE_BOOLEAN</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">LDRSRV_GET_PROFILE_DECIMAL_INT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">LDRSRV_GET_PROFILE_HEX_INT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">LDRSRV_COPY_EXTENDED_MEMORY</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">LDRSRV_GET_MEMORY_INFO</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">7</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegOpenKey</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">100H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegCreateKey</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">101H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegCloseKey</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">102H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegDeleteKey</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">103H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegSetValue</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">104H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegQueryValue</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">105H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegEnumKey</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">106H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegDeleteValue</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">107H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegEnumValue</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">108H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegQueryValueEx</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">109H</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegSetValueEx</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10AH</span><span class="sc0">
</span><span class="sc5">LDRSRV_RegFlushKey</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10BH</span><span class="sc0">
</span><span class="sc5">LDRSRV_COPY_INIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">LDRSRV_COPY_LOCKED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">LDRSRV_COPY_PAGEABLE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">RCODE_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">-</span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">LCODE_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">01H</span><span class="sc0">
</span><span class="sc5">LDATA_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02H</span><span class="sc0">
</span><span class="sc5">PCODE_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">03H</span><span class="sc0">
</span><span class="sc5">PDATA_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">SCODE_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">05H</span><span class="sc0">
</span><span class="sc5">SDATA_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">06H</span><span class="sc0">
</span><span class="sc5">CODE16_OBJ</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">07H</span><span class="sc0">
</span><span class="sc5">LMSG_OBJ</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">08H</span><span class="sc0">
</span><span class="sc5">PMSG_OBJ</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">09H</span><span class="sc0">
</span><span class="sc5">DBOC_OBJ</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0BH</span><span class="sc0">
</span><span class="sc5">DBOD_OBJ</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0CH</span><span class="sc0">
</span><span class="sc5">PLCODE_OBJ</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0DH</span><span class="sc0">
</span><span class="sc5">PPCODE_OBJ</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FH</span><span class="sc0">
</span><span class="sc5">ICODE_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">11H</span><span class="sc0">
</span><span class="sc5">IDATA_OBJ</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12H</span><span class="sc0">
</span><span class="sc5">ICODE16_OBJ</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">13H</span><span class="sc0">
</span><span class="sc5">IMSG_OBJ</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">14H</span><span class="sc0">

</span><span class="sc5">ObjectLocation</span><span class="sc0">  </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">OL_LinearAddr</span><span class="sc0">   </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">OL_Size</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">OL_ObjType</span><span class="sc0">  </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">ObjectLocation</span><span class="sc0">  </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">MAXOBJECTS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">25</span><span class="sc0">

</span><span class="sc5">Device_Location_List</span><span class="sc0">    </span><span class="sc9">STRUC</span><span class="sc0">
</span><span class="sc5">DLL_DDB</span><span class="sc0"> </span><span class="sc9">DD</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DLL_NumObjects</span><span class="sc0">  </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc10">?</span><span class="sc0">
</span><span class="sc5">DLL_ObjLocation</span><span class="sc0"> </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc9">SIZE</span><span class="sc0"> </span><span class="sc5">ObjectLocation</span><span class="sc0"> </span><span class="sc4">*</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0"> </span><span class="sc9">DUP</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc10">?</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">Device_Location_List</span><span class="sc0">    </span><span class="sc9">ENDS</span><span class="sc0">
</span><span class="sc5">PE_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">PE_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PE_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">MP_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">MP_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">MP_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">EM_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">EM_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">EM_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">TS_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">TS_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">TS_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">ET_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">ET_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">ET_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PG_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">31</span><span class="sc0">
</span><span class="sc5">PG_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PG_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">CF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">CF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">PF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">PF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">AF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">AF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">AF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">ZF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">ZF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">ZF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">SF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">7</span><span class="sc0">
</span><span class="sc5">SF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">SF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">TF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">8</span><span class="sc0">
</span><span class="sc5">TF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">TF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">IF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">9</span><span class="sc0">
</span><span class="sc5">IF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">IF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">DF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">10</span><span class="sc0">
</span><span class="sc5">DF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">DF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">OF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">11</span><span class="sc0">
</span><span class="sc5">OF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">OF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">IOPL_MASK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3000H</span><span class="sc0">
</span><span class="sc5">IOPL_BIT0</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">12</span><span class="sc0">
</span><span class="sc5">IOPL_BIT1</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">13</span><span class="sc0">
</span><span class="sc5">NT_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">14</span><span class="sc0">
</span><span class="sc5">NT_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">NT_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">RF_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">16</span><span class="sc0">
</span><span class="sc5">RF_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">RF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VM_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">17</span><span class="sc0">
</span><span class="sc5">VM_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VM_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">AC_BIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">18</span><span class="sc0">
</span><span class="sc5">AC_MASK</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">AC_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VIF_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">19</span><span class="sc0">
</span><span class="sc5">VIF_MASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VIF_BIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">VIP_BIT</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">20</span><span class="sc0">
</span><span class="sc5">VIP_MASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">VIP_BIT</span><span class="sc4">)</span><span class="sc0">






</span><span class="sc9">IFDEF</span><span class="sc0"> </span><span class="sc5">MASM6</span><span class="sc0">
</span><span class="sc5">loopde</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">looped</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopdne</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loopned</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopdz</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loopzd</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopdnz</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loopnzd</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ELSE</span><span class="sc0">
</span><span class="sc6">loopd</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loop</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopde</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loope</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopdne</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loopne</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopdz</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loopz</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc5">loopdnz</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">&lt;</span><span class="sc6">loopnz</span><span class="sc4">&gt;</span><span class="sc0">
</span><span class="sc9">ENDIF</span><span class="sc0">

</span><span class="sc5">P_SIZE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1000H</span><span class="sc0">
</span><span class="sc5">P_PRESBIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">P_PRES</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">P_PRESBIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">P_WRITEBIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">P_WRITE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">P_WRITEBIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">P_USERBIT</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">P_USER</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">P_USERBIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">P_ACCBIT</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">P_ACC</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">P_ACCBIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">P_DIRTYBIT</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">P_DIRTY</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc2">1</span><span class="sc0"> </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc5">P_DIRTYBIT</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">P_AVAIL</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">P_PRES</span><span class="sc4">+</span><span class="sc5">P_WRITE</span><span class="sc4">+</span><span class="sc5">P_USER</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">PG_VM</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">PG_SYS</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">PG_RESERVED1</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">PG_PRIVATE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">3</span><span class="sc0">
</span><span class="sc5">PG_RESERVED2</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">4</span><span class="sc0">
</span><span class="sc5">PG_RELOCK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">5</span><span class="sc0">
</span><span class="sc5">PG_INSTANCE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">6</span><span class="sc0">
</span><span class="sc5">PG_HOOKED</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">7</span><span class="sc0">
</span><span class="sc5">PG_IGNORE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFFFFFFFH</span><span class="sc0">
</span><span class="sc5">D_PRES</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">080H</span><span class="sc0">
</span><span class="sc5">D_NOTPRES</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D_DPL0</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D_DPL1</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">020H</span><span class="sc0">
</span><span class="sc5">D_DPL2</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">040H</span><span class="sc0">
</span><span class="sc5">D_DPL3</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">060H</span><span class="sc0">
</span><span class="sc5">D_SEG</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">010H</span><span class="sc0">
</span><span class="sc5">D_CTRL</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D_GRAN_BYTE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000H</span><span class="sc0">
</span><span class="sc5">D_GRAN_PAGE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">080H</span><span class="sc0">
</span><span class="sc5">D_DEF16</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">000H</span><span class="sc0">
</span><span class="sc5">D_DEF32</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">040H</span><span class="sc0">
</span><span class="sc5">D_CODE</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">08H</span><span class="sc0">
</span><span class="sc5">D_DATA</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D_X</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D_RX</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02H</span><span class="sc0">
</span><span class="sc5">D_C</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">D_R</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D_W</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">02H</span><span class="sc0">
</span><span class="sc5">D_ED</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">D_ACCESSED</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">RW_DATA_TYPE</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">D_PRES</span><span class="sc4">+</span><span class="sc5">D_SEG</span><span class="sc4">+</span><span class="sc5">D_DATA</span><span class="sc4">+</span><span class="sc5">D_W</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">R_DATA_TYPE</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">D_PRES</span><span class="sc4">+</span><span class="sc5">D_SEG</span><span class="sc4">+</span><span class="sc5">D_DATA</span><span class="sc4">+</span><span class="sc5">D_R</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">CODE_TYPE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">D_PRES</span><span class="sc4">+</span><span class="sc5">D_SEG</span><span class="sc4">+</span><span class="sc5">D_CODE</span><span class="sc4">+</span><span class="sc5">D_RX</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">D_PAGE32</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc5">D_GRAN_PAGE</span><span class="sc4">+</span><span class="sc5">D_DEF32</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">SELECTOR_MASK</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0FFF8H</span><span class="sc0">
</span><span class="sc5">SEL_LOW_MASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">0F8H</span><span class="sc0">
</span><span class="sc5">TABLE_MASK</span><span class="sc0">  </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">04H</span><span class="sc0">
</span><span class="sc5">RPL_MASK</span><span class="sc0">    </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">03H</span><span class="sc0">
</span><span class="sc5">RPL_CLR</span><span class="sc0"> </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc4">(</span><span class="sc6">NOT</span><span class="sc0"> </span><span class="sc5">RPL_MASK</span><span class="sc4">)</span><span class="sc0">
</span><span class="sc5">IVT_ROM_DATA_SIZE</span><span class="sc0">   </span><span class="sc9">EQU</span><span class="sc0"> </span><span class="sc2">500H</span><span class="sc0">
</span><span class="sc9">endif</span><span class="sc0">
</span></div></body>
</html>
