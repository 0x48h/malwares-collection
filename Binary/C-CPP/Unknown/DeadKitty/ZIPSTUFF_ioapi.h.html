<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc1 {
	color: #008000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #808080;
}
.sc9 {
	color: #804000;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #8000FF;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc1">/* ioapi.h -- IO base function header for compress/uncompress .zip
   files using zlib + zip or unzip API

   Version 1.01e, February 12th, 2005

   Copyright (C) 1998-2005 Gilles Vollant
*/</span><span class="sc0">

</span><span class="sc9">#ifndef _ZLIBIOAPI_H
#define _ZLIBIOAPI_H
</span><span class="sc0">

</span><span class="sc9">#define ZLIB_FILEFUNC_SEEK_CUR (1)
#define ZLIB_FILEFUNC_SEEK_END (2)
#define ZLIB_FILEFUNC_SEEK_SET (0)
</span><span class="sc0">
</span><span class="sc9">#define ZLIB_FILEFUNC_MODE_READ      (1)
#define ZLIB_FILEFUNC_MODE_WRITE     (2)
#define ZLIB_FILEFUNC_MODE_READWRITEFILTER (3)
</span><span class="sc0">
</span><span class="sc9">#define ZLIB_FILEFUNC_MODE_EXISTING (4)
#define ZLIB_FILEFUNC_MODE_CREATE   (8)
</span><span class="sc0">

</span><span class="sc9">#ifndef ZCALLBACK
</span><span class="sc0">
</span><span class="sc9">#if (defined(WIN32) || defined (WINDOWS) || defined (_WINDOWS)) &amp;&amp; defined(CALLBACK) &amp;&amp; defined (USEWINDOWS_CALLBACK)
#define ZCALLBACK CALLBACK
#else
#define ZCALLBACK
#endif
#endif
</span><span class="sc0">
</span><span class="sc9">#ifdef __cplusplus
</span><span class="sc16">extern</span><span class="sc0"> </span><span class="sc6">"C"</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
</span><span class="sc9">#endif
</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">open_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">filename</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">mode</span><span class="sc10">));</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc11">uLong</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">read_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">stream</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">buf</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">uLong</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">));</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc11">uLong</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">write_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">stream</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">buf</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">uLong</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">));</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0">   </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">tell_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">stream</span><span class="sc10">));</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0">   </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">seek_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">stream</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">uLong</span><span class="sc0"> </span><span class="sc11">offset</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">origin</span><span class="sc10">));</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0">    </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">close_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">stream</span><span class="sc10">));</span><span class="sc0">
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0">    </span><span class="sc10">(</span><span class="sc11">ZCALLBACK</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">testerror_file_func</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">voidpf</span><span class="sc0"> </span><span class="sc11">stream</span><span class="sc10">));</span><span class="sc0">

</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc16">struct</span><span class="sc0"> </span><span class="sc11">zlib_filefunc_def_s</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">open_file_func</span><span class="sc0">      </span><span class="sc11">zopen_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">read_file_func</span><span class="sc0">      </span><span class="sc11">zread_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">write_file_func</span><span class="sc0">     </span><span class="sc11">zwrite_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">tell_file_func</span><span class="sc0">      </span><span class="sc11">ztell_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">seek_file_func</span><span class="sc0">      </span><span class="sc11">zseek_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">close_file_func</span><span class="sc0">     </span><span class="sc11">zclose_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">testerror_file_func</span><span class="sc0"> </span><span class="sc11">zerror_file</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">voidpf</span><span class="sc0">              </span><span class="sc11">opaque</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0"> </span><span class="sc11">zlib_filefunc_def</span><span class="sc10">;</span><span class="sc0">



</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">fill_fopen_filefunc</span><span class="sc0"> </span><span class="sc11">OF</span><span class="sc10">((</span><span class="sc11">zlib_filefunc_def</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">pzlib_filefunc_def</span><span class="sc10">));</span><span class="sc0">

</span><span class="sc9">#define ZREAD(filefunc,filestream,buf,size) ((*((filefunc).zread_file))((filefunc).opaque,filestream,buf,size))
#define ZWRITE(filefunc,filestream,buf,size) ((*((filefunc).zwrite_file))((filefunc).opaque,filestream,buf,size))
#define ZTELL(filefunc,filestream) ((*((filefunc).ztell_file))((filefunc).opaque,filestream))
#define ZSEEK(filefunc,filestream,pos,mode) ((*((filefunc).zseek_file))((filefunc).opaque,filestream,pos,mode))
#define ZCLOSE(filefunc,filestream) ((*((filefunc).zclose_file))((filefunc).opaque,filestream))
#define ZERROR(filefunc,filestream) ((*((filefunc).zerror_file))((filefunc).opaque,filestream))
</span><span class="sc0">

</span><span class="sc9">#ifdef __cplusplus
</span><span class="sc10">}</span><span class="sc0">
</span><span class="sc9">#endif
</span><span class="sc0">
</span><span class="sc9">#endif
</span><span class="sc0">
</span></div></body>
</html>
